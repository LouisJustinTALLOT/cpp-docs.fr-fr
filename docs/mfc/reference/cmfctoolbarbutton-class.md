---
title: CMFCToolBarButton, classe
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: 8e96740ba6755f489be07fbf8996cfa8b049314a
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81754029"
---
# <a name="cmfctoolbarbutton-class"></a>CMFCToolBarButton, classe

Fournit la fonctionnalité de bouton aux barres d’outils.

## <a name="syntax"></a>Syntaxe

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Membres

### <a name="public-constructors"></a>Constructeurs publics

|Nom|Description|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Construit et initialise un objet `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Destructeur.|

### <a name="public-methods"></a>M&#233;thodes publiques

|Nom|Description|
|----------|-----------------|
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Précise si un utilisateur peut placer un bouton sur une barre d’outils ou un menu pendant la personnalisation.|
|[CMFCToolBarButton::CanBeStored](#canbestored)|Précise si le bouton peut être stocké.|
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Précise si un utilisateur peut étirer le bouton pendant la personnalisation.|
|[CMFCToolBarButton::CompareWith](#comparewith)|Compare cette instance avec `CMFCToolBarButton` l’objet fourni.|
|[CMFCToolBarButton::CopyDe](#copyfrom)|Copie les propriétés d’un autre bouton de barre d’outils sur le bouton actuel.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Crée `CMFCToolBarButton` un objet `COleDataObject` à partir de l’objet fourni.|
|`CMFCToolBarButton::CreateObject`|Utilisé par l'infrastructure pour créer une instance dynamique de ce type de classe.|
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Active ou désactive les entrées de souris et de clavier.|
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Copies du texte du bouton de la barre d’outils à un menu.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Récupère le format global de presse-papiers pour l’application.|
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Récupère la poignée de fenêtre qui est associée au bouton de la barre d’outils.|
|[CMFCToolBarButton::GetImage](#getimage)|Récupère l’index d’image du bouton.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Récupère la région de la zone cliente du bouton qui doit être redessiné.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Récupère la fenêtre parente du bouton.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Récupère la liste des commandes que l’utilisateur ne peut pas personnaliser.|
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Récupère la taille du texte du bouton.|
|[CMFCToolBarButton::HasFocus](#hasfocus)|Détermine si le bouton a la mise au point d’entrée actuelle.|
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Détermine si une bordure du bouton est affichée lorsqu’un utilisateur sélectionne le bouton.|
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Détermine si une image est affichée sur le bouton.|
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Détermine si une étiquette de texte est affichée sur le bouton.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Détermine si le bouton affiche un sous-mois.|
|[CMFCToolBarButton::IsEditable](#iseditable)|Détermine si le bouton peut être personnalisé.|
|[CMFCToolBarButton::IsExtrasize](#isextrasize)|Détermine si le bouton peut être affiché avec une bordure étendue.|
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Détermine si le bouton est en première position dans son groupe de boutons.|
|[CMFCToolBarButton::IsHidden](#ishidden)|Détermine si le bouton est caché.|
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Détermine si le bouton est situé sur une barre d’outils horizontale.|
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Précise si le bouton est dans la dernière position de son groupe de boutons.|
|[CMFCToolBarButton::IsLocked](#islocked)|Détermine si le bouton se trouve sur une barre d’outils verrouillée (non personnalisable).|
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Détermine si le bouton est le propriétaire de la poignée de fenêtre fournie.|
|[CMFCToolBarButton::IsVisible](#isvisible)|Détermine si le bouton de la barre d’outils est visible.|
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Détermine si la poignée de fenêtre sous-jacente du bouton est visible.|
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Précise si le bouton traite le [WM_COMMAND](/windows/win32/menurc/wm-command) message.|
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Appelé par le cadre lorsque le bouton est ajouté à une boîte de dialogue **Personnaliser.**|
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Précise si le bouton peut être traîné.|
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Précise si un utilisateur peut déposer le bouton sur la barre d’outils cible.|
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Appelé par le cadre pour calculer la taille du bouton pour le contexte de l’appareil spécifié et l’état d’amarrage.|
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Appelé par le cadre pour gérer le [message WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Appelé par le cadre lorsque le bouton est inséré dans une nouvelle barre d’outils.|
|[CMFCToolBarButton::OnClick](#onclick)|Appelé par le cadre lorsque l’utilisateur clique sur le bouton de la souris.|
|[CMFCToolBarButton::OnClickUp](#onclickup)|Appelé par le cadre lorsque l’utilisateur libère le bouton de la souris.|
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Appelé par le cadre lorsque le barre d’outils parent gère un message WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Appelé par le cadre lorsque le barre d’outils parent gère un message WM_CTLCOLOR.|
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Permet au bouton de modifier le menu fourni lorsque l’application affiche un menu raccourci sur la barre d’outils parent.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Appelé par le cadre lorsque le barre d’outils parent gère un [message WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)|
|[CMFCToolBarButton::OnDraw](#ondraw)|Appelé par le cadre pour dessiner le bouton en utilisant les styles spécifiés et les options.|
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Appelé par le cadre pour dessiner le bouton dans le volet **Commandes** de la boîte de dialogue **Customize.**|
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Appelé par le cadre pour récupérer le texte de pointe d’outil personnalisé pour le bouton.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Appelé par le cadre lorsque la police mondiale a changé.|
|[CMFCToolBarButton::OnMove](#onmove)|Appelé par le cadre lorsque la barre d’outils parent se déplace.|
|[CMFCToolBarButton::OnShow](#onshow)|Appelé par le cadre lorsque le bouton devient visible ou invisible.|
|[CMFCToolBarButton::OnSize](#onsize)|Appelé par le cadre lorsque la barre d’outils parente change de taille ou de position et ce changement nécessite le bouton pour changer de taille.|
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Appelé par le cadre lorsque la barre d’outils parent doit déterminer si un point est dans le rectangle de délimitation du bouton.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Appelé par le cadre lorsque la barre d’outils parent met à jour son texte tooltip.|
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Appelé par le cadre lorsque le bouton est sur le point d’effectuer une opération de drag-and-drop.|
|[CMFCToolBarButton::Rect](#rect)|Récupère le rectangle de délimitation du bouton.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Définit à la valeur par défaut l’image qui est associée au bouton.|
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Enregistre l’état du bouton de la barre d’outils.|
|[CMFCToolBarButton::Serialize](#serialize)|Lit cet objet à partir d’une archive ou l’écrit à une archive. (Substitue [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|
|[CMFCToolBarButton::SetACCData](#setaccdata)|Remplit l’objet fourni `CAccessibilityData` avec des données d’accessibilité à partir du bouton de la barre d’outils.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Renomme le format global de presse-papiers.|
|[CMFCToolBarButton::SetImage](#setimage)|Définit l’index d’image du bouton.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Définit la liste des commandes que l’utilisateur ne peut pas personnaliser.|
|[CMFCToolBarButton::SetRadio](#setradio)|Appelé par le cadre quand un bouton change son état vérifié.|
|[CMFCToolBarButton::SetRect](#setrect)|Définit le rectangle de délimitation du bouton.|
|[CMFCToolBarButton::SetStyle](#setstyle)|Définit le style du bouton.|
|[CMFCToolBarButton::SetVisible](#setvisible)|Précise si le bouton est visible.|
|[CMFCToolBarButton::Voir](#show)|Affiche ou cache le bouton.|

### <a name="data-members"></a>Données membres

|Nom|Description|
|----------|-----------------|
|[CMFCToolBarButton:m_bImage](#m_bimage)|Précise si une image est affichée sur le bouton.|
|[CMFCToolBarButton:m_bText](#m_btext)|Précise si une étiquette de texte est affichée sur le bouton.|
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Précise si l’étiquette de texte est affichée sous l’image sur le bouton.|
|[CMFCToolBarButton:m_bUserButton](#m_buserbutton)|Précise si le bouton a une image définie par l’utilisateur.|
|[CMFCToolBarButton:m_bWholeText](#m_bwholetext)|Précise si le bouton affiche son étiquette de texte intégral même si elle ne rentre pas dans le rectangle de délimitation.|
|[CMFCToolBarButton:m_bWrap](#m_bwrap)|Précise si le bouton à côté d’un séparateur sera mis sur la rangée suivante.|
|[CMFCToolBarButton:m_bWrapText](#m_bwraptext)|Précise si les étiquettes de texte multi-lignes sont activées.|
|[CMFCToolBarButton::m_nID](#m_nid)|L’ID de commande du bouton.|
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|Le style du bouton.|
|[CMFCToolBarButton:m_strText](#m_strtext)|L’étiquette de texte du bouton.|

## <a name="remarks"></a>Notes

Un `CMFCToolbarButton` objet est un contrôle qui réside sur une barre d’outils. Son comportement ressemble à celui d’un bouton ordinaire. Vous pouvez attribuer une image et une étiquette de texte à cet objet. Un bouton de barre d’outils peut également avoir une pièce d’identité de commande. Lorsque l’utilisateur clique sur le bouton de la barre d’outils, le cadre exécute la commande que cet ID spécifie.

En règle générale, les boutons de la barre d’outils peuvent être personnalisés : l’utilisateur peut faire glisser les boutons d’une barre d’outils à l’autre, et copier, coller, supprimer et modifier des étiquettes et des images de texte. Pour empêcher l’utilisateur de personnaliser la barre d’outils, vous pouvez verrouiller la barre d’outils de deux façons. Définissez `bLocked` le drapeau en TRUE lorsque vous appelez [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar), ou ajoutez l’ID de commande d’un bouton individuel à la liste globale des commandes protégées en utilisant la méthode [CMFCToolBarButton::SetProtectedCommands.](#setprotectedcommands)

`CMFCToolBarButton`les objets affichent des images des collections mondiales d’images de barres d’outils dans l’application. Ces collections sont maintenues par la barre d’outils parent, [CMFCToolBar Class](../../mfc/reference/cmfctoolbar-class.md). Pour plus d’informations, voir [CMFCToolBarImages Class](../../mfc/reference/cmfctoolbarimages-class.md).

Lorsque l’utilisateur clique sur un bouton de barre d’outils, sa barre d’outils parente traite le message de la souris et communique les actions appropriées au bouton. Si le bouton a une pièce d’identité de commande valide, la barre d’outils parente envoie le message WM_COMMAND au cadre parent.

La `CMFCToolBarButton` classe est la classe de base pour d’autres classes de boutons de barre d’outils, telles que [CMFCToolBarMenuButton Class](../../mfc/reference/cmfctoolbarmenubutton-class.md), [CMFCToolBarEditBoxButton Class](../../mfc/reference/cmfctoolbareditboxbutton-class.md), et [CMFCToolBarComboBoxButton Class](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).

## <a name="example"></a>Exemple

L’exemple suivant montre comment `CMFCToolBarButton` configurer un objet `CMFCToolBarButton` en utilisant différentes méthodes dans la classe. L’exemple illustre comment activer l’entrée de la souris et du clavier, définir l’index d’image du bouton, définir le rectangle de délimitation du bouton et rendre le bouton visible. Cet extrait de code fait partie de [l’échantillon tab Control](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Hiérarchie d'héritage

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>Spécifications

**En-tête:** afxtoolbarbutton.h

## <a name="cmfctoolbarbuttoncanbedropped"></a><a name="canbedropped"></a>CMFCToolBarButton::CanBeDropped

Précise si un utilisateur peut placer un bouton sur une barre d’outils ou un menu pendant la personnalisation.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Paramètres

*pToolbar*<br/>
[in] Inutilisé.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie TRUE.

### <a name="remarks"></a>Notes

Par défaut, un bouton de barre d’outils peut être supprimé sur chaque barre d’outils personnalisable (c’est-à-dire non verrouillée).

La mise en œuvre par défaut de cette méthode renvoie TRUE. Remplacez cette méthode et retournez FALSE si vous souhaitez empêcher l’utilisateur de repositionner le bouton.

## <a name="cmfctoolbarbuttoncanbestored"></a><a name="canbestored"></a>CMFCToolBarButton::CanBeStored

Détermine si le bouton peut être stocké.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie TRUE.

### <a name="remarks"></a>Notes

Le cadre utilise cette méthode pour déterminer si le bouton peut participer à une opération de drag-and-drop.

La implémentation par défaut renvoie TRUE. Remplacez cette méthode si votre bouton ne peut pas être stocké dans le cadre d’une opération de drag-and-drop. Pour plus d’informations sur les opérations de drag-and-drop, voir [OLE glisser et baisser](../../mfc/drag-and-drop-ole.md).

## <a name="cmfctoolbarbuttoncanbestretched"></a><a name="canbestretched"></a>CMFCToolBarButton::CanBeStretched

Précise si un utilisateur peut étirer le bouton pendant la personnalisation.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

Cette méthode est utilisée par le cadre pour déterminer si le bouton peut être étiré en mode de personnalisation.

La mise en œuvre par défaut de cette méthode renvoie FALSE. Remplacer cette méthode pour retourner TRUE pour un contrôle à largeur variable comme une boîte combo ou un curseur.

Pour plus d’informations sur le mode de personnalisation, voir [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

## <a name="cmfctoolbarbuttoncmfctoolbarbutton"></a><a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton

Construit et initialise un objet `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Paramètres

*uiID*<br/>
[dans] L’ID de commande du bouton.

*iImage (en)*<br/>
[dans] L’index d’image du bouton dans la collection d’images.

*lpszText*<br/>
[dans] L’étiquette de texte du bouton. Sa valeur peut être NULL.

*bUserButton*<br/>
[dans] Une valeur Boolean qui détermine si le bouton est défini par l’utilisateur. Si ce paramètre est VRAI, le bouton est défini par l’utilisateur. Dans le cas contraire, l’image bouton est chargée à partir d’une ressource.

*Bloqué*<br/>
[dans] Une valeur Boolean qui détermine si le bouton peut être personnalisé. Si ce paramètre est VRAI, le bouton ne peut pas être personnalisé. Sinon, le bouton peut être personnalisé.

## <a name="cmfctoolbarbuttoncomparewith"></a><a name="comparewith"></a>CMFCToolBarButton::CompareWith

Compare cette instance avec `CMFCToolBarButton` l’objet fourni.

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Paramètres

*Autres*<br/>
[dans] Référence à l’objet à comparer avec cette instance.

### <a name="return-value"></a>Valeur de retour

Nonzero si l’objet fourni est égal à la valeur de cette instance; autrement, 0.

### <a name="remarks"></a>Notes

L’implémentation par défaut détermine si l’id de commande de l’objet fourni équivaut à l’ID de commande de cette instance. Remplacer cette méthode si vous devez effectuer `CMFCToolBarButton` un traitement supplémentaire pour déterminer si deux objets sont égaux.

## <a name="cmfctoolbarbuttoncopyfrom"></a><a name="copyfrom"></a>CMFCToolBarButton::CopyDe

Copie les propriétés d’un autre bouton de barre d’outils sur le bouton actuel.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Paramètres

*src*<br/>
[dans] Une référence au bouton source à partir duquel copier.

### <a name="remarks"></a>Notes

Appelez cette méthode pour copier un autre bouton de barre d’outils sur ce bouton de barre d’outils.

## <a name="cmfctoolbarbuttoncreatefromoledata"></a><a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData

Crée `CMFCToolBarButton` un objet `COleDataObject` à partir de l’objet fourni.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Paramètres

*pDataObject*<br/>
[dans] L’objet de données source OLE.

### <a name="return-value"></a>Valeur de retour

Objet `CMFCToolBarButton` créé.

### <a name="remarks"></a>Notes

Cette méthode est utilisée par le cadre pour effectuer le transfert de données dans différents formats. Par exemple, `CMFCOutlookBarPane::OnDragOver` la méthode utilise cette méthode pour effectuer des opérations de drag-and-drop.

## <a name="cmfctoolbarbuttonenablewindow"></a><a name="enablewindow"></a>CMFCToolBarButton::EnableWindow

Active ou désactive les entrées de souris et de clavier.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Paramètres

*bEnable*<br/>
[dans] Définissez ce paramètre à TRUE pour activer l’entrée, ou à FALSE pour désactiver l’entrée.

### <a name="remarks"></a>Notes

Cette méthode `EnableWindow` appelle la fonction pour activer ou désactiver l’entrée. Pour plus d’informations, voir [EnableWindow](/windows/win32/api/winuser/nf-winuser-enablewindow) dans windows SDK.

## <a name="cmfctoolbarbuttonexporttomenubutton"></a><a name="exporttomenubutton"></a>CMFCToolBarButton::ExportToMenuButton

Copies du texte du bouton de la barre d’outils à un menu.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Paramètres

*menuButton*<br/>
[dans] Une référence au bouton du menu cible.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie TRUE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour copier le texte à partir d’un bouton de barre d’outils à un bouton de menu. L’implémentation par défaut copie l’étiquette de texte du bouton. Si l’étiquette de texte est vide, cette méthode copie le texte de l’outil du bouton.

La mise en œuvre par défaut de cette méthode renvoie TRUE. Remplacez cette méthode si vous souhaitez prendre des mesures supplémentaires lorsque le cadre convertit un objet dérivé de [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) en un bouton de menu.

## <a name="cmfctoolbarbuttongetclipboardformat"></a><a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat

Récupère le format global de presse-papiers pour l’application.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Valeur de retour

La valeur MONDIALE CLIPFORMAT pour l’application.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour récupérer le format de presse-papiers pour les opérations de transfert de données OLE. Par exemple, la méthode [CMFCToolBarButton::CreateFromOleData](#createfromoledata) utilise cette méthode pour copier les données d’un objet de données OLE source.

Cette méthode définit la valeur mondiale CLIPFORMAT la première fois que cette méthode est appelée. Tous les appels ultérieurs à cette méthode retournent cette valeur.

Pour permettre aux opérations de drag-and-drop de se produire entre les applications, appelez la méthode [CMFCToolBarButton : : SetClipboardFormatName.](#setclipboardformatname)

Pour plus d’informations sur les presse-papiers dans MFC, voir [Clipboard](../../mfc/clipboard.md).

## <a name="cmfctoolbarbuttongethwnd"></a><a name="gethwnd"></a>CMFCToolBarButton::GetHwnd

Récupère la poignée de fenêtre qui est associée au bouton de la barre d’outils.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Valeur de retour

La poignée de fenêtre qui est associée au bouton de la barre d’outils ou NULL si le bouton de barre d’outils n’a pas de poignée de fenêtre associée.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode renvoie NULL. Remplacer cette méthode pour retourner la poignée de fenêtre de votre contrôle spécifique.

## <a name="cmfctoolbarbuttongetimage"></a><a name="getimage"></a>CMFCToolBarButton::GetImage

Récupère l’index d’image du bouton.

```
int GetImage() const;
```

### <a name="return-value"></a>Valeur de retour

L’index de l’image associé à ce bouton.

### <a name="remarks"></a>Notes

Si le bouton a une image définie par l’utilisateur (c’est-à-dire, si *bUserButton* était VRAI dans le constructeur), l’index retourné spécifie une image dans la collection d’images définies par l’utilisateur (voir [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). Sinon, l’index spécifie une image dans la collection d’images chargées à partir d’un fichier de ressources (voir [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Pour plus d’informations sur les fichiers de ressources, voir [Travailler avec les fichiers de ressources](../../windows/working-with-resource-files.md).

## <a name="cmfctoolbarbuttongetinvalidaterect"></a><a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect

Récupère la région de la zone cliente du bouton qui doit être redessiné.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Valeur de retour

Un `CRect` objet qui spécifie la région qui doit être redessiné.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode renvoie l’ensemble de la zone client. Remplacez cette méthode si vous souhaitez qu’une zone différente soit redessinée.

## <a name="cmfctoolbarbuttongetparentwnd"></a><a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd

Récupère la fenêtre parente du bouton.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Valeur de retour

La fenêtre parente du bouton.

## <a name="cmfctoolbarbuttongetprotectedcommands"></a><a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands

Récupère la liste des commandes que l’utilisateur ne peut pas personnaliser.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Valeur de retour

La liste des commandes protégées.

### <a name="remarks"></a>Notes

En mode personnalisation, le cadre désactive les commandes de boutons de barre d’outils qui sont protégées. L’utilisateur ne peut pas effectuer des opérations de drag-and-drop et d’édition sur les boutons de barre d’outils désactivés.

Utilisez la méthode [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) pour définir la liste des commandes protégées.

## <a name="cmfctoolbarbuttongettextsize"></a><a name="gettextsize"></a>CMFCToolBarButton::GetTextSize

Récupère la taille du texte du bouton.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Valeur de retour

Un objet SIZE qui contient la taille, en pixels, du texte du bouton.

## <a name="cmfctoolbarbuttonhasfocus"></a><a name="hasfocus"></a>CMFCToolBarButton::HasFocus

Détermine si le bouton a la mise au point d’entrée actuelle.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton a la mise au point d’entrée; sinon 0.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode renvoie nonzero si le bouton a la mise au point d’entrée ou est une fenêtre enfant ou descendant de la fenêtre qui a la mise au point d’entrée. Vous pouvez remplacer cette fonction pour personnaliser ce comportement.

## <a name="cmfctoolbarbuttonhavehotborder"></a><a name="havehotborder"></a>CMFCToolBarButton::HaveHotBorder

Détermine si une bordure du bouton est affichée lorsqu’un utilisateur sélectionne le bouton.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie TRUE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour déterminer si le bouton de la barre d’outils doit afficher sa bordure lorsqu’un utilisateur la sélectionne.

La implémentation par défaut renvoie TRUE. Vous pouvez passer outre à cette méthode pour personnaliser ce comportement.

## <a name="cmfctoolbarbuttonisdrawimage"></a><a name="isdrawimage"></a>CMFCToolBarButton::IsDrawImage

Détermine si une image est affichée sur le bouton.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si une image est affichée sur le bouton; sinon 0.

### <a name="remarks"></a>Notes

Cette méthode renvoie FALSE si le bouton de la barre d’outils n’a pas d’image associée ( [CMFCToolBarButton::GetImage](#getimage) retourne -1) ou si [CMFCToolBarButton::m_bImage](#m_bimage) est réglé sur FALSE.

## <a name="cmfctoolbarbuttonisdrawtext"></a><a name="isdrawtext"></a>CMFCToolBarButton::IsDrawText

Détermine si une étiquette de texte est affichée sur le bouton.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si une étiquette de texte est affichée; sinon 0.

### <a name="remarks"></a>Notes

Cette méthode renvoie FALSE si le bouton de la barre d’outils n’a pas d’étiquette de texte associée ( [CMFCToolBarButton::m_strText](#m_strtext) est vide) ou [CMFCToolBarButton::m_bText](#m_btext) est réglé sur FALSE.

## <a name="cmfctoolbarbuttonisdroppeddown"></a><a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown

Détermine si le bouton affiche un sous-mois.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode renvoie FALSE. Remplacez cette méthode pour retourner VRAI si votre contrôle affiche un sous-mois.

## <a name="cmfctoolbarbuttoniseditable"></a><a name="iseditable"></a>CMFCToolBarButton::IsEditable

Détermine si le bouton peut être personnalisé.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si un bouton peut être personnalisé par l’utilisateur; sinon 0.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour déterminer si l’utilisateur peut personnaliser le bouton de la barre d’outils en utilisant des opérations de drag-and-drop ou de modification.

L’implémentation par défaut renvoie FALSE si l’ID de `IsStandardCommand` commande du bouton est une commande standard (vous pouvez le déterminer en appelant la fonction) ou si l’ID de commande figure dans la liste des commandes protégées. Pour plus d’informations sur les commandes protégées, voir [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) et [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).

Remplacer cette méthode pour personnaliser son comportement.

## <a name="cmfctoolbarbuttonisextrasize"></a><a name="isextrasize"></a>CMFCToolBarButton::IsExtrasize

Détermine si le bouton peut être affiché avec une bordure étendue.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton de la barre d’outils peut être affiché avec une bordure étendue; sinon 0.

### <a name="remarks"></a>Notes

Plusieurs peaux utilisent une taille supplémentaire pour les bordures des boutons de barre d’outils (par exemple, des boutons ronds).

Si l’utilisateur déplace ce bouton d’une barre d’outils à l’autre, le cadre appelle le [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) méthode. La [méthode CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) méthode définit le drapeau de taille supplémentaire à celle de la nouvelle barre d’outils parent (pour plus d’informations, voir [CMFCToolBar::IsButtonExtrasizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

## <a name="cmfctoolbarbuttonisfirstingroup"></a><a name="isfirstingroup"></a>CMFCToolBarButton::IsFirstInGroup

Détermine si le bouton est en première position dans son groupe de boutons.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Valeur de retour

VRAI si le bouton est le premier bouton de son groupe de boutons; autrement FALSE.

### <a name="remarks"></a>Notes

Cette méthode définit un *groupe de boutons* comme un ensemble voisin de boutons qui sont positionnés sur la même rangée et sont délimités par des séparateurs ou la bordure de la barre d’outils. Cette méthode renvoie FALSE si le bouton de la barre d’outils se réfère au bouton **Personnaliser.** Pour plus d’informations sur le bouton **Customize,** voir [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Appelez la [méthode CMFCToolBarButton ::IsLastInGroup](#islastingroup) pour déterminer si le bouton est en dernière position dans son groupe de boutons.

## <a name="cmfctoolbarbuttonishidden"></a><a name="ishidden"></a>CMFCToolBarButton::IsHidden

Détermine si le bouton est caché.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton est caché (invisible); sinon 0.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsque la barre d’outils parent est étirée pour déterminer si le bouton de la barre d’outils est visible.

Si vous définissez le bouton pour être invisible en utilisant le [CMFCToolBarButton::SetVisible](#setvisible) méthode, utilisez [CMFCToolBarButton::IsVisible](#isvisible) pour déterminer si le bouton de la barre d’outils est visible.

Par défaut, tous les boutons de barre d’outils sont visibles. Utilisez le [CMFCToolBarButton::Montrez](#show) la méthode pour masquer ou afficher les boutons de la barre d’outils.

## <a name="cmfctoolbarbuttonishorizontal"></a><a name="ishorizontal"></a>CMFCToolBarButton::IsHorizontal

Détermine si le bouton est situé sur une barre d’outils horizontale.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si un bouton de barre d’outils est situé sur une barre d’outils horizontale; sinon 0.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour déterminer la disposition des boutons de barre d’outils.

Cette méthode `m_bHorz` renvoie le membre des données. La valeur par `m_bHorz` défaut du membre de données est VRAI; il est réinitialisé sur chaque appel à la [méthode CMFCToolBarButton::OnDraw](#ondraw) méthode.

## <a name="cmfctoolbarbuttonislastingroup"></a><a name="islastingroup"></a>CMFCToolBarButton::IsLastInGroup

Précise si le bouton est dans la dernière position de son groupe de boutons.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Valeur de retour

VRAI si le bouton est le dernier bouton de son groupe de boutons; autrement FALSE.

### <a name="remarks"></a>Notes

Cette méthode définit un *groupe de boutons* comme un ensemble voisin de boutons qui sont positionnés sur la même rangée et sont délimités par des séparateurs ou la bordure de la barre d’outils Cette méthode renvoie FALSE si le bouton de la barre d’outils n’a pas de barre d’outils parent ou le bouton de barre d’outils se réfère au bouton **Customize.** Pour plus d’informations sur le bouton **Customize,** voir [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Appelez la [méthode CMFCToolBarButton : : Méthode IsFirstInGroup](#isfirstingroup) pour déterminer si le bouton est en première position dans son groupe de boutons.

## <a name="cmfctoolbarbuttonislocked"></a><a name="islocked"></a>CMFCToolBarButton::IsLocked

Détermine si le bouton se trouve sur une barre d’outils verrouillée (non personnalisable).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton est sur une barre d’outils verrouillée; sinon 0.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour déterminer si l’utilisateur peut personnaliser le bouton de la barre d’outils en utilisant des opérations de drag-and-drop ou de modification. Réglez l’attribut verrouillé sur la barre d’outils parent en utilisant la méthode [CMFCToolBar:LoadToolBar.](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) Le cadre passe la valeur de cet attribut au constructeur de chaque bouton de barre d’outils ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)) qu’il insère dans la barre d’outils parent.

## <a name="cmfctoolbarbuttonisownerof"></a><a name="isownerof"></a>CMFCToolBarButton::IsOwnerOf

Détermine si le bouton est le propriétaire de la poignée de fenêtre fournie.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Paramètres

*Hwnd*<br/>
[dans] Une poignée de fenêtre.

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton est le propriétaire de la poignée de fenêtre fournie; sinon 0.

### <a name="remarks"></a>Notes

Cette méthode renvoie nonzero si *hwnd* se réfère soit à la poignée de fenêtre directe ou est un enfant de la poignée de fenêtre qui est associée au bouton. Cette méthode renvoie 0 si *hwnd* est NULL.

## <a name="cmfctoolbarbuttonisvisible"></a><a name="isvisible"></a>CMFCToolBarButton::IsVisible

Détermine si le bouton de la barre d’outils est visible.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Valeur de retour

Nonzero si le bouton de la barre d’outils est visible; sinon 0.

### <a name="remarks"></a>Notes

Vous pouvez afficher ou masquer le bouton de la barre d’outils en utilisant la méthode [CMFCToolBarButton::SetVisible.](#setvisible) Appelez le [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) méthode sur la barre d’outils parent après que vous appelez [CMFCToolBarButton::SetVisible](#setvisible) pour recalculer la disposition d’une barre d’outils parent.

## <a name="cmfctoolbarbuttoniswindowvisible"></a><a name="iswindowvisible"></a>CMFCToolBarButton::IsWindowVisible

Détermine si la poignée de fenêtre sous-jacente du bouton est visible.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Valeur de retour

Nonzero si la poignée de fenêtre sous-jacente du bouton est visible; sinon 0.

### <a name="remarks"></a>Notes

Cette méthode renvoie nonzero si l’attribut de styles de la poignée de fenêtre sous-jacente contient le style WS_VISIBLE. Cette méthode renvoie FALSE si la poignée de fenêtre sous-jacente du bouton est NULL.

## <a name="cmfctoolbarbuttonm_bimage"></a><a name="m_bimage"></a>CMFCToolBarButton:m_bImage

Précise si une image est affichée sur le bouton.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Notes

Si ce membre de données est configuré sur TRUE, le cadre affiche l’image associée au bouton de la barre d’outils; sinon le cadre n’affiche pas l’image. Ce membre affecte la valeur de retour de la [méthode CMFCToolBarButton ::m_bImage](#m_bimage) méthode.

## <a name="cmfctoolbarbuttonm_btext"></a><a name="m_btext"></a>CMFCToolBarButton:m_bText

Précise si une étiquette de texte est affichée sur le bouton.

```
BOOL m_bText;
```

### <a name="remarks"></a>Notes

Si ce membre de données est configuré sur TRUE, le cadre affiche l’étiquette de texte du bouton de la barre d’outils; sinon le cadre n’affiche pas l’étiquette de texte. Ce membre affecte la valeur de retour de la [méthode CMFCToolBarButton ::m_bText](#m_btext) méthode.

## <a name="cmfctoolbarbuttonm_btextbelow"></a><a name="m_btextbelow"></a>CMFCToolBarButton::m_bTextBelow

Précise si l’étiquette de texte est affichée sous l’image sur le bouton.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Notes

Si cette variable de membre est définie sur TRUE, le cadre affiche le texte du bouton sous l’image. La valeur par défaut de ce membre est FALSE.

## <a name="cmfctoolbarbuttonm_buserbutton"></a><a name="m_buserbutton"></a>CMFCToolBarButton:m_bUserButton

Précise si le bouton a une image définie par l’utilisateur

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Notes

Ce membre de données est configuré sur TRUE lorsque le bouton dispose d’une image définie par l’utilisateur qui lui est associée.

## <a name="cmfctoolbarbuttonm_bwholetext"></a><a name="m_bwholetext"></a>CMFCToolBarButton:m_bWholeText

Précise si le bouton affiche son étiquette de texte intégral même si elle ne rentre pas dans le rectangle de délimitation.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Notes

Si ce membre de données est configuré sur TRUE, le cadre affiche l’étiquette de texte intégral en élargissant le bouton. Sinon, le cadre tronque et appende une ellipsis ( **...**) à l’étiquette de texte.

## <a name="cmfctoolbarbuttonm_bwrap"></a><a name="m_bwrap"></a>CMFCToolBarButton:m_bWrap

Précise si le bouton à côté d’un séparateur sera mis sur la rangée suivante.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Notes

Le cadre définit ce membre des données à TRUE lorsque le bouton de la barre d’outils ne s’inscrit pas sur la ligne actuelle ou lorsque vous spécifiez une mise en page (par exemple, un nombre spécifique de boutons de barre d’outils par rangée).

Le cadre place ce bouton sur la ligne suivante si ce membre de données est réglé sur TRUE et que la barre d’outils est amarré horizontalement ou flottant.

La valeur par défaut de ce membre de données est FALSE.

## <a name="cmfctoolbarbuttonm_bwraptext"></a><a name="m_bwraptext"></a>CMFCToolBarButton:m_bWrapText

Précise si les étiquettes de texte multi-lignes sont activées.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Notes

Si cette variable de membre statique est VRAI, le cadre permet à toutes les barres d’outils d’afficher des étiquettes de texte multi-lignes sur les boutons de la barre d’outils.

La valeur par défaut de ce membre de données est FALSE.

## <a name="cmfctoolbarbuttonm_nid"></a><a name="m_nid"></a>CMFCToolBarButton::m_nID

L’ID de commande du bouton.

```
UINT m_nID;
```

### <a name="remarks"></a>Notes

Une carte d’identité de -1 indique que le bouton est un séparateur. Tous les séparateurs de bouton ont le style TBBS_SEPARATOR. Voir [CMFCToolBarButton:m_nStyle](#m_nstyle) pour plus d’informations sur les styles de boutons.

## <a name="cmfctoolbarbuttonm_nstyle"></a><a name="m_nstyle"></a>CMFCToolBarButton::m_nStyle

Le style du bouton.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Notes

Consultez [ToolBar Control Styles](../../mfc/reference/toolbar-control-styles.md) pour la liste des styles de boutons de barre d’outils disponibles.

## <a name="cmfctoolbarbuttonm_strtext"></a><a name="m_strtext"></a>CMFCToolBarButton:m_strText

L’étiquette de texte du bouton.

```
CString m_strText;
```

### <a name="remarks"></a>Notes

Ce membre des données contient l’étiquette de texte du bouton. L’étiquette de texte peut être vide.

## <a name="cmfctoolbarbuttonnotifycommand"></a><a name="notifycommand"></a>CMFCToolBarButton::NotifyCommand

Précise si le bouton traite le [WM_COMMAND](/windows/win32/menurc/wm-command) message.

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Paramètres

*iNotifyCode (en)*<br/>
[dans] Le message de notification associé à la commande.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsqu’elle est sur le point d’envoyer un [message WM_COMMAND](/windows/win32/menurc/wm-command) à la fenêtre parente.

Par défaut, cette méthode renvoie FALSE. Remplacez cette méthode pour retourner TRUE si vous souhaitez traiter le WM_COMMAND message ou FALSE pour indiquer que la barre d’outils parente doit gérer le message.

## <a name="cmfctoolbarbuttononaddtocustomizepage"></a><a name="onaddtocustomizepage"></a>CMFCToolBarButton::OnAddToCustomizePage

Appelé par le cadre lorsque le bouton est ajouté à une boîte de dialogue **Personnaliser.**

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacez cette méthode si vous souhaitez effectuer une action lorsque le bouton est ajouté à une boîte de dialogue **personnaliser.**

## <a name="cmfctoolbarbuttononbeforedrag"></a><a name="onbeforedrag"></a>CMFCToolBarButton::OnBeforeDrag

Précise si le bouton peut être traîné.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valeur de retour

VRAI si le bouton peut être traîné; autrement FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode avant que l’utilisateur commence à faire glisser le bouton.

La mise en œuvre par défaut de cette méthode renvoie TRUE. Remplacer cette méthode pour retourner FALSE pour désactiver le glissement du bouton.

## <a name="cmfctoolbarbuttononbeforedrop"></a><a name="onbeforedrop"></a>CMFCToolBarButton::OnBeforeDrop

Précise si un utilisateur peut déposer le bouton sur la barre d’outils cible.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Paramètres

*pTarget*<br/>
[dans] La cible de l’opération de drag-and-drop.

### <a name="return-value"></a>Valeur de retour

VRAI si le bouton peut être déposé sur la barre d’outils cible fournie; autrement FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode avant que le bouton ne soit déposé sur une barre d’outils.

La mise en œuvre par défaut de cette méthode renvoie TRUE. Remplacer cette méthode pour renvoyer FALSE pour désactiver l’opération de chute sur la cible spécifiée.

## <a name="cmfctoolbarbuttononcalculatesize"></a><a name="oncalculatesize"></a>CMFCToolBarButton::OnCalculateSize

Appelé par le cadre pour calculer la taille du bouton pour le contexte de l’appareil spécifié et l’état d’amarrage.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Paramètres

*pDC*<br/>
[dans] Le contexte de l’appareil qui affiche le bouton.

*tailleDefault*<br/>
[dans] La taille par défaut du bouton.

*bHorz (en)*<br/>
[dans] L’état de quai de la barre d’outils parent. Ce paramètre est VRAI si la barre d’outils est amarré horizontalement ou flotte, ou FALSE si la barre d’outils est amarré verticalement.

### <a name="return-value"></a>Valeur de retour

Une `SIZE` structure qui contient les dimensions du bouton, en pixels.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour déterminer la taille du bouton de la barre d’outils pour le contexte de l’appareil spécifié et l’état de quai.

La mise en œuvre par défaut tient compte de la taille du texte et de l’image (si elles sont affichées), des positions de texte et d’image (le texte ci-dessous ou à droite de l’image) et de l’état du dock de la barre d’outils.

Remplacez cette méthode si vous souhaitez fournir la taille d’un bouton non standard (par exemple, un bouton de boîte de modification).

## <a name="cmfctoolbarbuttononcancelmode"></a><a name="oncancelmode"></a>CMFCToolBarButton::OnCancelMode

Appelé par le cadre pour gérer le [message WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacez cette méthode si vous souhaitez gérer le [message WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

## <a name="cmfctoolbarbuttononchangeparentwnd"></a><a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd

Appelé par le cadre lorsque le bouton est inséré dans une nouvelle barre d’outils.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Paramètres

*pWndParent*<br/>
[dans] La nouvelle fenêtre parente.

### <a name="remarks"></a>Notes

Le bouton est inséré dans une barre d’outils, par exemple, lorsque l’utilisateur le traîne d’une barre d’outils à une autre barre d’outils.

La mise en œuvre par défaut de cette méthode ne fait rien.

## <a name="cmfctoolbarbuttononclick"></a><a name="onclick"></a>CMFCToolBarButton::OnClick

Appelé par le cadre lorsque l’utilisateur clique sur le bouton de la souris.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Paramètres

*Pwnd*<br/>
[dans] La fenêtre parente du bouton de la barre d’outils.

*bDelay (en)*<br/>
[dans] VRAI si le message doit être manipulé avec un retard.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsque l’utilisateur clique sur le bouton de la barre d’outils.

L’implémentation par défaut ne fait rien et renvoie FALSE. Remplacez cette méthode pour retourner une valeur non zéro si le bouton traite le message de clic.

## <a name="cmfctoolbarbuttononclickup"></a><a name="onclickup"></a>CMFCToolBarButton::OnClickUp

Appelé par le cadre lorsque l’utilisateur libère le bouton de la souris.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsque l’utilisateur publie le bouton de la barre d’outils.

L’implémentation par défaut ne fait rien et renvoie FALSE. Remplacez cette méthode pour retourner une valeur non zéro si le bouton traite le message de clic.

## <a name="cmfctoolbarbuttononcontexthelp"></a><a name="oncontexthelp"></a>CMFCToolBarButton::OnContextHelp

Appelé par le cadre lorsque le barre d’outils parent gère un message WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Paramètres

*Pwnd*<br/>
[dans] La fenêtre parente du bouton de la barre d’outils.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien et renvoie FALSE. Remplacez cette méthode pour retourner une valeur non zéro si le bouton traite le message d’aide.

Pour plus d’informations sur le message WM_HELPHITTEST, voir [TN028: Context-Sensitive Help Support](../../mfc/tn028-context-sensitive-help-support.md).

## <a name="cmfctoolbarbuttononctlcolor"></a><a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor

Appelé par le cadre lorsque le barre d’outils parent gère un message WM_CTLCOLOR.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Paramètres

*pDC*<br/>
[dans] Le contexte de l’appareil qui affiche le bouton.

*nCtlColor (en anglais)*<br/>
[dans] La notification de couleur spécifique.

### <a name="return-value"></a>Valeur de retour

Une poignée à l’objet de brosse que le cadre utilise pour peindre l’arrière-plan du bouton.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsque la barre d’outils parent traite le message WM_CTLCOLOR pour un bouton de barre d’outils qui contient un contrôle Windows. Le cadre n’appelle pas cette méthode si le bouton de la barre d’outils est sans fenêtre.

Le cadre appelle cette méthode lorsque le cadre de la barre d’outils est en mode personnalisation et que le bouton de la barre d’outils est déverrouillé. Pour plus d’informations sur le mode de personnalisation, voir [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Pour plus d’informations sur le verrouillage des boutons de barre d’outils, voir [CMFCToolBarButton::IsLocked](#islocked).

L’implémentation par défaut ne fait rien et renvoie NULL.

## <a name="cmfctoolbarbuttononcustomizemenu"></a><a name="oncustomizemenu"></a>CMFCToolBarButton::OnCustomizeMenu

Permet au bouton de modifier le menu fourni lorsque l’application affiche un menu raccourci sur la barre d’outils parent.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Paramètres

*pMenu*<br/>
[dans] Le menu à personnaliser.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

L’implémentation par défaut ne fait rien et renvoie FALSE. Remplacez cette méthode et retournez une valeur non zéro si vous souhaitez modifier le contenu du menu fourni.

## <a name="cmfctoolbarbuttonondblclk"></a><a name="ondblclk"></a>CMFCToolBarButton::OnDblClk

Appelé par le cadre lorsque le barre d’outils parent gère un [message WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Paramètres

*Pwnd*<br/>
[dans] - La fenêtre parente du bouton.

### <a name="remarks"></a>Notes

Cette méthode est `CMFCToolBar::OnLButtonDblClk` appelée par la méthode lorsque le barre d’outils parent gère un [message WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

La mise en œuvre par défaut de cette méthode ne fait rien.

## <a name="cmfctoolbarbuttonondraw"></a><a name="ondraw"></a>CMFCToolBarButton::OnDraw

Appelé par le cadre pour dessiner le bouton en utilisant les styles spécifiés et les options.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Paramètres

*pDC*<br/>
[dans] Le contexte de l’appareil qui affiche le bouton.

*Rect*<br/>
[dans] Le rectangle de délimitation du bouton.

*pImages (en)*<br/>
[dans] La collection d’images de barres d’outils qui est associée au bouton.

*bHorz (en)*<br/>
[dans] L’état de quai de la barre d’outils parent. Ce paramètre est VRAI lorsque le bouton est amarré horizontalement et FALSE lorsque le bouton est amarré verticalement.

*bCustomizeMode*<br/>
[dans] Précise si la barre d’outils est en mode personnalisation. Ce paramètre est VRAI lorsque la barre d’outils est en mode personnalisation et FALSE lorsque la barre d’outils n’est pas en mode personnalisation.

*bHighlight (en)*<br/>
[dans] Précise si le bouton est surligné. Ce paramètre est VRAI lorsque le bouton est mis en surbrillance et FALSE lorsque le bouton n’est pas surligné.

*bDrawBorder (en anglais seulement)*<br/>
[dans] Précise si le bouton doit afficher sa bordure. Ce paramètre est VRAI lorsque le bouton doit afficher sa bordure et FALSE lorsque le bouton ne doit pas afficher sa bordure.

*bGrayDisabledButtons*<br/>
[dans] Précise s’il faut ombrager les boutons désactivés ou utiliser la collection d’images désactivées. Ce paramètre est VRAI lorsque les boutons désactivés doivent être ombragés et FALSE lorsque cette méthode doit utiliser la collection d’images désactivées.

### <a name="remarks"></a>Notes

Remplacez cette méthode pour personnaliser le dessin de bouton de barre d’outils.

## <a name="cmfctoolbarbuttonondrawoncustomizelist"></a><a name="ondrawoncustomizelist"></a>CMFCToolBarButton::OnDrawOnCustomizeList

Appelé par le cadre pour dessiner le bouton dans le volet **Commandes** de la boîte de dialogue **Customize.**

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Paramètres

*pDC*<br/>
[dans] Le contexte de l’appareil qui affiche le bouton.

*Rect*<br/>
[dans] Le rectangle de délimitation du bouton.

*bSélectré*<br/>
[dans] Précise si le bouton est sélectionné. Si ce paramètre est VRAI, le bouton est sélectionné. Si ce paramètre est FALSE, le bouton n’est pas sélectionné.

### <a name="return-value"></a>Valeur de retour

La largeur, en pixels, du bouton sur le contexte de l’appareil spécifié.

### <a name="remarks"></a>Notes

Cette méthode est appelée par la boîte de dialogue de personnalisation (onglet **commandes)** lorsque le bouton est sur le point de s’afficher sur la boîte de liste propriétaire-tirage.

La mise en œuvre par défaut de cette méthode affiche l’image et l’étiquette de texte du bouton si elles sont disponibles. Si l’étiquette de texte du bouton n’est pas disponible, la méthode affiche le texte de l’outiltip.

Remplacez cette méthode pour effectuer un dessin personnalisé.

## <a name="cmfctoolbarbuttonongetcustomtooltiptext"></a><a name="ongetcustomtooltiptext"></a>CMFCToolBarButton::OnGetCustomToolTipText

Appelé par le cadre pour récupérer le texte de pointe d’outil personnalisé pour le bouton.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Paramètres

*strToolTip (en)*<br/>
[out] Un `CString` objet qui reçoit le texte de pointe d’outil personnalisé.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode lorsqu’elle affiche la pointe d’outil pour le bouton de la barre d’outils. Si cette méthode renvoie FALSE, le cadre utilise un outil par défaut.

L’implémentation par défaut ne fait rien et renvoie FALSE. Remplacez cette méthode et retournez une valeur non zéro pour fournir du texte de pointe d’outil personnalisé pour le bouton de la barre d’outils.

## <a name="cmfctoolbarbuttononglobalfontschanged"></a><a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged

Appelé par le cadre lorsque la police mondiale a changé.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour mettre à jour la police qui est utilisée pour afficher le texte du bouton.

## <a name="cmfctoolbarbuttononmove"></a><a name="onmove"></a>CMFCToolBarButton::OnMove

Appelé par le cadre lorsque la barre d’outils parent se déplace.

```
virtual void OnMove();
```

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour repositionner le bouton lorsque la barre d’outils parente se déplace.

## <a name="cmfctoolbarbuttononshow"></a><a name="onshow"></a>CMFCToolBarButton::OnShow

Appelé par le cadre lorsque le bouton devient visible ou invisible.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Paramètres

*bShow (en)*<br/>
[dans] Précise si le bouton est visible. Si ce paramètre est VRAI, le bouton est visible. Sinon, le bouton n’est pas visible.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour mettre à jour la visibilité du bouton.

## <a name="cmfctoolbarbuttononsize"></a><a name="onsize"></a>CMFCToolBarButton::OnSize

Appelé par le cadre lorsque la barre d’outils parente change de taille ou de position, ce changement provoque le bouton de changer de taille.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Paramètres

*iSize (en)*<br/>
[dans] La nouvelle largeur du bouton.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour resize le bouton lorsque la taille ou la position de la barre d’outils parente change.

## <a name="cmfctoolbarbuttonontoolhittest"></a><a name="ontoolhittest"></a>CMFCToolBarButton::OnToolHitTest

Appelé par le cadre lorsque la barre d’outils parent doit déterminer si un point est dans le rectangle de délimitation du bouton.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Paramètres

*Pwnd*<br/>
[dans] La fenêtre parente du bouton. Sa valeur peut être NULL.

*Pti*<br/>
[dans] Une `TOOLINFO` structure qui contient des informations sur un outil dans un contrôle de bout d’outil.

### <a name="return-value"></a>Valeur de retour

Le résultat `OnMenuButtonToolHitTest` de si le bouton peut récupérer un pointeur à la fenêtre de cadre parent; autrement FALSE.

### <a name="remarks"></a>Notes

Cette méthode appelle l’une des méthodes suivantes si elle peut convertir la fenêtre parente en un objet cadre valide :

- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

## <a name="cmfctoolbarbuttononupdatetooltip"></a><a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip

Appelé par le cadre lorsque la barre d’outils parent met à jour son texte tooltip.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Paramètres

*pWndParent*<br/>
[dans] La fenêtre parent.

*iButtonIndex*<br/>
[dans] L’index zéro du bouton dans la collection de boutons parent.

*wndToolTip*<br/>
[dans] Le contrôle qui affiche le texte de l’outiltip.

*Str*<br/>
[out] Un `CString` objet qui reçoit le texte de pointe d’outil mis à jour.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie FALSE.

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien et renvoie FALSE. Remplacez cette méthode pour retourner une valeur non zéro si vous fournissez une chaîne de texte tooltip.

## <a name="cmfctoolbarbuttonpreparedrag"></a><a name="preparedrag"></a>CMFCToolBarButton::PrepareDrag

Appelé par le cadre lorsque le bouton est sur le point d’effectuer une opération de drag-and-drop.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Paramètres

*srcItem*<br/>
[dans] Un `COleDataSource` objet qui stocke des informations d’état sur l’opération de drag-and-drop.

### <a name="return-value"></a>Valeur de retour

VRAI si l’opération réussit; autrement FALSE.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour préparer le bouton `COleDataSource` de la barre d’outils pour stocker son état dans l’objet fourni. Cette méthode stocke son état en sérialisant sur un fichier partagé, puis en transmettant ce fichier à la méthode [COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) méthode. Pour plus d’informations sur la sérialisation des boutons de barre d’outils, voir [CMFCToolBarButton::Serialize](#serialize).

Cette méthode ne fait rien et renvoie VRAI si le bouton ne peut pas être stocké (le [CMFCToolBarButton::CanBeStored](#canbestored) méthode retourne FALSE). Il renvoie FALSE si une exception se produit lors de la sérialisation de l’objet.

Pour plus d’informations sur les opérations de drag-and-drop [OLE,](../../mfc/drag-and-drop-ole.md)voir OLE glisser et baisser .

## <a name="cmfctoolbarbuttonrect"></a><a name="rect"></a>CMFCToolBarButton::Rect

Récupère le rectangle de délimitation du bouton.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Valeur de retour

Un `CRect` objet qui contient le rectangle de délimitation d’un bouton.

## <a name="cmfctoolbarbuttonresetimagetodefault"></a><a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault

Définit à la valeur par défaut l’image qui est associée au bouton.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Notes

Cette méthode récupère l’image par défaut de sa barre d’outils parente en utilisant la méthode [CMFCToolBar::GetDefaultImage.](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) Si le bouton n’a pas d’image par défaut associée, cette méthode définit l’étiquette de texte du bouton en fonction de sa ressource de chaîne en utilisant la méthode [CStringT::LoadString.](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) Pour plus d’informations sur les ressources en chaînes, voir [Travailler avec les fichiers de ressources](../../windows/working-with-resource-files.md).

Cette méthode ne fait rien si le bouton a une image définie par l’utilisateur.

## <a name="cmfctoolbarbuttonsavebarstate"></a><a name="savebarstate"></a>CMFCToolBarButton::SaveBarState

Enregistre l’état du bouton de la barre d’outils.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode `CMFCToolBarButton` lorsqu’elle crée un objet à la suite d’une opération de drag-and-drop.

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour enregistrer l’état du bouton de la barre d’outils à une source de données externe.

## <a name="cmfctoolbarbuttonserialize"></a><a name="serialize"></a>CMFCToolBarButton::Serialize

Lit cet objet à partir d’une archive ou l’écrit à une archive.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Paramètres

*Ar*<br/>
[dans] L’objet `CArchive` à partir duquel ou à laquelle sérialiser.

### <a name="remarks"></a>Notes

Cette méthode prend en charge les processus de transfert de données tels que les opérations de presse-papiers ou de drag-and-drop. Il lit ou écrit des propriétés du bouton tels que l’ID, l’étiquette de texte et l’ID d’image de ou vers l’objet fourni. `CArchive`

Pour des exemples de sérialisation, voir [Serialization: Serializing an Object](../../mfc/serialization-serializing-an-object.md).

## <a name="cmfctoolbarbuttonsetaccdata"></a><a name="setaccdata"></a>CMFCToolBarButton::SetACCData

Remplit l’objet fourni `CAccessibilityData` avec des données d’accessibilité à partir du bouton de la barre d’outils.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Paramètres

*pParent*<br/>
[dans] La fenêtre parente du bouton de la barre d’outils.

*data*<br/>
[dans] Un `CAccessibilityData` objet qui est peuplé avec les données d’accessibilité du bouton de la barre d’outils.

### <a name="return-value"></a>Valeur de retour

Cette méthode renvoie TRUE.

### <a name="remarks"></a>Notes

Remplacez cette méthode pour retourner FALSE si votre bouton de barre d’outils ne fournit pas de données d’accessibilité.

## <a name="cmfctoolbarbuttonsetclipboardformatname"></a><a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName

Renomme le format global de presse-papiers.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Paramètres

*lpszName (en)*<br/>
[dans] Le nouveau nom du format global de presse-papiers. Ne peut pas avoir la valeur NULL.

### <a name="remarks"></a>Notes

Cette méthode permet aux opérations de drag-and-drop de se produire parmi plusieurs applications. Chaque application doit fournir le même nom de format de presse-papiers.

Vous devez appeler cette méthode avant que le cadre appelle [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).

## <a name="cmfctoolbarbuttonsetimage"></a><a name="setimage"></a>CMFCToolBarButton::SetImage

Définit l’index d’image du bouton.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Paramètres

*iImage (en)*<br/>
[dans] L’index de l’image dans la collection d’images de barres d’outils.

### <a name="remarks"></a>Notes

Si le bouton de la barre d’outils est un séparateur, *iImage* fait référence à la nouvelle largeur du bouton séparateur.

Si *iImage* est inférieur à zéro, cette méthode désactive le dessin de l’image et permet de dessiner l’étiquette de texte du bouton.

## <a name="cmfctoolbarbuttonsetprotectedcommands"></a><a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands

Définit la liste des commandes que l’utilisateur ne peut pas personnaliser.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Paramètres

*lstCmds*<br/>
[dans] La liste des commandes protégées.

### <a name="remarks"></a>Notes

En mode personnalisation, le cadre désactive les commandes de boutons de barre d’outils qui sont protégées. L’utilisateur ne peut pas effectuer des opérations de drag-and-drop et d’édition sur les boutons de barre d’outils désactivés.

Utilisez la méthode [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) pour récupérer la liste des commandes protégées.

## <a name="cmfctoolbarbuttonsetradio"></a><a name="setradio"></a>CMFCToolBarButton::SetRadio

Appelé par le cadre quand un bouton change son état vérifié.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Notes

La mise en œuvre par défaut de cette méthode ne fait rien. Remplacer cette méthode pour effectuer une action personnalisée lorsque le bouton change son état vérifié.

## <a name="cmfctoolbarbuttonsetrect"></a><a name="setrect"></a>CMFCToolBarButton::SetRect

Définit le rectangle de délimitation du bouton.

```cpp
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Paramètres

*Rect*<br/>
[dans] Le nouveau rectangle de délimitation du bouton.

### <a name="remarks"></a>Notes

Cette méthode appelle le [CMFCToolBarButton::OnMove](#onmove) méthode après qu’il définit le nouveau rectangle de délimitation.

## <a name="cmfctoolbarbuttonsetstyle"></a><a name="setstyle"></a>CMFCToolBarButton::SetStyle

Définit le style du bouton.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Paramètres

*nStyle*<br/>
[dans] Le nouveau style du bouton.

### <a name="remarks"></a>Notes

La implémentation par défaut définit le [CMFCToolBarButton::m_nStyle](#m_nstyle) membre des données à *nStyle*. Remplacez cette méthode si vous souhaitez effectuer un traitement supplémentaire pour gérer le changement de style. Consultez [ToolBar Control Styles](toolbar-control-styles.md) pour une liste de drapeaux de style valides.

## <a name="cmfctoolbarbuttonsetvisible"></a><a name="setvisible"></a>CMFCToolBarButton::SetVisible

Précise si le bouton est visible.

```cpp
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Paramètres

*bShow (en)*<br/>
[dans] Une valeur Boolean qui spécifie s’il faut montrer ou cacher le bouton. Si ce paramètre est VRAI, le bouton est affiché. Si le paramètre est FALSE, le bouton est caché.

### <a name="remarks"></a>Notes

Utilisez cette fonction pour masquer ou afficher un bouton de barre d’outils particulier. Appelez le [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) méthode après que vous appelez cette méthode.

## <a name="cmfctoolbarbuttonshow"></a><a name="show"></a>CMFCToolBarButton::Voir

Affiche ou cache le bouton.

```cpp
void Show(BOOL bShow);
```

### <a name="parameters"></a>Paramètres

*bShow (en)*<br/>
[dans] Une valeur Boolean qui spécifie s’il faut montrer ou cacher le bouton. Si ce paramètre est VRAI, le bouton est affiché. Si le paramètre est FALSE, le bouton est caché.

### <a name="remarks"></a>Notes

Le cadre appelle cette méthode pour mettre à jour la visibilité des boutons de barre d’outils lorsque leur barre d’outils parent est resized. Le cadre appelle cette méthode avec *bShow* réglé à FALSE lorsque le bouton ne s’inscrit plus dans les limites de la barre d’outils. Le cadre appelle cette méthode avec *bShow* réglé à VRAI quand après resizing le bouton s’adapte à nouveau dans les limites de la barre d’outils.

Utilisez la méthode [CMFCToolBarButton::SetVisible](#setvisible) pour définir la visibilité générale du bouton.

Cette méthode appelle le [CMFCToolBarButton::OnShow](#onshow) méthode après qu’il met à jour l’état de visibilité du bouton.

## <a name="see-also"></a>Voir aussi

[Graphique hiérarchique](../../mfc/hierarchy-chart.md)<br/>
[Classes](../../mfc/reference/mfc-classes.md)<br/>
[Classe CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCToolBarImages, classe](../../mfc/reference/cmfctoolbarimages-class.md)
