---
title: CListCtrl (classe)
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: c8f1b8a9ed0ca8437ba40e77b47448d1bb209d20
ms.sourcegitcommit: effb516760c0f956c6308eeded48851accc96b92
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/12/2019
ms.locfileid: "70927915"
---
# <a name="clistctrl-class"></a>CListCtrl (classe)

Encapsule les fonctionnalités d’un contrôle d’affichage de liste, qui affiche une collection d’éléments constitués chacun d’une icône (de liste d’images) et d’une étiquette.

## <a name="syntax"></a>Syntaxe

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Membres

### <a name="public-constructors"></a>Constructeurs publics

|Nom|Description|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Construit un objet `CListCtrl`.|

### <a name="public-methods"></a>M&#233;thodes publiques

|Nom|Description|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Détermine la largeur et la hauteur requises pour afficher les éléments d’un contrôle List View.|
|[CListCtrl::Arrange](#arrange)|Aligne les éléments sur une grille.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Annule l’opération de modification du texte de l’élément.|
|[CListCtrl::Create](#create)|Crée un contrôle de liste et l’attache à un `CListCtrl` objet.|
|[CListCtrl::CreateDragImage](#createdragimage)|Crée une liste d’images de glissement pour un élément spécifié.|
|[CListCtrl::CreateEx](#createex)|Crée un contrôle de liste avec les styles étendus Windows spécifiés et l’attache `CListCtrl` à un objet.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Supprime tous les éléments du contrôle.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Supprime une colonne du contrôle List View.|
|[CListCtrl::DeleteItem](#deleteitem)|Supprime un élément du contrôle.|
|[CListCtrl::DrawItem](#drawitem)|Appelé en cas de modification de l’aspect visuel d’un contrôle owner-draw.|
|[CListCtrl::EditLabel](#editlabel)|Commence la modification sur place du texte d’un élément.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Active ou désactive si les éléments d’un contrôle List View s’affichent en tant que groupe.|
|[CListCtrl::EnsureVisible](#ensurevisible)|Garantit qu’un élément est visible.|
|[CListCtrl::FindItem](#finditem)|Recherche un élément de la vue liste avec les caractéristiques spécifiées.|
|[CListCtrl::GetBkColor](#getbkcolor)|Récupère la couleur d’arrière-plan d’un contrôle List View.|
|[CListCtrl::GetBkImage](#getbkimage)|Récupère l’image d’arrière-plan actuelle d’un contrôle List View.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Récupère le masque de rappel pour un contrôle List View.|
|[CListCtrl::GetCheck](#getcheck)|Récupère l’état d’affichage actuel de l’image d’État associée à un élément.|
|[CListCtrl::GetColumn](#getcolumn)|Récupère les attributs de la colonne d’un contrôle.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Récupère l’ordre des colonnes (de gauche à droite) d’un contrôle List View.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Récupère la largeur d’une colonne en mode rapport ou liste.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Calcule le nombre d’éléments qui peuvent s’ajuster verticalement dans un contrôle List View.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Récupère le handle du contrôle d’édition utilisé pour modifier le texte d’un élément.|
|[CListCtrl::GetEmptyText](#getemptytext)|Récupère la chaîne à afficher si le contrôle d’affichage de liste actuel est vide.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Récupère les styles étendus actuels d’un contrôle List View.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Récupère la position du premier élément de l’affichage de liste sélectionné dans un contrôle List View.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Récupère le groupe qui a le focus clavier dans le contrôle de vue de liste actuel.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Récupère le nombre de groupes dans le contrôle List-View actuel.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Obtient les informations pour un groupe spécifié du contrôle d’affichage de liste.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Récupère des informations sur un groupe spécifié dans le contrôle List-View actuel.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Récupère les métriques d’un groupe.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Récupère le rectangle englobant pour un groupe spécifié dans le contrôle de vue de liste actuel.|
|[CListCtrl::GetGroupState](#getgroupstate)|Récupère l’état d’un groupe spécifié dans le contrôle List-View actuel.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Récupère le contrôle d’en-tête d’un contrôle List View.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Récupère le curseur utilisé lorsque la sélection à chaud est activée pour un contrôle List View.|
|[CListCtrl::GetHotItem](#gethotitem)|Récupère l’élément d’affichage de liste actuellement sous le curseur.|
|[CListCtrl::GetHoverTime](#gethovertime)|Récupère le temps de survol actuel d’un contrôle List View.|
|[CListCtrl::GetImageList](#getimagelist)|Récupère le handle d’une liste d’images utilisée pour dessiner des éléments de la vue liste.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Récupère la position actuelle de la marque d’insertion.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Récupère la couleur actuelle de la marque d’insertion.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Récupère le rectangle qui délimite le point d’insertion.|
|[CListCtrl::GetItem](#getitem)|Récupère les attributs d’un élément d’affichage de liste.|
|[CListCtrl::GetItemCount](#getitemcount)|Récupère le nombre d’éléments dans un contrôle List View.|
|[CListCtrl::GetItemData](#getitemdata)|Récupère la valeur spécifique à l’application associée à un élément.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Récupère le rectangle englobant pour l’intégralité ou une partie d’un sous-élément dans le contrôle List-View actuel.|
|[CListCtrl::GetItemPosition](#getitemposition)|Récupère la position d’un élément de la vue liste.|
|[CListCtrl::GetItemRect](#getitemrect)|Récupère le rectangle englobant d’un élément.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Calcule l’espacement entre les éléments du contrôle de vue de liste actuel.|
|[CListCtrl::GetItemState](#getitemstate)|Récupère l’état d’un élément de la vue liste.|
|[CListCtrl::GetItemText](#getitemtext)|Récupère le texte d’un élément ou d’un sous-élément d’un affichage de liste.|
|[CListCtrl::GetNextItem](#getnextitem)|Recherche un élément d’affichage de liste avec les propriétés spécifiées et avec la relation spécifiée à un élément donné.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Récupère l’index de l’élément dans le contrôle List-View actuel qui possède un jeu de propriétés spécifié.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Récupère l’index d’une position d’élément d’affichage de liste et la position de l’élément de vue de liste sélectionné suivant pour l’itération.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Récupère le nombre actuel de zones de travail pour un contrôle List View.|
|[CListCtrl::GetOrigin](#getorigin)|Récupère l’origine de la vue actuelle pour un contrôle List View.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Récupère la couleur de la bordure d’un contrôle List View.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Récupère l’index de la colonne actuellement sélectionnée dans le contrôle de liste.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Récupère le nombre d’éléments sélectionnés dans le contrôle List View.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Récupère la marque de sélection d’un contrôle List View.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Détermine la largeur minimale de la colonne nécessaire pour afficher l’intégralité d’une chaîne donnée.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Récupère le rectangle englobant d’un élément dans un contrôle List View.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Récupère la couleur d’arrière-plan du texte d’un contrôle List View.|
|[CListCtrl::GetTextColor](#gettextcolor)|Récupère la couleur de texte d’un contrôle List View.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Récupère des informations sur une vignette dans un contrôle List View.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Récupère des informations sur un contrôle d’affichage de liste en mode mosaïque.|
|[CListCtrl::GetToolTips](#gettooltips)|Récupère le contrôle ToolTip utilisé par le contrôle d’affichage de liste pour afficher des info-bulles.|
|[CListCtrl::GetTopIndex](#gettopindex)|Récupère l’index de l’élément le plus visible.|
|[CListCtrl::GetView](#getview)|Obtient la vue du contrôle List View.|
|[CListCtrl::GetViewRect](#getviewrect)|Récupère le rectangle englobant de tous les éléments dans le contrôle List View.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Récupère les zones de travail actuelles d’un contrôle List View.|
|[CListCtrl::HasGroup](#hasgroup)|Détermine si le contrôle List View a le groupe spécifié.|
|[CListCtrl::HitTest](#hittest)|Détermine quel élément de la vue de liste se trouve à une position spécifiée.|
|[CListCtrl::InsertColumn](#insertcolumn)|Insère une nouvelle colonne dans un contrôle List View.|
|[CListCtrl::InsertGroup](#insertgroup)|Insère un groupe dans le contrôle List View.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Insère le groupe spécifié dans une liste ordonnée de groupes.|
|[CListCtrl::InsertItem](#insertitem)|Insère un nouvel élément dans un contrôle List View.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Récupère le point d’insertion le plus proche d’un point spécifié.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Détermine si la vue de groupe est activée pour un contrôle List View.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Indique si un élément spécifié dans le contrôle d’affichage de liste actuel est visible.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Mappe l’ID unique d’un élément dans le contrôle List-View actuel à un index.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Mappe l’index d’un élément dans le contrôle d’affichage de liste actuel à un ID unique.|
|[CListCtrl::MoveGroup](#movegroup)|Déplace le groupe spécifié.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Déplace le groupe spécifié vers l’index de base zéro spécifié du contrôle d’affichage de liste.|
|[CListCtrl::RedrawItems](#redrawitems)|Force un contrôle List View à repeindre une plage d’éléments.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Supprime tous les groupes d’un contrôle List View.|
|[CListCtrl::RemoveGroup](#removegroup)|Supprime le groupe spécifié du contrôle List View.|
|[CListCtrl::Scroll](#scroll)|Fait défiler le contenu d’un contrôle List View.|
|[CListCtrl::SetBkColor](#setbkcolor)|Définit la couleur d’arrière-plan du contrôle List View.|
|[CListCtrl::SetBkImage](#setbkimage)|Définit l’image d’arrière-plan actuelle d’un contrôle List View.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Définit le masque de rappel pour un contrôle List View.|
|[CListCtrl::SetCheck](#setcheck)|Définit l’état d’affichage actuel de l’image d’État associée à un élément.|
|[CListCtrl::SetColumn](#setcolumn)|Définit les attributs d’une colonne de mode liste.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Définit l’ordre des colonnes (de gauche à droite) d’un contrôle List View.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Modifie la largeur d’une colonne en mode rapport ou liste.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Définit les styles étendus actuels d’un contrôle List View.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Définit les informations pour le groupe spécifié d’un contrôle d’affichage de liste.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Définit les métriques de groupe d’un contrôle List View.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Définit le curseur utilisé lorsque la sélection à chaud est activée pour un contrôle List View.|
|[CListCtrl::SetHotItem](#sethotitem)|Définit l’élément réactif actuel d’un contrôle List View.|
|[CListCtrl::SetHoverTime](#sethovertime)|Définit la durée de pointage actuelle d’un contrôle d’affichage de liste.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Définit l’espacement entre les icônes dans un contrôle List View.|
|[CListCtrl::SetImageList](#setimagelist)|Affecte une liste d’images à un contrôle List View.|
|[CListCtrl::SetInfoTip](#setinfotip)|Définit le texte de l’info-bulle.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Définit le point d’insertion à la position définie.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Définit la couleur du point d’insertion.|
|[CListCtrl::SetItem](#setitem)|Définit tout ou partie des attributs d’un élément d’affichage de liste.|
|[CListCtrl::SetItemCount](#setitemcount)|Prépare un contrôle d’affichage de liste pour l’ajout d’un grand nombre d’éléments.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Définit le nombre d’éléments pour un contrôle List View virtuel.|
|[CListCtrl::SetItemData](#setitemdata)|Définit la valeur propre à l’application de l’élément.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Définit l’état d’un élément dans le contrôle d’affichage de liste actuel.|
|[CListCtrl::SetItemPosition](#setitemposition)|Déplace un élément à une position spécifiée dans un contrôle d’affichage de liste.|
|[CListCtrl::SetItemState](#setitemstate)|Modifie l’état d’un élément dans un contrôle List View.|
|[CListCtrl::SetItemText](#setitemtext)|Modifie le texte d’un élément ou d’un sous-élément d’un affichage de liste.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Définit la couleur de la bordure d’un contrôle List View.|
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Définit la colonne sélectionnée du contrôle List View.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Définit la marque de sélection d’un contrôle List View.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Définit la couleur d’arrière-plan du texte dans un contrôle List View.|
|[CListCtrl::SetTextColor](#settextcolor)|Définit la couleur du texte d’un contrôle d’affichage de liste.|
|[CListCtrl::SetTileInfo](#settileinfo)|Définit les informations pour une vignette du contrôle List View.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Définit les informations qu’un contrôle d’affichage de liste utilise en mode mosaïque.|
|[CListCtrl::SetToolTips](#settooltips)|Définit le contrôle ToolTip que le contrôle List View utilisera pour afficher des info-bulles.|
|[CListCtrl::SetView](#setview)|Définit l’affichage du contrôle List View.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Définit la zone dans laquelle les icônes peuvent être affichées dans un contrôle List View.|
|[CListCtrl::SortGroups](#sortgroups)|Trie les groupes d’un contrôle List View avec une fonction définie par l’utilisateur.|
|[CListCtrl::SortItems](#sortitems)|Trie les éléments de la vue liste à l’aide d’une fonction de comparaison définie par l’application.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Trie les éléments de la vue liste à l’aide d’une fonction de comparaison définie par l’application.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Détermine l’élément d’affichage de liste, le cas échéant, à une position donnée.|
|[CListCtrl::Update](#update)|Force le contrôle à redessiner un élément spécifié.|

## <a name="remarks"></a>Notes

Outre une icône et une étiquette, chaque élément peut contenir des informations affichées dans les colonnes à droite de l’icône et de l’étiquette. Ce contrôle (et par conséquent `CListCtrl` la classe) est uniquement disponible pour les programmes qui s’exécutent sous Windows 95/98 et Windows NT version 3,51 et versions ultérieures.

Voici une brève vue d’ensemble de la `CListCtrl` classe. Pour une discussion conceptuelle détaillée, consultez [utilisation de CListCtrl](../../mfc/using-clistctrl.md) et de [contrôles](../../mfc/controls-mfc.md).

## <a name="views"></a>Affichages

Les contrôles d’affichage de liste peuvent afficher leur contenu de quatre façons différentes, appelées « affichages ».

- Mode icône

   Chaque élément apparaît sous la forme d’une icône de taille complète (32 x 32 pixels) avec une étiquette en dessous. L’utilisateur peut faire glisser les éléments vers n’importe quel emplacement dans la fenêtre d’affichage de liste.

- Affichage des petites icônes

   Chaque élément apparaît sous la forme d’une petite icône (16 x 16 pixels) avec l’étiquette à droite de celui-ci. L’utilisateur peut faire glisser les éléments vers n’importe quel emplacement dans la fenêtre d’affichage de liste.

- Liste (vue)

   Chaque élément apparaît sous la forme d’une petite icône avec une étiquette à droite de celui-ci. Les éléments sont organisés en colonnes et ne peuvent pas être déplacés vers un emplacement dans la fenêtre d’affichage de liste.

- Vue rapport

   Chaque élément apparaît sur sa propre ligne, avec des informations supplémentaires organisées en colonnes à droite. La colonne la plus à gauche contient la petite icône et l’étiquette, et les colonnes suivantes contiennent des sous-éléments, comme spécifié par l’application. Un contrôle d’en-tête incorporé (classe [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implémente ces colonnes. Pour plus d’informations sur le contrôle header et les colonnes d’une vue [rapport, consultez Utilisation de CListCtrl : Ajout de colonnes au contrôle (vue rapport)](../../mfc/adding-columns-to-the-control-report-view.md).

Le style de l’affichage de liste actuel du contrôle détermine l’affichage actuel. Pour plus d’informations sur ces styles et leur utilisation, [consultez Utilisation de CListCtrl : Modification des styles](../../mfc/changing-list-control-styles.md)de contrôle de liste.

## <a name="extended-styles"></a>Styles étendus

Outre les styles de liste standard, la classe `CListCtrl` prend en charge un grand ensemble de styles étendus, fournissant ainsi des fonctionnalités enrichies. Voici quelques exemples de cette fonctionnalité :

- Sélection par pointage

   Lorsqu’il est activé, cette option permet de sélectionner automatiquement un élément lorsque le curseur reste sur l’élément pendant une certaine période.

- Affichages de listes virtuelles

   Lorsqu’il est activé, le contrôle peut prendre en charge jusqu’à des éléments DWORD. Cela est possible en plaçant la surcharge liée à la gestion des données de l’élément sur l’application. À l’exception des informations de sélection d’élément et de focus, toutes les informations d’élément doivent être gérées par l’application. Pour plus d’informations, [consultez Utilisation de CListCtrl : Contrôles](../../mfc/virtual-list-controls.md)de liste virtuelle.

- Activation en un et en deux clic

   Quand cette option est activée, elle autorise la sélection active (mise en surbrillance automatique du texte de l’élément) et l’activation d’un ou de deux sous-éléments de l’élément mis en surbrillance.

- Tri des colonnes par glisser-déplacer

   Quand cette option est activée, permet la réorganisation des colonnes par glisser-déplacer dans un contrôle d’affichage de liste. Disponible uniquement en mode rapport.

Pour plus d’informations sur l’utilisation de ces nouveaux [styles étendus, consultez Utilisation de CListCtrl : Modification des styles](../../mfc/changing-list-control-styles.md)de contrôle de liste.

## <a name="items-and-subitems"></a>Éléments et sous-éléments

Chaque élément d’un contrôle List View se compose d’une icône (à partir d’une liste d’images), d’une étiquette, d’un état actuel et d’une valeur définie par l’application (appelée « données d’élément »). Un ou plusieurs sous-éléments peuvent également être associés à chaque élément. Un « sous-élément » est une chaîne qui, en mode rapport, peut être affichée dans une colonne à droite de l’icône et de l’étiquette d’un élément. Tous les éléments d’un contrôle List View doivent avoir le même nombre de sous-éléments.

La `CListCtrl` classe fournit plusieurs fonctions pour l’insertion, la suppression, la recherche et la modification de ces éléments. Pour plus d’informations, [consultez CListCtrl :: GetItem](#getitem), [CListCtrl :: InsertItem](#insertitem)et [CListCtrl :: FindItem](#finditem), [Ajout d’éléments au contrôle](../adding-items-to-the-control.md)et [défilement, réorganisation, tri et recherche dans les contrôles de liste](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

Par défaut, le contrôle List View est chargé de stocker les attributs d’icône et de texte d’un élément. Toutefois, en plus de ces types d’éléments, `CListCtrl` la classe prend en charge les « éléments de rappel ». Un « élément de rappel » est un élément de la vue liste pour lequel l’application, plutôt que le contrôle, stocke le texte, l’icône ou les deux. Un masque de rappel est utilisé pour spécifier les attributs d’élément (texte et/ou icône) fournis par l’application. Si une application utilise des éléments de rappel, elle doit être en mesure de fournir le texte et/ou les attributs d’icône à la demande. Les éléments de rappel sont utiles lorsque votre application gère déjà certaines de ces informations. Pour plus d’informations, [consultez Utilisation de CListCtrl : Éléments de rappel et masque](../callback-items-and-the-callback-mask.md)de rappel.

## <a name="image-lists"></a>Listes d’images

Les icônes, les images d’élément d’en-tête et les États définis par l’application pour les éléments de la vue liste sont contenus dans plusieurs listes d’images (implémentées par la classe [CImageList](cimagelist-class.md)), que vous créez et assignez au contrôle List View. Chaque contrôle d’affichage de liste peut avoir jusqu’à quatre types différents de listes d’images :

- Grande icône

   Utilisé dans l’affichage icône pour les icônes en taille réelle.

- Petite icône

   Utilisé dans les petites icônes, listes et rapports pour les petites versions des icônes utilisées dans l’affichage icône.

- État défini par l’application

   Contient des images d’État, qui sont affichées en regard de l’icône d’un élément pour indiquer un état défini par l’application.

- Élément d’en-tête

   Utilisé dans la vue rapport pour les petites images qui apparaissent dans chaque élément de contrôle d’en-tête.

Par défaut, un contrôle List View détruit les listes d’images qui lui sont assignées lorsqu’il est détruit ; Toutefois, le développeur peut personnaliser ce comportement en détruisant chaque liste d’images lorsqu’elle n’est plus utilisée, comme déterminé par l’application. Pour plus d’informations, [consultez Utilisation de CListCtrl : Éléments de liste et listes](../list-items-and-image-lists.md)d’images.

## <a name="inheritance-hierarchy"></a>Hiérarchie d'héritage

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Configuration requise

**En-tête :** afxcmn.h

## <a name="approximateviewrect"></a>  CListCtrl::ApproximateViewRect

Détermine la largeur et la hauteur requises pour afficher les éléments d’un contrôle List View.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Paramètres

*sz*<br/>
Dimensions proposées du contrôle, en pixels. Si les dimensions ne sont pas spécifiées, l’infrastructure utilise les valeurs de largeur ou de hauteur actuelles du contrôle.

*iCount*<br/>
Nombre d’éléments à afficher dans le contrôle. Si ce paramètre a la valeur-1, l’infrastructure utilise le nombre total d’éléments actuellement dans le contrôle.

### <a name="return-value"></a>Valeur de retour

`CSize` Objet qui contient la largeur et la hauteur approximatives requises pour afficher les éléments, en pixels.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), comme décrit dans la SDK Windows.

## <a name="arrange"></a>  CListCtrl::Arrange

Repositionne les éléments dans une vue icône afin qu’ils s’alignent sur une grille.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Paramètres

*nCode*<br/>
Spécifie le style d’alignement pour les éléments. Il peut s’agir de l’une des valeurs suivantes:

- LVA_ALIGNLEFT aligne les éléments le long du bord gauche de la fenêtre.

- LVA_ALIGNTOP aligne les éléments le long du bord supérieur de la fenêtre.

- LVA_DEFAULT aligne les éléments en fonction des styles d’alignement actuels de la vue liste (valeur par défaut).

- LVA_SNAPTOGRID aligne toutes les icônes à la position de grille la plus proche.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le paramètre *nCode* spécifie le style d’alignement.

### <a name="example"></a>Exemples

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>  CListCtrl::CancelEditLabel

Annule l’opération de modification du texte de l’élément.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel) , comme décrit dans la SDK Windows.

## <a name="clistctrl"></a>  CListCtrl::CListCtrl

Construit un objet `CListCtrl`.

```
CListCtrl();
```

## <a name="create"></a>  CListCtrl::Create

Crée un contrôle de liste et l’attache à un `CListCtrl` objet.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Paramètres

*dwStyle*<br/>
Spécifie le style du contrôle de liste. Appliquez une combinaison de styles de contrôle de liste au contrôle. Pour obtenir la liste complète de ces styles, consultez [styles de fenêtre d’affichage de liste](/windows/win32/Controls/list-view-window-styles) dans le SDK Windows. Définir des styles étendus spécifiques à un contrôle à l’aide de [SetExtendedStyle](#setextendedstyle).

*rect*<br/>
Spécifie la taille et la position du contrôle de liste. Il peut s’agir d' `CRect` un objet ou d’une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) .

*pParentWnd*<br/>
Spécifie la fenêtre parente du contrôle de liste `CDialog`, généralement. Il ne doit pas être NULL.

*nID*<br/>
Spécifie l’ID du contrôle de liste.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Vous construisez `CListCtrl` un en deux étapes. Tout d’abord, appelez le constructeur, `Create`puis appelez, qui crée le contrôle List View et l’attache à `CListCtrl` l’objet.

Pour appliquer des styles Windows étendus à l’objet de contrôle de liste, appelez [CreateEx](#createex) au lieu de `Create`.

### <a name="example"></a>Exemples

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>  CListCtrl::CreateEx

Crée un contrôle (une fenêtre enfant) et l’associe à `CListCtrl` l’objet.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Paramètres

*dwExStyle*<br/>
Spécifie le style étendu du contrôle en cours de création. Pour obtenir la liste des styles Windows étendus, consultez le paramètre *dwExStyle* pour [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) dans le SDK Windows.

*dwStyle*<br/>
Spécifie le style du contrôle de liste. Appliquez une combinaison de styles de contrôle de liste au contrôle. Pour obtenir la liste complète de ces styles, consultez [styles de fenêtre d’affichage de liste](/windows/win32/Controls/list-view-window-styles) dans le SDK Windows.

*rect*<br/>
Référence à une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) décrivant la taille et la position de la fenêtre à créer, en coordonnées clientes de *pParentWnd*.

*pParentWnd*<br/>
Pointeur vers la fenêtre qui est le parent du contrôle.

*nID*<br/>
ID de la fenêtre enfant du contrôle.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro cas de réussite ; sinon, 0.

### <a name="remarks"></a>Notes

Utilisez `CreateEx` au lieu de [Create](#create) pour appliquer des styles Windows étendus, spécifiés par la préface de style étendu Windows **WS_EX_** .

`CreateEx`crée le contrôle avec les styles Windows étendus spécifiés par *dwExStyle*. Pour définir des styles étendus spécifiques à un contrôle, appelez [SetExtendedStyle](#setextendedstyle). Par exemple, utilisez `CreateEx` pour définir des styles tels que WS_EX_CONTEXTHELP, mais `SetExtendedStyle` utilisez pour définir des styles tels que LVS_EX_FULLROWSELECT. Pour plus d’informations, consultez les styles décrits dans l’article [styles de vue de liste étendue](/windows/win32/Controls/extended-list-view-styles) dans le SDK Windows.

## <a name="createdragimage"></a>  CListCtrl::CreateDragImage

Crée une liste d’images de glissement pour l’élément spécifié par *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont la liste d’images à faire glisser doit être créée.

*lpPoint*<br/>
Adresse d’une structure de [points](/previous-versions/dd162805\(v=vs.85\)) qui reçoit l’emplacement initial de l’angle supérieur gauche de l’image, dans les coordonnées de la vue.

### <a name="return-value"></a>Valeur de retour

Pointeur vers la liste d’images de glissement en cas de réussite ; Sinon, NULL.

### <a name="remarks"></a>Notes

L' `CImageList` objet est permanent et vous devez le supprimer une fois l’opération terminée. Par exemple :

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>  CListCtrl::DeleteAllItems

Supprime tous les éléments du contrôle List View.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>  CListCtrl::DeleteColumn

Supprime une colonne du contrôle List View.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Index de la colonne à supprimer.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemples

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>  CListCtrl::DeleteItem

Supprime un élément d’un contrôle List View.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Spécifie l’index de l’élément à supprimer.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>  CListCtrl::DrawItem

Appelée par l’infrastructure quand un aspect visuel d’un contrôle d’affichage de liste owner-draw change.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Paramètres

*lpDrawItemStruct*<br/>
Pointeur long vers une `DRAWITEMSTRUCT` structure qui contient des informations sur le type de dessin requis.

### <a name="remarks"></a>Notes

Le `itemAction` membre de la structure [drawitemstruct,](/windows/win32/api/winuser/ns-winuser-drawitemstruct) définit l’action de dessin à effectuer.

Par défaut, cette fonction membre ne fait rien. Substituez cette fonction membre pour implémenter le dessin pour un objet `CListCtrl` owner-draw.

L’application doit restaurer tous les objets GDI (Graphics Device Interface) sélectionnés pour le contexte d’affichage fourni dans *lpDrawItemStruct* avant la fin de cette fonction membre.

## <a name="editlabel"></a>  CListCtrl::EditLabel

Commence la modification sur place du texte d’un élément.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément d’affichage de liste à modifier.

### <a name="return-value"></a>Valeur de retour

En cas de réussite, pointeur vers `CEdit` l’objet qui est utilisé pour modifier le texte de l’élément ; sinon, null.

### <a name="remarks"></a>Notes

Un contrôle d’affichage de liste avec le style de fenêtre LVS_EDITLABELS permet à un utilisateur de modifier des étiquettes d’élément sur place. L’utilisateur commence la modification en cliquant sur l’étiquette d’un élément qui a le focus.

Utilisez cette fonction pour commencer la modification sur place du texte de l’élément d’affichage de liste spécifié.

### <a name="example"></a>Exemple

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>  CListCtrl::EnableGroupView

Active ou désactive si les éléments d’un contrôle List View s’affichent en tant que groupe.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Paramètres

*fEnable*<br/>
Indique s’il faut activer un contrôle ListView pour regrouper les éléments affichés. TRUE pour activer le regroupement ; FALSe pour la désactiver.

### <a name="return-value"></a>Valeur de retour

Retourne l’une des valeurs suivantes :

- **0** la possibilité d’afficher des éléments de la vue liste en tant que groupe est déjà activée ou désactivée.

- **1** l’état du contrôle a été correctement modifié.

- **-1** L’opération a échoué.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview) , comme décrit dans la SDK Windows.

## <a name="ensurevisible"></a>  CListCtrl::EnsureVisible

Garantit qu’un élément d’affichage de liste est au moins partiellement visible.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément d’affichage de liste qui doit être visible.

*bPartialOK*<br/>
Spécifie si la visibilité partielle est acceptable.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le contrôle List View est défilant si nécessaire. Si le paramètre *bPartialOK* est différent de zéro, aucun défilement ne se produit si l’élément est partiellement visible.

### <a name="example"></a>Exemple

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>  CListCtrl::FindItem

Recherche un élément de la vue liste avec les caractéristiques spécifiées.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Paramètres

*pFindInfo*<br/>
Pointeur vers une structure [LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) contenant des informations sur l’élément à rechercher.

*nStart*<br/>
Index de l’élément avec lequel commencer la recherche, ou-1 pour démarrer à partir du début. L’élément à *nStart* est exclu de la recherche si *nStart* n’est pas égal à-1.

### <a name="return-value"></a>Valeur de retour

Index de l’élément en cas de réussite ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

Le paramètre *pFindInfo* pointe vers une `LVFINDINFO` structure qui contient des informations utilisées pour rechercher un élément de la vue liste.

### <a name="example"></a>Exemples

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>  CListCtrl::GetBkColor

Récupère la couleur d’arrière-plan d’un contrôle List View.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Valeur 32 bits utilisée pour spécifier une couleur RVB.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: SetBkColor](#setbkcolor).

## <a name="getbkimage"></a>  CListCtrl::GetBkImage

Récupère l’image d’arrière-plan actuelle d’un contrôle List View.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Paramètres

*plvbkImage*<br/>
Pointeur vers une `LVBKIMAGE` structure contenant l’image d’arrière-plan actuelle de la vue liste.

### <a name="return-value"></a>Valeur de retour

Retourne une valeur différente de zéro en cas de réussite, ou zéro dans le cas contraire.

### <a name="remarks"></a>Notes

Cette méthode implémente le comportement de la macro Win32, [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>  CListCtrl::GetCallbackMask

Récupère le masque de rappel pour un contrôle List View.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Valeur de retour

Masque de rappel du contrôle List View.

### <a name="remarks"></a>Notes

Un « élément de rappel » est un élément de la vue liste pour lequel l’application, plutôt que le contrôle, stocke le texte, l’icône ou les deux. Bien qu’un contrôle List View puisse stocker ces attributs pour vous, vous souhaiterez peut-être utiliser des éléments de rappel si votre application gère déjà certaines de ces informations. Le masque de rappel spécifie les bits d’état d’élément qui sont gérés par l’application, et s’applique à l’ensemble du contrôle plutôt qu’à un élément spécifique. Par défaut, le masque de rappel est égal à zéro, ce qui signifie que le contrôle effectue le suivi de tous les États des éléments. Si une application utilise des éléments de rappel ou spécifie un masque de rappel différent de zéro, elle doit être en mesure de fournir des attributs d’élément de vue de liste à la demande.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: SetCallbackMask](#setcallbackmask).

## <a name="getcheck"></a>  CListCtrl::GetCheck

Récupère l’état d’affichage actuel de l’image d’État associée à un élément.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de base zéro d’un élément de contrôle de liste.

### <a name="return-value"></a>Valeur de retour

Différent de zéro si l’élément est sélectionné ; sinon, 0.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: SetCheck](#setcheck).

## <a name="getcolumn"></a>  CListCtrl::GetColumn

Récupère les attributs de la colonne d’un contrôle List View.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Index de la colonne dont les attributs doivent être récupérés.

*pColumn*<br/>
Adresse d’une structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) qui spécifie les informations pour récupérer et recevoir des informations sur la colonne. Le `mask` membre spécifie les attributs de colonne à récupérer. Si le `mask` membre spécifie la valeur LVCF_TEXT, `pszText` le membre doit contenir l’adresse de la mémoire tampon qui reçoit le texte de `cchTextMax` l’élément et le membre doit spécifier la taille de la mémoire tampon.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La `LVCOLUMN` structure contient des informations sur une colonne dans la vue rapport.

### <a name="example"></a>Exemples

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>  CListCtrl::GetColumnOrderArray

Récupère l’ordre des colonnes (de gauche à droite) d’un contrôle List View.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Paramètres

*piArray*<br/>
Pointeur vers une mémoire tampon qui contient les valeurs d’index des colonnes dans le contrôle List View. La mémoire tampon doit être suffisamment grande pour contenir le nombre total de colonnes dans le contrôle List View.

*iCount*<br/>
Nombre de colonnes dans le contrôle List View. Si ce paramètre a la valeur-1, le nombre de colonnes est automatiquement récupéré par l’infrastructure.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>  CListCtrl::GetColumnWidth

Récupère la largeur d’une colonne en mode rapport ou liste.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Spécifie l’index de la colonne dont la largeur doit être récupérée.

### <a name="return-value"></a>Valeur de retour

Largeur, en pixels, de la colonne spécifiée par *Ncol*.

### <a name="example"></a>Exemples

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>  CListCtrl::GetCountPerPage

Calcule le nombre d’éléments qui peuvent s’ajuster verticalement dans la zone visible d’un contrôle d’affichage de liste en mode liste ou rapport.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Valeur de retour

Nombre d’éléments qui peuvent s’ajuster verticalement dans la zone visible d’un contrôle d’affichage de liste en mode liste ou rapport.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: GetTopIndex](#gettopindex).

## <a name="geteditcontrol"></a>  CListCtrl::GetEditControl

Récupère le handle du contrôle d’édition utilisé pour modifier le texte d’un élément d’affichage de liste.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valeur de retour

En cas de réussite, pointeur vers l’objet [CEdit](cedit-class.md) utilisé pour modifier le texte de l’élément ; Sinon, NULL.

### <a name="example"></a>Exemple

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>  CListCtrl::GetEmptyText

Récupère la chaîne à afficher si le contrôle d’affichage de liste actuel est vide.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Valeur de retour

[CString](../../atl-mfc-shared/reference/cstringt-class.md) qui contient le texte à afficher si le contrôle est vide.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext) , qui est décrit dans le SDK Windows.

## <a name="getextendedstyle"></a>  CListCtrl::GetExtendedStyle

Récupère les styles étendus actuels d’un contrôle List View.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Valeur de retour

Combinaison des styles étendus actuellement utilisés par le contrôle List View. Pour obtenir une liste descriptive de ces styles étendus, consultez l’article [styles de vue de liste étendue](/windows/win32/Controls/extended-list-view-styles) dans le SDK Windows.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: SetExtendedStyle](#setextendedstyle).

## <a name="getfirstselecteditemposition"></a>  CListCtrl::GetFirstSelectedItemPosition

Obtient la position du premier élément sélectionné dans le contrôle List View.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Valeur de retour

Valeur de POSITION qui peut être utilisée pour la récupération de l’itération ou du pointeur d’objet ; NULL si aucun élément n’est sélectionné.

### <a name="example"></a>Exemples

L’exemple de code suivant illustre l’utilisation de cette fonction.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>  CListCtrl::GetFocusedGroup

Récupère le groupe qui a le focus clavier dans le contrôle de vue de liste actuel.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Valeur de retour

Index du groupe dont l’État est LVGS_FOCUSED, s’il existe un tel groupe ; Sinon,-1.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup) , qui est décrit dans le SDK Windows. Pour plus d’informations, consultez la valeur LVGS_FOCUSED du `state` membre de la structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .

## <a name="getgroupcount"></a>  CListCtrl::GetGroupCount

Récupère le nombre de groupes dans le contrôle List-View actuel.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Valeur de retour

Nombre de groupes dans le contrôle List-View.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount) , qui est décrit dans la SDK Windows-->.

## <a name="getgroupinfo"></a>  CListCtrl::GetGroupInfo

Obtient les informations pour un groupe spécifié du contrôle d’affichage de liste.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Paramètres

*iGroupId*<br/>
Identificateur du groupe dont les informations doivent être récupérées.

*pgrp*<br/>
Pointeur vers le [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenant des informations sur le groupe spécifié.

### <a name="return-value"></a>Valeur de retour

Retourne l’ID du groupe en cas de réussite, ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo) , comme décrit dans la SDK Windows.

## <a name="getgroupinfobyindex"></a>  CListCtrl::GetGroupInfoByIndex

Récupère des informations sur un groupe spécifié dans le contrôle List-View actuel.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iIndex*|dans Index de base zéro d’un groupe.|
|*pGroup*|à Pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui reçoit des informations sur le groupe spécifié par le paramètre *iIndex* .<br /><br /> L’appelant est chargé d’initialiser les membres de la structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) . Définissez le `mask` membre sur la taille de la structure et les indicateurs du membre pour spécifier les informations à récupérer. `cbSize`|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex) , qui est décrit dans la SDK Windows-->.

### <a name="example"></a>Exemple

L’exemple de code suivant définit une variable `m_listCtrl`,, qui est utilisée pour accéder au contrôle de vue de liste actuel. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code suivant illustre `GetGroupInfoByIndex` la méthode. Dans une section précédente de cet exemple de code, nous avons créé un contrôle List-View qui affiche deux colonnes intitulées « ClientID » et « grade » dans une vue rapport. L’exemple de code suivant récupère des informations sur le groupe dont l’index est 0, si ce groupe existe.
```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>  CListCtrl::GetGroupMetrics

Récupère les métriques d’un groupe.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Paramètres

*pGroupMetrics*<br/>
Pointeur vers un [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenant les informations de métriques de groupe.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics) , comme décrit dans la SDK Windows.

## <a name="getgrouprect"></a>  CListCtrl::GetGroupRect

Récupère le rectangle englobant pour un groupe spécifié dans le contrôle de vue de liste actuel.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iGroupId*|dans Spécifie un groupe.|
|*lpRect*|[in, out] Pointeur vers une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) . Si cette méthode réussit, la structure reçoit les coordonnées de rectangle du groupe spécifié par *iGroupId*.|
|*iCoords*|dans Spécifie les coordonnées de rectangle à récupérer. Utilisez l’une des valeurs suivantes :<br /><br /> -LVGGR_GROUP-(par défaut) coordonnées de l’ensemble du groupe développé.<br />-LVGGR_HEADER : coordonnées de l’en-tête uniquement (groupe réduit).<br />-LVGGR_SUBSETLINK : coordonnées du lien du sous-ensemble (sous-ensemble de balises).|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

L’appelant est chargé d’allouer la structure [Rect](/previous-versions/dd162897\(v=vs.85\)) vers laquelle pointe le paramètre *pRect* .

Cette méthode envoie le message [LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect) , qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

L’exemple de code suivant définit une variable `m_listCtrl`,, qui est utilisée pour accéder au contrôle de vue de liste actuel. Cette variable est utilisée dans l'exemple suivant.
```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code suivant illustre `GetGroupRect` la méthode. Dans une section précédente de cet exemple de code, nous avons créé un contrôle List-View qui affiche deux colonnes intitulées « ClientID » et « grade » dans une vue rapport. L’exemple de code suivant dessine un rectangle 3D autour du groupe dont l’index est 0, si ce groupe existe.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>  CListCtrl::GetGroupState

Récupère l’état d’un groupe spécifié dans le contrôle List-View actuel.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iGroupId*|dans Index de base zéro d’un groupe.|
|*dwMask*|dans Masque qui spécifie la valeur d’État à récupérer pour le groupe spécifié. Pour plus d’informations, consultez `mask` le membre de la structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .|

### <a name="return-value"></a>Valeur de retour

État demandé pour le groupe spécifié, ou 0 si le groupe est introuvable.

### <a name="remarks"></a>Notes

La valeur de retour est le résultat d’une opération and au niveau du bit sur le paramètre *dwMask* et `state` de la valeur du membre d’une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui représente le contrôle List-View actuel.

Cette méthode envoie le message [LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate) , qui est décrit dans le SDK Windows. Pour plus d’informations, consultez la macro [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate) .

## <a name="getheaderctrl"></a>  CListCtrl::GetHeaderCtrl

Récupère le contrôle d’en-tête d’un contrôle List View.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Valeur de retour

Pointeur vers le contrôle d’en-tête, utilisé par le contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: GetColumnOrderArray](#getcolumnorderarray).

## <a name="gethotcursor"></a>  CListCtrl::GetHotCursor

Récupère le curseur utilisé lorsque la sélection à chaud est activée pour un contrôle List View.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Valeur de retour

Handle de la ressource de curseur actif en cours d’utilisation par le contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), comme décrit dans la SDK Windows. Le curseur actif, visible uniquement lorsque la sélection de survol est activée, apparaît lorsque le curseur passe sur un élément de la vue liste. La sélection au survol est activée en définissant le style étendu LVS_EX_TRACKSELECT.

### <a name="example"></a>Exemple

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>  CListCtrl::GetHotItem

Récupère l’élément d’affichage de liste actuellement sous le curseur.

```
int GetHotItem();
```

### <a name="return-value"></a>Valeur de retour

Index de l’élément réactif actuel du contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), comme décrit dans la SDK Windows. L’élément réactif est défini en tant qu’élément actuellement sélectionné lors de l’activation de la sélection active.

Si la sélection active est activée, lorsqu’un utilisateur s’arrête sur un élément de la vue liste, l’étiquette de l’élément est automatiquement mise en surbrillance sans utiliser de bouton de la souris.

### <a name="example"></a>Exemples

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>  CListCtrl::GetHoverTime

Récupère le temps de survol actuel d’un contrôle List View.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne le délai, en millisecondes, pendant lequel le curseur de la souris doit pointer sur un élément avant d’être sélectionné. Si la valeur de retour est-1, la durée de pointage est la durée de pointage par défaut.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>  CListCtrl::GetImageList

Récupère le handle d’une liste d’images utilisée pour dessiner des éléments de la vue liste.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Paramètres

*nImageList*<br/>
Valeur spécifiant la liste d’images à récupérer. Il peut s’agir de l’une des valeurs suivantes :

- Liste d’images LVSIL_NORMAL avec grandes icônes.

- Liste d’images LVSIL_SMALL avec petites icônes.

- Liste d’images LVSIL_STATE avec images d’État.

### <a name="return-value"></a>Valeur de retour

Pointeur vers la liste d’images utilisée pour le dessin des éléments de la vue liste.

### <a name="example"></a>Exemple

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>  CListCtrl::GetInsertMark

Récupère la position actuelle de la marque d’insertion.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Paramètres

*plvim*<br/>
Pointeur vers une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) contenant les informations relatives à la marque d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, ou FALSe dans le cas contraire. La valeur false est retournée si `cbSize` la taille du `LVINSERTMARK` membre de la structure n’est pas égale à la taille réelle de la structure.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark) , comme décrit dans la SDK Windows.

## <a name="getinsertmarkcolor"></a>  CListCtrl::GetInsertMarkColor

Récupère la couleur actuelle de la marque d’insertion.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne une structure [COLORREF](/windows/win32/gdi/colorref) qui contient la couleur du point d’insertion.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor) , comme décrit dans la SDK Windows.

## <a name="getinsertmarkrect"></a>  CListCtrl::GetInsertMarkRect

Récupère le rectangle qui délimite le point d’insertion.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

*pRect*<br/>
Pointeur vers une `RECT` structure qui contient les coordonnées d’un rectangle qui délimite le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne l’une des valeurs suivantes :

- **0** aucun point d’insertion trouvé.

- **1** point d’insertion trouvé.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect) , comme décrit dans la SDK Windows.

## <a name="getitem"></a>  CListCtrl::GetItem

Récupère une partie ou la totalité des attributs d’un élément d’affichage de liste.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Paramètres

*pItem*<br/>
Pointeur vers une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui reçoit les attributs de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La `LVITEM` structure spécifie ou reçoit les attributs d’un élément de la vue liste.

## <a name="getitemcount"></a>  CListCtrl::GetItemCount

Récupère le nombre d’éléments dans un contrôle List View.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Valeur de retour

Nombre d’éléments dans le contrôle List View.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl ::D eleteitem](#deleteitem).

## <a name="getitemdata"></a>  CListCtrl::GetItemData

Récupère la valeur propre à l’application 32 bits associée à l’élément spécifié par `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément de liste dont les données doivent être récupérées.

### <a name="return-value"></a>Valeur de retour

Valeur spécifique à l’application 32 bits associée à l’élément spécifié.

### <a name="remarks"></a>Notes

Cette valeur est le `lParam` membre de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , comme décrit dans le SDK Windows

### <a name="example"></a>Exemple

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>  CListCtrl::GetItemIndexRect

Récupère le rectangle englobant pour l’intégralité ou une partie d’un sous-élément dans le contrôle List-View actuel.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|dans Pointeur vers une structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) pour l’élément parent du sous-élément.<br /><br /> L’appelant est chargé d’allouer et de définir les membres de la structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) . Ce paramètre ne peut pas être NULL.|
|*iColumn*|dans Index de base zéro d’une colonne dans le contrôle.|
|*rectType*|dans Partie du sous-élément de vue de liste pour lequel le rectangle englobant est récupéré. Spécifiez l'une des valeurs suivantes :<br /><br /> LVIR_BOUNDS : retourne le rectangle englobant du sous-élément entier, y compris l’icône et l’étiquette.<br /><br /> LVIR_ICON : retourne le rectangle englobant de l’icône ou de la petite icône du sous-élément.<br /><br /> LVIR_LABEL : retourne le rectangle englobant du texte du sous-élément.|
|*pRect*|à Pointeur vers une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) qui reçoit des informations sur le rectangle englobant du sous-élément.<br /><br /> L’appelant est chargé d’allouer la structure [Rect](/previous-versions/dd162897\(v=vs.85\)) . Ce paramètre ne peut pas être NULL.|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect) , qui est décrit dans le SDK Windows. Pour plus d’informations, consultez [ListView_GetItemIndexRect macro](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Exemple

L’exemple de code suivant définit une variable `m_listCtrl`,, qui est utilisée pour accéder au contrôle de vue de liste actuel. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code suivant illustre `GetGroupRect` la méthode. Avant d’entrer dans cet exemple de code, nous avons créé un contrôle List-View qui affiche deux colonnes intitulées « ClientID » et « grade » dans une vue rapport. L’exemple de code suivant dessine un rectangle 3D autour du deuxième sous-élément dans les deux colonnes.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>  CListCtrl::GetItemPosition

Récupère la position d’un élément de la vue liste.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont la position doit être récupérée.

*lpPoint*<br/>
Adresse d’une structure de [points](/previous-versions/dd162805\(v=vs.85\)) qui reçoit la position de l’angle supérieur gauche de l’élément, dans les coordonnées de la vue.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemples

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>  CListCtrl::GetItemRect

Récupère le rectangle englobant pour l’intégralité ou une partie d’un élément dans l’affichage actuel.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont la position doit être récupérée.

*lpRect*<br/>
Adresse d’une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) qui reçoit le rectangle englobant.

*nCode*<br/>
Partie de l’élément d’affichage de liste pour lequel récupérer le rectangle englobant. Il peut s’agir de l’une des valeurs suivantes :

- LVIR_BOUNDS retourne le rectangle englobant de l’élément entier, y compris l’icône et l’étiquette.

- LVIR_ICON retourne le rectangle englobant de l’icône ou de la petite icône.

- LVIR_LABEL retourne le rectangle englobant du texte de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>  CListCtrl::GetItemSpacing

Calcule l’espacement entre les éléments du contrôle de vue de liste actuel.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*fSmall*|dans Vue pour laquelle récupérer l’espacement des éléments. Spécifiez TRUE pour la vue petite icône ou FALSe pour la vue icône.|
|*pnHorzSpacing*|à Contient l’espacement horizontal entre les éléments.|
|*pnVertSpacing*|à Contient l’espacement vertical entre les éléments.|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing) , qui est décrit dans le SDK Windows.

## <a name="getitemstate"></a>  CListCtrl::GetItemState

Récupère l’état d’un élément de la vue liste.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont l’État doit être récupéré.

*nMask*<br/>
Masque spécifiant les indicateurs d’état de l’élément à retourner.

### <a name="return-value"></a>Valeur de retour

Indicateurs d’État pour l’élément d’affichage de liste spécifié.

### <a name="remarks"></a>Notes

L’état d’un élément est spécifié par `state` le membre de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , comme décrit dans la SDK Windows. Lorsque vous spécifiez ou modifiez l’état d’un élément `stateMask` , le membre spécifie les bits d’État que vous souhaitez modifier.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetTopIndex](#gettopindex).

## <a name="getitemtext"></a>  CListCtrl::GetItemText

Récupère le texte d’un élément ou d’un sous-élément d’un affichage de liste.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont le texte doit être récupéré.

*nSubItem*<br/>
Spécifie le sous-élément dont le texte doit être récupéré.

*lpszText*<br/>
Pointeur vers une chaîne qui doit recevoir le texte de l’élément.

*nLen*<br/>
Longueur de la mémoire tampon vers laquelle pointe *lpszText*.

### <a name="return-value"></a>Valeur de retour

La version qui retourne **int** retourne la longueur de la chaîne récupérée.

La version qui retourne `CString` un retourne le texte de l’élément.

### <a name="remarks"></a>Notes

Si *nSubItem* est égal à zéro, cette fonction récupère l’étiquette de l’élément ; Si *nSubItem* est différent de zéro, il récupère le texte du sous-élément. Pour plus d’informations sur l’argument de sous-élément, consultez la description de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) dans le SDK Windows.

## <a name="getnextitem"></a>  CListCtrl::GetNextItem

Recherche un élément d’affichage de liste qui a les propriétés spécifiées et qui porte la relation spécifiée à un élément donné.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément à partir duquel commencer la recherche, ou-1 pour rechercher le premier élément qui correspond aux indicateurs spécifiés. L’élément spécifié lui-même est exclu de la recherche.

*nFlags*<br/>
Relation géométrique de l’élément demandé avec l’élément spécifié et l’état de l’élément demandé. La relation géométrique peut être l’une des valeurs suivantes :

- LVNI_ABOVE recherche un élément qui se trouve au-dessus de l’élément spécifié.

- LVNI_ALL recherche un élément suivant par index (valeur par défaut).

- LVNI_BELOW recherche un élément qui se trouve sous l’élément spécifié.

- LVNI_TOLEFT recherche un élément à gauche de l’élément spécifié.

- LVNI_TORIGHT recherche un élément à droite de l’élément spécifié.

L’État peut être égal à zéro ou peut être une ou plusieurs des valeurs suivantes :

- LVNI_DROPHILITED l’indicateur d’État LVIS_DROPHILITED est défini pour l’élément.

- LVNI_FOCUSED l’indicateur d’État LVIS_FOCUSED est défini pour l’élément.

- LVNI_SELECTED l’indicateur d’État LVIS_SELECTED est défini pour l’élément.

Si tous les indicateurs d’état spécifiés ne sont pas définis pour un élément, la recherche se poursuit avec l’élément suivant.

### <a name="return-value"></a>Valeur de retour

Index de l’élément suivant en cas de réussite, ou-1 dans le cas contraire.

## <a name="getnextitemindex"></a>  CListCtrl::GetNextItemIndex

Récupère l’index de l’élément dans le contrôle List-View actuel qui possède un jeu de propriétés spécifié.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|[in, out] Pointeur vers la structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) qui décrit l’élément où la recherche commence, ou-1 pour rechercher le premier élément qui correspond aux indicateurs dans le paramètre *nFlags* .<br /><br /> Si cette méthode réussit, la `LVITEMINDEX` structure décrit l’élément trouvé par la recherche.|
|*nFlags*|dans Combinaison de bits (OR) d’indicateurs qui spécifient comment effectuer la recherche.<br /><br /> La recherche peut dépendre de l’index, de l’État ou de l’apparence de l’élément cible, ou de la position physique de l’élément cible par rapport à l’élément spécifié par le paramètre *pItemIndex* . Pour plus d’informations, consultez le paramètre *Flags* dans le message [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) .|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

L’appelant est chargé d’allouer et de définir les membres `LVITEMINDEX` de la structure vers laquelle pointe le paramètre *pItemIndex* .

Cette méthode envoie le message [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) , qui est décrit dans le SDK Windows.

## <a name="getnextselecteditem"></a>  CListCtrl::GetNextSelectedItem

Obtient l’index de l’élément de liste identifié par *pos*, puis définit *pos* sur la valeur de position.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Paramètres

*imprim*<br/>
Référence à une valeur de position retournée par un appel précédent `GetNextSelectedItem` à `GetFirstSelectedItemPosition`ou. La valeur est mise à jour à la position suivante par cet appel.

### <a name="return-value"></a>Valeur de retour

Index de l’élément de liste identifié par *pos*.

### <a name="remarks"></a>Notes

Vous pouvez utiliser `GetNextSelectedItem` dans une boucle d’itération directe si vous établissez la position initiale avec un `GetFirstSelectedItemPosition`appel à.

Vous devez vous assurer que votre valeur de POSITION est valide. S’il n’est pas valide, la version de débogage du bibliothèque MFC (Microsoft Foundation Class) Assert.

### <a name="example"></a>Exemple

L’exemple de code suivant illustre l’utilisation de cette fonction.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>  CListCtrl::GetNumberOfWorkAreas

Récupère le nombre actuel de zones de travail pour un contrôle List View.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Valeur de retour

Non utilisé pour l’instant.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>  CListCtrl::GetOutlineColor

Récupère la couleur de la bordure d’un contrôle List View.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne une structure [COLORREF](/windows/win32/gdi/colorref) contenant la couleur de contour.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor) , comme décrit dans la SDK Windows.

## <a name="getorigin"></a>  CListCtrl::GetOrigin

Récupère l’origine de la vue actuelle pour un contrôle List View.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Paramètres

*lpPoint*<br/>
Adresse d’une structure de [point](/previous-versions/dd162805\(v=vs.85\)) qui reçoit l’origine de la vue.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro. Toutefois, si le contrôle est en mode rapport, la valeur de retour est toujours égale à zéro.

## <a name="getselectedcolumn"></a>  CListCtrl::GetSelectedColumn

Récupère l’index de la colonne actuellement sélectionnée dans le contrôle de liste.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Valeur de retour

Index de la colonne sélectionnée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn) , comme décrit dans la SDK Windows.

## <a name="getselectedcount"></a>  CListCtrl::GetSelectedCount

Récupère le nombre d’éléments sélectionnés dans le contrôle List View.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Valeur de retour

Nombre d’éléments sélectionnés dans le contrôle List View.

### <a name="example"></a>Exemple

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>  CListCtrl::GetSelectionMark

Récupère la marque de sélection d’un contrôle List View.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Valeur de retour

Marque de sélection de base zéro, ou-1 s’il n’y a aucune marque de sélection.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>  CListCtrl::GetStringWidth

Détermine la largeur minimale de la colonne nécessaire pour afficher l’intégralité d’une chaîne donnée.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Paramètres

*lpsz*<br/>
Adresse d’une chaîne se terminant par un caractère null dont la largeur doit être déterminée.

### <a name="return-value"></a>Valeur de retour

Largeur, en pixels, de la chaîne vers laquelle pointe *lpsz*.

### <a name="remarks"></a>Notes

La largeur retournée prend en compte la police actuelle du contrôle et les marges de colonne, mais pas la largeur d’une petite icône.

### <a name="example"></a>Exemple

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>  CListCtrl::GetSubItemRect

Récupère le rectangle englobant d’un élément dans un contrôle List View.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Paramètres

*iItem*<br/>
Index de l’élément parent du sous-élément.

*iSubItem*<br/>
Index de base un du sous-élément.

*nArea*<br/>
Détermine la partie du rectangle englobant (du sous-élément d’affichage de liste) à récupérer. La partie (icône, étiquette, ou les deux) du rectangle englobant est spécifiée en appliquant l’opérateur de bits or à une ou plusieurs des valeurs suivantes :

- LVIR_BOUNDS retourne le rectangle englobant de l’élément entier, y compris l’icône et l’étiquette.

- LVIR_ICON retourne le rectangle englobant de l’icône ou de la petite icône.

- LVIR_LABEL retourne le rectangle englobant de l’élément entier, y compris l’icône et l’étiquette. Ce nom est identique à LVIR_BOUNDS.

*ref*<br/>
Référence à un objet [CRect](../../atl-mfc-shared/reference/crect-class.md) qui contient les coordonnées du rectangle englobant du sous-élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), comme décrit dans la SDK Windows.

## <a name="gettextbkcolor"></a>  CListCtrl::GetTextBkColor

Récupère la couleur d’arrière-plan du texte d’un contrôle List View.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Valeur 32 bits utilisée pour spécifier une couleur RVB.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: SetTextBkColor](#settextbkcolor).

## <a name="gettextcolor"></a>  CListCtrl::GetTextColor

Récupère la couleur de texte d’un contrôle List View.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valeur de retour

Valeur 32 bits utilisée pour spécifier une couleur RVB.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: SetTextColor](#settextcolor).

## <a name="gettileinfo"></a>  CListCtrl::GetTileInfo

Récupère des informations sur une vignette dans un contrôle List View.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Paramètres

*plvti*<br/>
Pointeur vers une structure [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) qui reçoit les informations de la vignette.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo) , comme décrit dans la SDK Windows.

## <a name="gettileviewinfo"></a>  CListCtrl::GetTileViewInfo

Récupère des informations sur un contrôle d’affichage de liste en mode mosaïque.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Paramètres

*ptvi*<br/>
Pointeur vers une structure [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) qui reçoit les informations récupérées.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo) , comme décrit dans la SDK Windows.

## <a name="gettooltips"></a>  CListCtrl::GetToolTips

Récupère le contrôle ToolTip utilisé par le contrôle d’affichage de liste pour afficher des info-bulles.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valeur de retour

Pointeur vers un objet [CToolTipCtrl](ctooltipctrl-class.md) à utiliser par le contrôle de liste. Si la fonction membre [Create](#create) utilise le style LVS_NOTOOLTIPS, aucune info-bulle n’est utilisée et la valeur null est retournée.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement du [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips)de message Win32, comme décrit dans la SDK Windows. L’implémentation MFC de `GetToolTips` retourne un `CToolTipCtrl` objet, qui est utilisé par le contrôle de liste, plutôt qu’un handle vers un contrôle ToolTip.

### <a name="example"></a>Exemples

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>  CListCtrl::GetTopIndex

Récupère l’index de l’élément le plus visible en mode liste ou rapport.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Valeur de retour

Index de l’élément le plus visible.

### <a name="example"></a>Exemples

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>  CListCtrl::GetView

Obtient la vue du contrôle List View.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Valeur de retour

Affichage actuel du contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_GETVIEW](/windows/win32/Controls/lvm-getview) , comme décrit dans la SDK Windows.

## <a name="getviewrect"></a>  CListCtrl::GetViewRect

Récupère le rectangle englobant de tous les éléments dans le contrôle List View.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Paramètres

*lpRect*<br/>
Adresse d’une structure [Rect](/previous-versions/dd162897\(v=vs.85\)) .

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La vue liste doit être en mode icône ou petite icône.

## <a name="getworkareas"></a>  CListCtrl::GetWorkAreas

Récupère les zones de travail actuelles d’un contrôle List View.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

*nWorkAreas*<br/>
Nombre de `RECT` structures contenues dans le tableau *pRect* .

*pRect*<br/>
Pointeur vers un tableau de `RECT` structures (ou objets [CRect](../../atl-mfc-shared/reference/crect-class.md) ) qui reçoivent les zones de travail du contrôle List View. Les valeurs de ces structures sont exprimées en coordonnées clientes.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="hasgroup"></a>  CListCtrl::HasGroup

Détermine si le contrôle List View a le groupe spécifié.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Paramètres

*iGroupId*<br/>
Identificateur du groupe demandé.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, FALSe en cas d’échec.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup) , comme décrit dans la SDK Windows.

## <a name="hittest"></a>  CListCtrl::HitTest

Détermine l’élément d’affichage de liste, le cas échéant, à une position spécifiée.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Paramètres

*pHitTestInfo*<br/>
Adresse d’une `LVHITTESTINFO` structure qui contient la position à laquelle effectuer un test de positionnement et qui reçoit des informations sur les résultats du test de positionnement.

*pt*<br/>
Point à tester.

*pFlags*<br/>
Pointeur vers un entier qui reçoit des informations sur les résultats du test. Consultez l’explication du `flags` membre de la structure [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Index de l’élément à la position spécifiée par *pHitTestInfo*, le cas échéant, ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

Vous pouvez utiliser les valeurs LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT et LVHT_TORIGHT du `flag` membre de la structure pour déterminer s’il faut faire défiler le contenu d’un contrôle List View. Deux de ces indicateurs peuvent être combinés, par exemple, si la position est au-dessus et à gauche de la zone cliente.

Vous pouvez tester la valeur LVHT_ONITEM du `flag` membre de la structure pour déterminer si une position donnée se trouve sur un élément de la vue liste. Cette valeur est une opération or au niveau du bit sur les valeurs LVHT_ONITEMICON, LVHT_ONITEMLABEL et LVHT_ONITEMSTATEICON du `flag` membre de la structure.

### <a name="example"></a>Exemples

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>  CListCtrl::InsertColumn

Insère une nouvelle colonne dans un contrôle List View.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Index de la nouvelle colonne.

*pColumn*<br/>
Adresse d’une `LVCOLUMN` structure qui contient les attributs de la nouvelle colonne.

*lpszColumnHeading*<br/>
Adresse d’une chaîne contenant l’en-tête de la colonne.

*nFormat*<br/>
Entier spécifiant l’alignement de la colonne. Il peut s’agir de l’une des valeurs suivantes : LVCFMT_LEFT, LVCFMT_RIGHT ou LVCFMT_CENTER.

*nWidth*<br/>
Largeur de la colonne, en pixels. Si ce paramètre a la valeur-1, la largeur de colonne n’est pas définie.

*nSubItem*<br/>
Index du sous-élément associé à la colonne. Si ce paramètre est défini sur-1, aucun sous-élément n’est associé à la colonne.

### <a name="return-value"></a>Valeur de retour

Index de la nouvelle colonne en cas de réussite ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

La colonne la plus à gauche dans un contrôle List View doit être alignée à gauche.

La structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) contient les attributs d’une colonne dans la vue rapport. Elle est également utilisée pour recevoir des informations sur une colonne. Cette structure est décrite dans la SDK Windows.

## <a name="insertgroup"></a>  CListCtrl::InsertGroup

Insère un groupe dans le contrôle List View.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Paramètres

*index*<br/>
Index de l’élément dans lequel le groupe doit être inséré.

*pgrp*<br/>
Pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenant le groupe à ajouter.

### <a name="return-value"></a>Valeur de retour

Retourne l’index de l’élément auquel le groupe a été ajouté, ou-1 si l’opération a échoué.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup) , comme décrit dans la SDK Windows.

## <a name="insertgroupsorted"></a>  CListCtrl::InsertGroupSorted

Insère le groupe spécifié dans une liste ordonnée de groupes.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Paramètres

*pStructInsert*<br/>
Pointeur vers une structure [LVINSERTGROUPSORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) qui contient le groupe à insérer.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted) , comme décrit dans la SDK Windows.

## <a name="insertitem"></a>  CListCtrl::InsertItem

Insère un élément dans le contrôle List View.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Paramètres

*pItem*<br/>
Pointeur vers une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui spécifie les attributs de l’élément, comme décrit dans la SDK Windows.

*nItem*<br/>
Index de l’élément à insérer.

*lpszItem*<br/>
Adresse d’une chaîne contenant l’étiquette de l’élément, ou LPSTR_TEXTCALLBACK si l’élément est un élément de rappel. Pour plus d’informations sur les éléments de rappel, consultez [CListCtrl :: GetCallbackMask](#getcallbackmask).

*nImage*<br/>
Index de l’image de l’élément, ou I_IMAGECALLBACK si l’élément est un élément de rappel. Pour plus d’informations sur les éléments de rappel, consultez [CListCtrl :: GetCallbackMask](#getcallbackmask).

*nMask*<br/>
Le paramètre *nMask* spécifie quels attributs d’élément passés comme paramètres sont valides. Il peut s’agir d’une ou plusieurs des valeurs de masque décrites dans la [structure LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) de l’SDK Windows. Les valeurs valides peuvent être combinées avec l’opérateur or au niveau du bit.

*nState*<br/>
Indique l’état de l’élément, l’image d’État et l’image de superposition. Pour plus d’informations, consultez les rubriques SDK Windows [LVITEM structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) et [List-View Item States](/windows/win32/Controls/list-view-item-states) pour obtenir la liste des indicateurs valides.

*nStateMask*<br/>
Indique les bits du membre d’État qui seront récupérés ou modifiés. Pour plus d’informations, consultez [structure LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) dans le SDK Windows.

*lParam*<br/>
Valeur spécifique à l’application 32 bits associée à l’élément. Si ce paramètre est spécifié, vous devez définir l’attribut *NMASK* LVIF_PARAM.

### <a name="return-value"></a>Valeur de retour

Index du nouvel élément en cas de réussite ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

L’appel de cette méthode peut entraîner l’envoi du message LVM_INSERTITEM à votre fenêtre de contrôle. Le gestionnaire de messages associé pour le contrôle peut ne pas réussir à définir le texte de l’élément sous certaines conditions (par exemple, en utilisant des styles de fenêtre tels que LVS_OWNERDRAW). Pour plus d’informations sur ces conditions, consultez [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>  CListCtrl::InsertMarkHitTest

Récupère le point d’insertion le plus proche d’un point spécifié.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Paramètres

*pPoint*<br/>
Pointeur vers une structure de [points](/previous-versions/dd162805\(v=vs.85\)) qui contient les coordonnées de test de positionnement par rapport à la zone cliente du contrôle de liste.

*plvim*<br/>
Pointeur vers une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) qui spécifie le point d’insertion le plus proche des coordonnées définies par le paramètre point.

### <a name="return-value"></a>Valeur de retour

Point d’insertion le plus proche du point spécifié.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest) , comme décrit dans la SDK Windows.

## <a name="isgroupviewenabled"></a>  CListCtrl::IsGroupViewEnabled

Détermine si la vue de groupe est activée pour un contrôle List View.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE si la vue de groupe est activée, ou FALSe dans le cas contraire.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled) , comme décrit dans la SDK Windows.

## <a name="isitemvisible"></a>  CListCtrl::IsItemVisible

Indique si un élément spécifié dans le contrôle d’affichage de liste actuel est visible.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*index*|dans Index de base zéro d’un élément dans le contrôle List-View actuel.|

### <a name="return-value"></a>Valeur de retour

TRUE si l’élément spécifié est visible ; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible) , qui est décrit dans le SDK Windows.

## <a name="mapidtoindex"></a>  CListCtrl::MapIDToIndex

Mappe l’ID unique d’un élément dans le contrôle List-View actuel à un index.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*id*|dans ID unique d’un élément.|

### <a name="return-value"></a>Valeur de retour

Index actuel de l’ID spécifié.

### <a name="remarks"></a>Notes

Un contrôle List-View effectue le suivi interne des éléments par index. Cela peut présenter des problèmes, car les index peuvent changer pendant la durée de vie du contrôle. Le contrôle List-View peut baliser un élément avec un ID lors de la création de l’élément et vous pouvez utiliser cet ID pour garantir l’unicité pendant la durée de vie du contrôle List-View.

Notez que dans un environnement multithread, l’index est garanti uniquement sur le thread qui héberge le contrôle List-View, et non sur les threads d’arrière-plan.

Cette méthode envoie le message [LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex) , qui est décrit dans le SDK Windows.

## <a name="mapindextoid"></a>  CListCtrl::MapIndexToID

Mappe l’index d’un élément dans le contrôle d’affichage de liste actuel à un ID unique.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*index*|dans Index de base zéro d’un élément.|

### <a name="return-value"></a>Valeur de retour

ID unique de l’élément spécifié.

### <a name="remarks"></a>Notes

Un contrôle List-View effectue le suivi interne des éléments par index. Cela peut présenter des problèmes, car les index peuvent changer pendant la durée de vie du contrôle. Le contrôle List-View peut baliser un élément avec un ID lors de la création de l’élément. Vous pouvez utiliser cet ID pour accéder à un élément spécifique pendant la durée de vie du contrôle List-View.

Notez que dans un environnement multithread, l’index est garanti uniquement sur le thread qui héberge le contrôle List-View, et non sur les threads d’arrière-plan.

Cette méthode envoie le message [LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid) , qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemples

L’exemple de code suivant définit une variable `m_listCtrl`,, qui est utilisée pour accéder au contrôle de vue de liste actuel. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code suivant illustre `MapIndexToID` la méthode. Dans une section précédente de cet exemple de code, nous avons créé un contrôle List-View qui affiche deux colonnes intitulées « ClientID » et « grade » dans une vue rapport. L’exemple suivant mappe l’index de chaque élément de vue de liste à un numéro d’identification, puis récupère l’index pour chaque numéro d’identification. Enfin, l’exemple indique si les index d’origine ont été récupérés.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>  CListCtrl::MoveGroup

Déplace le groupe spécifié vers l’index de base zéro spécifié du contrôle d’affichage de liste.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Paramètres

*iGroupId*<br/>
Identificateur du groupe à déplacer.

*toIndex*<br/>
Index de base zéro où le groupe doit être déplacé.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup) , comme décrit dans la SDK Windows.

## <a name="moveitemtogroup"></a>  CListCtrl::MoveItemToGroup

Déplace l’élément spécifié dans le groupe spécifié.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Paramètres

*idItemFrom*<br/>
dans Index de l’élément à déplacer.

*idGroupTo*<br/>
dans Identificateur du groupe vers lequel l’élément sera déplacé.

### <a name="remarks"></a>Notes

> [!NOTE]
>  Cette méthode n’est pas implémentée actuellement.

Cette méthode émule les fonctionnalités du message [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup) , comme décrit dans la SDK Windows.

## <a name="redrawitems"></a>  CListCtrl::RedrawItems

Force un contrôle List View à repeindre une plage d’éléments.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Paramètres

*nFirst*<br/>
Index du premier élément à repeindre.

*nLast*<br/>
Index du dernier élément à repeindre.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Les éléments spécifiés ne sont pas réellement repeints tant que la fenêtre d’affichage de liste n’a pas reçu de message WM_PAINT. Pour redessiner immédiatement, appelez la fonction [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow) de Windows après avoir utilisé cette fonction.

## <a name="removeallgroups"></a>  CListCtrl::RemoveAllGroups

Supprime tous les groupes d’un contrôle List View.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups) , comme décrit dans la SDK Windows.

## <a name="removegroup"></a>  CListCtrl::RemoveGroup

Supprime le groupe spécifié du contrôle List View.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Paramètres

*iGroupId*<br/>
Identificateur du groupe à supprimer.

### <a name="return-value"></a>Valeur de retour

Retourne l’index du groupe en cas de réussite, ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup) , comme décrit dans la SDK Windows.

## <a name="scroll"></a>  CListCtrl::Scroll

Fait défiler le contenu d’un contrôle List View.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Paramètres

*size*<br/>
`CSize` Objet spécifiant la quantité de défilement horizontal et vertical, en pixels. Le `y` membre de *Size* est divisé par la hauteur, en pixels, de la ligne du contrôle d’affichage de liste, et le contrôle est défilé par le nombre de lignes résultant.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

## <a name="setbkcolor"></a>  CListCtrl::SetBkColor

Définit la couleur d’arrière-plan du contrôle List View.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*cr*<br/>
Couleur d’arrière-plan à définir, ou valeur CLR_NONE pour aucune couleur d’arrière-plan. Les contrôles d’affichage de liste avec des couleurs d’arrière-plan se redessinent beaucoup plus rapidement que ceux sans couleurs d’arrière-plan. Pour plus d’informations, consultez [COLORREF](/windows/win32/gdi/colorref) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>  CListCtrl::SetBkImage

Définit l’image d’arrière-plan d’un contrôle List View.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Paramètres

*plvbkImage*<br/>
Adresse d’une `LVBKIMAGE` structure contenant les nouvelles informations sur l’image d’arrière-plan.

*hBitmap*<br/>
Handle d’une bitmap.

*pszUrl*<br/>
Chaîne terminée par le caractère NULL qui contient l’URL de l’image d’arrière-plan.

*fTile*<br/>
Différent de zéro si l’image doit être affichée en mosaïque à l’arrière-plan du contrôle List View ; Sinon, 0.

*xOffsetPercent*<br/>
Offset, en pixels, du bord gauche de l’image, à partir de l’origine du contrôle List View.

*yOffsetPercent*<br/>
Offset, en pixels, du bord supérieur de l’image, à partir de l’origine du contrôle List View.

### <a name="return-value"></a>Valeur de retour

Retourne une valeur différente de zéro en cas de réussite, ou zéro dans le cas contraire.

### <a name="remarks"></a>Notes

> [!NOTE]
>  Étant `CListCtrl::SetBkImage` donné que utilise la fonctionnalité com OLE, les bibliothèques OLE doivent être initialisées avant `SetBkImage`d’utiliser. Il est préférable d’initialiser les bibliothèques COM lorsque l’application est initialisée et de ne pas initialiser les bibliothèques lorsque l’application se termine. Cela s’effectue automatiquement dans les applications MFC qui utilisent la technologie ActiveX, OLE Automation, la liaison/incorporation OLE ou les opérations ODBC/DAO.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetBkImage](#getbkimage).

## <a name="setcallbackmask"></a>  CListCtrl::SetCallbackMask

Définit le masque de rappel pour un contrôle List View.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Paramètres

*nMask*<br/>
Nouvelle valeur du masque de rappel.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemples

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>  CListCtrl::SetCheck

Détermine si l’image d’état d’un élément de contrôle de liste est visible.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de base zéro d’un élément de contrôle de liste.

*fCheck*<br/>
Spécifie si l’image d’état de l’élément doit être visible ou non. Par défaut, *consultez* a la valeur true et l’image d’État est visible. Si *consultez* a la valeur false, il n’est pas visible.

### <a name="return-value"></a>Valeur de retour

Différent de zéro si l’élément est activé ; sinon, 0.

### <a name="example"></a>Exemple

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>  CListCtrl::SetColumn

Définit les attributs d’une colonne de mode liste.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Index de la colonne dont les attributs doivent être définis.

*pColumn*<br/>
Adresse d’une structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) qui contient les nouveaux attributs de colonne, comme décrit dans la SDK Windows. Le membre de `mask` la structure spécifie les attributs de colonne à définir. Si le `mask` membre spécifie la valeur LVCF_TEXT, le membre `pszText` de la structure est l’adresse d’une chaîne terminée par le caractère null et `cchTextMax` le membre de la structure est ignoré.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetColumn](#getcolumn).

## <a name="setcolumnorderarray"></a>  CListCtrl::SetColumnOrderArray

Définit l’ordre des colonnes (de gauche à droite) d’un contrôle List View.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Paramètres

*piArray*<br/>
Pointeur vers une mémoire tampon qui contient les valeurs d’index des colonnes dans le contrôle List View (de gauche à droite). La mémoire tampon doit être suffisamment grande pour contenir le nombre total de colonnes dans le contrôle List View.

*iCount*<br/>
Nombre de colonnes dans le contrôle List View.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetColumnOrderArray](#getcolumnorderarray).

## <a name="setcolumnwidth"></a>  CListCtrl::SetColumnWidth

Modifie la largeur d’une colonne en mode rapport ou liste.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Paramètres

*nCol*<br/>
Index de la colonne pour laquelle la largeur doit être définie. En mode liste, ce paramètre doit avoir la valeur 0.

*cx*<br/>
Nouvelle largeur de la colonne. Il peut s’agir de LVSCW_AUTOSIZE ou LVSCW_AUTOSIZE_USEHEADER, comme décrit dans [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) dans la SDK Windows.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

## <a name="setextendedstyle"></a>  CListCtrl::SetExtendedStyle

Définit les styles étendus actuels d’un contrôle List View.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Paramètres

*dwNewStyle*<br/>
Combinaison de styles étendus à utiliser par le contrôle List View. Pour obtenir une liste descriptive de ces styles, consultez la rubrique [Extended List View styles](/windows/win32/Controls/extended-list-view-styles) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Combinaison des styles étendus précédents utilisée par le contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>  CListCtrl::SetGroupInfo

Définit les informations qui décrivent le groupe spécifié du contrôle d’affichage de liste actuel.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Paramètres

*iGroupId*<br/>
Identificateur du groupe dont les informations sont définies.

*pgrp*<br/>
Pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui contient les informations à définir. L’appelant est chargé d’allouer cette structure et de définir ses membres.

### <a name="return-value"></a>Valeur de retour

ID du groupe si la méthode réussit ; Sinon,-1.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo) , qui est décrit dans le SDK Windows.

## <a name="setgroupmetrics"></a>  CListCtrl::SetGroupMetrics

Définit les métriques de groupe d’un contrôle List View.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Paramètres

*pGroupMetrics*<br/>
Pointeur vers une structure [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenant les informations de métriques de groupe à définir.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics) , comme décrit dans la SDK Windows.

## <a name="sethotcursor"></a>  CListCtrl::SetHotCursor

Définit le curseur utilisé lorsque la sélection à chaud est activée pour un contrôle List View.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Paramètres

*hc*<br/>
Handle d’une ressource de curseur, utilisé pour représenter le curseur actif.

### <a name="return-value"></a>Valeur de retour

Handle vers la ressource de curseur actif précédente utilisée par le contrôle List View.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), comme décrit dans la SDK Windows.

Le curseur actif, visible uniquement lorsque la sélection de survol est activée, apparaît lorsque le curseur passe sur un élément de la vue de liste. La sélection au survol est activée en définissant le style étendu LVS_EX_TRACKSELECT.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetHotCursor](#gethotcursor).

## <a name="sethotitem"></a>  CListCtrl::SetHotItem

Définit l’élément réactif actuel d’un contrôle List View.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Paramètres

*iIndex*<br/>
Index de base zéro de l’élément à définir comme élément réactif.

### <a name="return-value"></a>Valeur de retour

Index de base zéro de l’élément actif précédemment.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetHotItem](#gethotitem).

## <a name="sethovertime"></a>  CListCtrl::SetHoverTime

Définit la durée de pointage actuelle d’un contrôle d’affichage de liste.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Paramètres

*dwHoverTime*<br/>
Nouveau délai, en millisecondes, pendant lequel le curseur de la souris doit pointer sur un élément avant d’être sélectionné. Si la valeur par défaut est passée, l’heure est définie sur la durée de pointage par défaut.

### <a name="return-value"></a>Valeur de retour

Durée de pointage précédente, en millisecondes.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetHoverTime](#gethovertime).

## <a name="seticonspacing"></a>  CListCtrl::SetIconSpacing

Définit l’espacement entre les icônes dans un contrôle List View.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Paramètres

*cx*<br/>
Distance (en pixels) entre les icônes sur l’axe des x.

*cy*<br/>
Distance (en pixels) entre les icônes sur l’axe des y.

*size*<br/>
`CSize` Objet spécifiant la distance (en pixels) entre les icônes sur les axes x et y.

### <a name="return-value"></a>Valeur de retour

Objet [CSize](../../atl-mfc-shared/reference/csize-class.md) contenant les valeurs précédentes pour l’espacement des icônes.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>  CListCtrl::SetImageList

Affecte une liste d’images à un contrôle List View.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Paramètres

*pImageList*<br/>
Pointeur vers la liste d’images à assigner.

*nImageListType*<br/>
Type de liste d’images. Il peut s’agir de l’une des valeurs suivantes :

- Liste d’images LVSIL_NORMAL avec grandes icônes.

- Liste d’images LVSIL_SMALL avec petites icônes.

- Liste d’images LVSIL_STATE avec images d’État.

### <a name="return-value"></a>Valeur de retour

Pointeur vers la liste d’images précédente.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetImageList](#getimagelist).

## <a name="setinfotip"></a>  CListCtrl::SetInfoTip

Définit le texte de l’info-bulle.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Paramètres

*plvInfoTip*<br/>
Pointeur vers une structure [LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, FALSe en cas d’échec.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip) , comme décrit dans la SDK Windows.

## <a name="setinsertmark"></a>  CListCtrl::SetInsertMark

Définit le point d’insertion à la position définie.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Paramètres

*plvim*<br/>
Pointeur vers une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) spécifiant où définir le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, ou FALSe dans le cas contraire. La valeur false est retournée si `cbSize` la taille du `LVINSERTMARK` membre de la structure n’est pas égale à la taille réelle de la structure, ou lorsqu’un point d’insertion ne s’applique pas à la vue actuelle.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark) , comme décrit dans la SDK Windows.

## <a name="setinsertmarkcolor"></a>  CListCtrl::SetInsertMarkColor

Définit la couleur du point d’insertion.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Paramètres

*color*<br/>
Structure [COLORREF](/windows/win32/gdi/colorref) spécifiant la couleur pour définir le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne une `COLORREF` structure contenant la couleur précédente.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor) , comme décrit dans la SDK Windows.

## <a name="setitem"></a>  CListCtrl::SetItem

Définit tout ou partie des attributs d’un élément d’affichage de liste.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Paramètres

*pItem*<br/>
Adresse d’une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui contient les nouveaux attributs d’élément, comme décrit dans la SDK Windows. Les membres et `iItem` `iSubItem` de la structure identifient l’élément ou le sous-élément `mask` , et le membre de la structure spécifie les attributs à définir. Pour plus d’informations sur `mask` le membre, consultez les **Notes**.

*nItem*<br/>
Index de l’élément dont les attributs doivent être définis.

*nSubItem*<br/>
Index du sous-élément dont les attributs doivent être définis.

*nMask*<br/>
Spécifie les attributs à définir (voir les remarques).

*lpszItem*<br/>
Adresse d’une chaîne se terminant par un caractère null qui spécifie l’étiquette de l’élément.

*nImage*<br/>
Index de l’image de l’élément dans la liste d’images.

*nState*<br/>
Spécifie des valeurs pour les États à modifier (consultez les notes).

*nStateMask*<br/>
Spécifie les États à modifier (consultez les notes).

*lParam*<br/>
Valeur spécifique à l’application 32 bits à associer à l’élément.

*nIndent*<br/>
Largeur, en pixels, de la mise en retrait. Si *nIndent* est inférieur à la largeur minimale définie par le système, la nouvelle largeur est définie sur la valeur minimale définie par le système

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Les `iItem` membres `iSubItem` et de la `LVITEM` structure et les paramètres *nItem* et *nSubItem* identifient l’élément et le sous-élément dont les attributs doivent être définis.

Le `mask` membre de la `LVITEM` structure et le paramètre *nMask* spécifient les attributs d’élément à définir :

- LVIF_TEXT le `pszText` membre ou le paramètre *lpszItem* est l’adresse d’une chaîne terminée par le caractère null ; `cchTextMax` le membre est ignoré.

- LVIF_STATE le `stateMask` paramètre member ou *nStateMask* spécifie l’état des éléments à modifier `state` et le paramètre member ou *nState* contient les valeurs de ces États.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: HitTest](#hittest).

## <a name="setitemcount"></a>  CListCtrl::SetItemCount

Prépare un contrôle d’affichage de liste pour l’ajout d’un grand nombre d’éléments.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Paramètres

*nItems*<br/>
Nombre d’éléments que le contrôle contiendra finalement.

### <a name="remarks"></a>Notes

Pour définir le nombre d’éléments d’un contrôle List View virtuel, consultez [CListCtrl :: SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>  CListCtrl::SetItemCountEx

Définit le nombre d’éléments pour un contrôle List View virtuel.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Paramètres

*iCount*<br/>
Nombre d’éléments que le contrôle contiendra finalement.

*dwFlags*<br/>
Spécifie le comportement du contrôle List View après la réinitialisation du nombre d’éléments. Cette valeur peut être une combinaison des éléments suivants :

- LVSICF_NOINVALIDATEALL le contrôle List View ne redessine pas à moins que les éléments affectés soient actuellement en vue. Valeur par défaut.

- LVSICF_NOSCROLL le contrôle List View ne change pas la position de défilement lorsque le nombre d’éléments change.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), comme décrit dans Windows SDKand doit uniquement être appelé pour les vues de liste virtuelle.

### <a name="example"></a>Exemple

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>  CListCtrl::SetItemData

Définit la valeur 32 bits spécifique à l’application associée à l’élément spécifié par *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément de liste dont les données doivent être définies.

*dwData*<br/>
Valeur 32 bits à associer à l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro cas de réussite ; sinon, 0.

### <a name="remarks"></a>Notes

Cette valeur est le `lParam` membre de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>  CListCtrl::SetItemIndexState

Définit l’état d’un élément dans le contrôle d’affichage de liste actuel.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|dans Pointeur vers une structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) qui décrit un élément. L’appelant est chargé d’allouer cette structure et de définir ses membres.|
|*dwState*|dans État pour définir l’élément, qui est une combinaison d’opérations de bits d' [États d’élément d’affichage de liste](/windows/win32/Controls/list-view-item-states). Spécifiez zéro pour réinitialiser, ou un État à définir.|
|*dwMask*|dans Masque des bits valides de l’état spécifié par le paramètre *dwState* . Spécifiez une combinaison au niveau du bit (ou) des [États des éléments d’affichage de liste](/windows/win32/Controls/list-view-item-states).|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

Pour plus d’informations sur le paramètre *dwState* , consultez États de l' [élément d’affichage de liste](/windows/win32/Controls/list-view-item-states).

Pour plus d’informations sur le paramètre *dwMask* , consultez le membre *stateMask* de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

Cette méthode envoie le message [LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate) , qui est décrit dans le SDK Windows.

## <a name="setitemposition"></a>  CListCtrl::SetItemPosition

Déplace un élément à une position spécifiée dans un contrôle d’affichage de liste.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont la position doit être définie.

*pt*<br/>
Structure de [points](/previous-versions/dd162805\(v=vs.85\)) spécifiant la nouvelle position, en coordonnées de vue, du coin supérieur gauche de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le contrôle doit être affiché en mode icône ou petite icône.

Si le contrôle List View a le style LVS_AUTOARRANGE, la vue liste est organisée après la définition de la position de l’élément.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: GetItemPosition](#getitemposition).

## <a name="setitemstate"></a>  CListCtrl::SetItemState

Modifie l’état d’un élément dans un contrôle List View.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont l’État doit être défini.

*pItem*<br/>
Adresse d’une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , comme décrit dans la SDK Windows. Le membre de `stateMask` la structure spécifie les bits d’État à modifier, et `state` le membre de la structure contient les nouvelles valeurs pour ces bits. Les autres membres sont ignorés.

*nState*<br/>
Nouvelles valeurs pour les bits d’État. Pour obtenir la liste des valeurs possibles, consultez [CListCtrl :: GetNextItem](#getnextitem) et le membre d’état [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

*nMask*<br/>
Masque spécifiant les bits d’État à modifier. Cette valeur correspond au membre stateMask de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

L’état d’un élément est une valeur qui spécifie la disponibilité de l’élément, indique les actions de l’utilisateur ou reflète l’état de l’élément. Un contrôle d’affichage de liste modifie certains bits d’État, par exemple lorsque l’utilisateur sélectionne un élément. Une application peut modifier d’autres bits d’État pour désactiver ou masquer l’élément, ou pour spécifier une image de superposition ou une image d’État.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: GetTopIndex](#gettopindex).

## <a name="setitemtext"></a>  CListCtrl::SetItemText

Modifie le texte d’un élément ou d’un sous-élément d’un affichage de liste.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément dont le texte doit être défini.

*nSubItem*<br/>
Index du sous-élément, ou zéro pour définir l’étiquette de l’élément.

*lpszText*<br/>
Pointeur vers une chaîne qui contient le nouveau texte de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette méthode n’est pas destinée à être utilisée avec des contrôles contenant le style de fenêtre LVS_OWNERDATA (en fait, cela entraîne une assertion dans les versions Debug). Pour plus d’informations sur ce style de contrôle de liste, consultez [vue d’ensemble des contrôles de liste](/windows/win32/Controls/list-view-controls-overview).

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: InsertItem](#insertitem).

## <a name="setoutlinecolor"></a>  CListCtrl::SetOutlineColor

Définit la couleur de la bordure d’un contrôle d’affichage de liste si le style de fenêtre étendue [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) est défini.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Paramètres

*color*<br/>
Nouvelle structure [COLORREF](/windows/win32/gdi/colorref) contenant la couleur de contour.

### <a name="return-value"></a>Valeur de retour

Structure précédente `COLORREF` contenant la couleur de contour

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor) , comme décrit dans la SDK Windows.

## <a name="setselectedcolumn"></a>  CListCtrl::SetSelectedColumn

Définit la colonne sélectionnée du contrôle List View.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Paramètres

*iCol*<br/>
Index de la colonne à sélectionner.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn) , comme décrit dans la SDK Windows.

## <a name="setselectionmark"></a>  CListCtrl::SetSelectionMark

Définit la marque de sélection d’un contrôle List View.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Paramètres

*iIndex*<br/>
Index de base zéro du premier élément d’une sélection multiple.

### <a name="return-value"></a>Valeur de retour

La marque de sélection précédente, ou-1 s’il n’y avait aucune marque de sélection.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemples

Consultez l’exemple pour [CListCtrl :: GetSelectionMark](#getselectionmark).

## <a name="settextbkcolor"></a>  CListCtrl::SetTextBkColor

Définit la couleur d’arrière-plan du texte dans un contrôle List View.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*cr*<br/>
COLORREF spécifiant la nouvelle couleur d’arrière-plan du texte. Pour plus d’informations, consultez [COLORREF](/windows/win32/gdi/colorref) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemples

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>  CListCtrl::SetTextColor

Définit la couleur du texte d’un contrôle d’affichage de liste.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*cr*<br/>
COLORREF spécifiant la nouvelle couleur de texte. Pour plus d’informations, consultez [COLORREF](/windows/win32/gdi/colorref) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>  CListCtrl::SetTileInfo

Définit les informations pour une vignette du contrôle List View.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Paramètres

*pTileInfo*<br/>
Pointeur vers une structure [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, FALSe en cas d’échec.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo) , comme décrit dans la SDK Windows.

## <a name="settileviewinfo"></a>  CListCtrl::SetTileViewInfo

Définit les informations qu’un contrôle d’affichage de liste utilise en mode mosaïque.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Paramètres

*ptvi*<br/>
Pointeur vers une structure [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, FALSe en cas d’échec.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo) , comme décrit dans la SDK Windows.

## <a name="settooltips"></a>  CListCtrl::SetToolTips

Définit le contrôle ToolTip que le contrôle List View utilisera pour afficher des info-bulles.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Paramètres

*pWndTip*<br/>
Pointeur vers un `CToolTipCtrl` objet qui sera utilisé par le contrôle de liste.

### <a name="return-value"></a>Valeur de retour

Pointeur vers un objet [CToolTipCtrl](ctooltipctrl-class.md) contenant l’info-bulle précédemment utilisée par le contrôle, ou null si aucune info-bulle n’a été précédemment utilisée.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement du [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips)de message Win32, comme décrit dans la SDK Windows.

Pour ne pas utiliser les info-bulles, indiquez le style LVS_NOTOOLTIPS quand `CListCtrl` vous créez l’objet.

## <a name="setview"></a>  CListCtrl::SetView

Définit l’affichage du contrôle List View.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Paramètres

*iView*<br/>
Vue à sélectionner.

### <a name="return-value"></a>Valeur de retour

Retourne 1 en cas de réussite, ou-1 dans le cas contraire. Par exemple,-1 est retourné si la vue n’est pas valide.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SETVIEW](/windows/win32/Controls/lvm-setview) , comme décrit dans la SDK Windows.

## <a name="setworkareas"></a>  CListCtrl::SetWorkAreas

Définit la zone dans laquelle les icônes peuvent être affichées dans un contrôle List View.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Paramètres

*nWorkAreas*<br/>
Nombre de `RECT` structures (ou d’objets [CRect](../../atl-mfc-shared/reference/crect-class.md) ) dans le tableau pointé par *lpRect*.

*lpRect*<br/>
Adresse d’un tableau de `RECT` structures (ou `CRect` d’objets) qui spécifient les nouvelles zones de travail du contrôle d’affichage de liste. Ces zones doivent être spécifiées dans les coordonnées clientes. Si ce paramètre a la valeur NULL, la zone de travail est définie sur la zone cliente du contrôle.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>  CListCtrl::SortGroups

Utilise une fonction de comparaison définie par l’application pour trier des groupes par ID dans un contrôle List View.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Paramètres

*_pfnGroupCompare*<br/>
Pointeur vers la fonction de comparaison de groupes.

*_plv*<br/>
Pointeur void.

### <a name="return-value"></a>Valeur de retour

Retourne la valeur TRUE en cas de réussite, FALSe en cas d’échec.

### <a name="remarks"></a>Notes

Cette fonction membre émule les fonctionnalités du message [LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups) , comme décrit dans la SDK Windows.

## <a name="sortitems"></a>  CListCtrl::SortItems

Trie les éléments de la vue liste à l’aide d’une fonction de comparaison définie par l’application.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

*pfnCompare*<br/>
dans Adresse de la fonction de comparaison définie par l’application.

L’opération de tri appelle la fonction de comparaison chaque fois que l’ordre relatif de deux éléments de liste doit être déterminé. La fonction de comparaison doit être un membre statique d’une classe ou une fonction autonome qui n’est membre d’aucune classe.

*dwData*<br/>
dans Valeur définie par l’application qui est passée à la fonction de comparaison.

### <a name="return-value"></a>Valeur de retour

TRUE si la méthode a réussi ; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode modifie l’index de chaque élément pour refléter la nouvelle séquence.

La fonction de comparaison, *pfnCompare*, se présente sous la forme suivante :

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
La fonction de comparaison doit retourner une valeur négative si le premier élément doit précéder le deuxième, une valeur positive si le premier élément doit suivre le deuxième, ou zéro si les deux éléments sont égaux.

Le paramètre *lParam1* est la valeur 32 bits associée au premier élément qui est comparé, tandis que le paramètre *lParam2* est la valeur associée au deuxième élément. Il s’agit des valeurs qui ont été spécifiées dans le membre *lParam* de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) des éléments quand elles ont été insérées dans la liste. Le paramètre *lParamSort* est identique à la valeur *dwData* .

Cette méthode envoie le message [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) , qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

L’exemple suivant est une fonction de comparaison simple qui produit des éléments en cours de tri par leurs valeurs *lParam* .

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>  CListCtrl::SortItemsEx

Trie les éléments du contrôle d’affichage de liste actuel à l’aide d’une fonction de comparaison définie par l’application.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pfnCompare*|dans Adresse de la fonction de comparaison définie par l’application.<br /><br /> L’opération de tri appelle la fonction de comparaison chaque fois que l’ordre relatif de deux éléments de liste doit être déterminé. La fonction de comparaison doit être un membre statique d’une classe ou une fonction autonome qui n’est membre d’aucune classe.|
|*dwData*|dans Valeur définie par l’application passée à la fonction de comparaison.|

### <a name="return-value"></a>Valeur de retour

TRUE si cette méthode réussit; Sinon, FALSe.

### <a name="remarks"></a>Notes

Cette méthode modifie l’index de chaque élément pour refléter la nouvelle séquence.

La fonction de comparaison, *pfnCompare*, se présente sous la forme suivante :

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
Ce message est semblable à [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), à l’exception du type d’informations passé à la fonction de comparaison. Dans [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), *lParam1* et *lParam2* sont les valeurs des éléments à comparer. Dans [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex), *lParam1* est l’index actuel du premier élément à comparer et *lParam2* est l’index actuel du deuxième élément. Vous pouvez envoyer un message [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) pour récupérer des informations supplémentaires sur un élément.

La fonction de comparaison doit retourner une valeur négative si le premier élément doit précéder le deuxième, une valeur positive si le premier élément doit suivre le deuxième, ou zéro si les deux éléments sont égaux.

> [!NOTE]
>  Durant le processus de tri, le contenu de l’affichage de liste est instable. Si la fonction de rappel envoie des messages au contrôle d’affichage de liste autre que [LVM_GETITEM](/windows/win32/Controls/lvm-getitem), les résultats sont imprévisibles.

Cette méthode envoie le message [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) , qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemples

L’exemple de code suivant définit une variable `m_listCtrl`,, qui est utilisée pour accéder au contrôle de vue de liste actuel. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code suivant illustre `SortItemEx` la méthode. Dans une section précédente de cet exemple de code, nous avons créé un contrôle List-View qui affiche deux colonnes intitulées « ClientID » et « grade » dans une vue rapport. L’exemple de code suivant trie la table à l’aide des valeurs de la colonne « grade ».

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>  CListCtrl::SubItemHitTest

Détermine l’élément d’affichage de liste, le cas échéant, à une position donnée.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Paramètres

*pInfo*<br/>
Pointeur vers la structure [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) .

### <a name="return-value"></a>Valeur de retour

Index de base un de l’élément, ou sous-élément, testé (le cas échéant), ou-1 dans le cas contraire.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), comme décrit dans la SDK Windows.

### <a name="example"></a>Exemple

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>  CListCtrl::Update

Force le contrôle d’affichage de liste à repeindre l’élément spécifié par *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem*<br/>
Index de l’élément à mettre à jour.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction organise également le contrôle List View s’il a le style LVS_AUTOARRANGE.

### <a name="example"></a>Exemple

Consultez l’exemple pour [CListCtrl :: GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Voir aussi

[Exemple MFC ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[CWnd, classe](cwnd-class.md)<br/>
[Graphique hiérarchique](../hierarchy-chart.md)<br/>
[CImageList, classe](cimagelist-class.md)
