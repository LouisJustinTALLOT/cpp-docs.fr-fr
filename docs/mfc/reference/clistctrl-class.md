---
title: CListCtrl, classe
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 4b505912c69ffbb86ad3dae98f99531c477db693
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/22/2020
ms.locfileid: "81749136"
---
# <a name="clistctrl-class"></a>CListCtrl, classe

Encapsule les fonctionnalités d’un contrôle d’affichage de liste, qui affiche une collection d’éléments constitués chacun d’une icône (de liste d’images) et d’une étiquette.

## <a name="syntax"></a>Syntaxe

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Membres

### <a name="public-constructors"></a>Constructeurs publics

|Nom|Description|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Construit un objet `CListCtrl`.|

### <a name="public-methods"></a>M&#233;thodes publiques

|Nom|Description|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Détermine la largeur et la hauteur requises pour afficher les éléments d’un contrôle de vue de liste.|
|[CListCtrl::Organiser](#arrange)|Aligne les éléments sur une grille.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Annule l’opération d’édition de texte d’élément.|
|[CListCtrl::Créer](#create)|Crée un contrôle de liste `CListCtrl` et l’attache à un objet.|
|[CListCtrl::CreateDragImage](#createdragimage)|Crée une liste d’images de drag pour un élément spécifié.|
|[CListCtrl::CreateEx](#createex)|Crée un contrôle de liste avec les styles `CListCtrl` Windows étendus spécifiés et l’attache à un objet.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Supprime tous les éléments du contrôle.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Supprime une colonne du contrôle de la vue de liste.|
|[CListCtrl::DeleteItem](#deleteitem)|Supprime un élément du contrôle.|
|[CListCtrl::DrawItem](#drawitem)|Appelé lorsqu’un aspect visuel d’un contrôle propriétaire-tirage change.|
|[CListCtrl::EditLabel](#editlabel)|Commence l’édition place du texte d’un élément.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Permet ou désactive si les éléments d’une liste affichent l’affichage de contrôle en tant que groupe.|
|[CListCtrl::EnsureVisible](#ensurevisible)|S’assure qu’un élément est visible.|
|[CListCtrl::FindItem](#finditem)|Recherche un élément de vue de liste ayant des caractéristiques spécifiées.|
|[CListCtrl::GetBkColor](#getbkcolor)|Récupère la couleur de fond d’un contrôle de vue de liste.|
|[CListCtrl::GetBkImage](#getbkimage)|Récupère l’image de fond actuelle d’un contrôle de vue de liste.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Récupère le masque de rappel pour un contrôle de vue de liste.|
|[CListCtrl::GetCheck](#getcheck)|Récupère l’état d’affichage actuel de l’image d’état associée à un élément.|
|[CListCtrl::GetColumn](#getcolumn)|Récupère les attributs de la colonne d’un contrôle.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Récupère l’ordre de colonne (de gauche à droite) d’un contrôle de vue de liste.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Récupère la largeur d’une colonne dans la vue du rapport ou la vue de liste.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Calcule le nombre d’éléments qui peuvent s’adapter verticalement dans un contrôle de vue de liste.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Récupère la poignée du contrôle de modification utilisé pour modifier le texte d’un élément.|
|[CListCtrl::GetEmptyText](#getemptytext)|Récupère la chaîne pour afficher si le contrôle de la vue de liste actuel est vide.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Récupère les styles étendus actuels d’un contrôle de vue de liste.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Récupère la position du premier élément de vue de liste sélectionné dans un contrôle de vue de liste.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Récupère le groupe qui a la mise au point du clavier dans le contrôle de liste actuel.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Récupère le nombre de groupes dans le contrôle actuel de la liste.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Obtient les informations pour un groupe spécifié du contrôle de vue de liste.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Récupère des informations sur un groupe spécifié dans le contrôle actuel de la liste.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Récupère les mesures d’un groupe.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Récupère le rectangle de délimitation pour un groupe spécifié dans le contrôle de liste actuel.|
|[CListCtrl::GetGroupState](#getgroupstate)|Récupère l’état pour un groupe spécifié dans le contrôle actuel de la liste.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Récupère le contrôle de l’en-tête d’un contrôle de vue de liste.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Récupère le curseur utilisé lorsque le suivi à chaud est activé pour un contrôle de vue de liste.|
|[CListCtrl::GetHotItem](#gethotitem)|Récupère l’élément de vue de liste actuellement sous le curseur.|
|[CListCtrl::GetHoverTime](#gethovertime)|Récupère l’heure de vol stationnaire actuelle d’un contrôle de vue de liste.|
|[CListCtrl::GetImageList](#getimagelist)|Récupère la poignée d’une liste d’images utilisée pour dessiner des éléments de vue.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Récupère la position actuelle de la marque d’insertion.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Récupère la couleur actuelle de la marque d’insertion.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Récupère le rectangle qui limite le point d’insertion.|
|[CListCtrl::GetItem](#getitem)|Récupère les attributs d’un élément de vue de liste.|
|[CListCtrl::GetItemCount](#getitemcount)|Récupère le nombre d’éléments dans un contrôle de vue de liste.|
|[CListCtrl::GetItemData](#getitemdata)|Récupère la valeur spécifique à l’application associée à un élément.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Récupère le rectangle de délimitation pour tout ou partie d’un subitem dans le contrôle de liste en cours.|
|[CListCtrl::GetItemPosition](#getitemposition)|Récupère la position d’un élément de vue de liste.|
|[CListCtrl::GetItemRect](#getitemrect)|Récupère le rectangle de délimitation pour un élément.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Calcule l’espacement entre les éléments dans le contrôle de la liste actuelle.|
|[CListCtrl::GetItemState](#getitemstate)|Récupère l’état d’un élément de vue de liste.|
|[CListCtrl::GetItemText](#getitemtext)|Récupère le texte d’un élément de vue de liste ou d’un subitem.|
|[CListCtrl::GetNextItem](#getnextitem)|Recherche un élément de vue de liste avec des propriétés spécifiées et avec une relation spécifiée à un élément donné.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Récupère l’index de l’élément dans le contrôle de la liste actuelle qui a un ensemble spécifié de propriétés.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Récupère l’index d’une position d’élément de vue de liste et la position de l’élément de vue de liste sélectionné suivant pour itérer.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Récupère le nombre actuel de zones de travail pour un contrôle de vue de liste.|
|[CListCtrl::GetOrigin](#getorigin)|Récupère l’origine actuelle de la vue pour un contrôle de vue de liste.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Récupère la couleur de la bordure d’un contrôle de vue de liste.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Récupère l’index de la colonne actuellement sélectionnée dans le contrôle de liste.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Récupère le nombre d’éléments sélectionnés dans le contrôle de vue de liste.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Récupère la marque de sélection d’un contrôle de vue de liste.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Détermine la largeur minimale de la colonne nécessaire pour afficher toute une chaîne donnée.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Récupère le rectangle de délimitation d’un élément dans un contrôle de vue de liste.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Récupère la couleur de fond de texte d’un contrôle de vue de liste.|
|[CListCtrl::GetTextColor](#gettextcolor)|Récupère la couleur de texte d’un contrôle de vue de liste.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Récupère des informations sur une tuile dans un contrôle de vue de liste.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Récupère des informations sur un contrôle de vue de liste dans la vue de tuiles.|
|[CListCtrl::GetToolTips](#gettooltips)|Récupère le contrôle de la pointe d’outil que le contrôle de vue de liste utilise pour afficher les outils.|
|[CListCtrl::GetTopIndex](#gettopindex)|Récupère l’index de l’élément le plus visible.|
|[CListCtrl::GetView](#getview)|Obtient la vue du contrôle de vue de liste.|
|[CListCtrl::GetViewRect](#getviewrect)|Récupère le rectangle de délimitation de tous les éléments dans le contrôle de vue de liste.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Récupère les zones de travail actuelles d’un contrôle de vue de liste.|
|[CListCtrl::HasGroup](#hasgroup)|Détermine si le contrôle de vue de liste a le groupe spécifié.|
|[CListCtrl::HitTest](#hittest)|Détermine l’élément de vue de liste à une position spécifiée.|
|[CListCtrl::InsertColumn](#insertcolumn)|Insère une nouvelle colonne dans un contrôle de vue de liste.|
|[CListCtrl::InsertGroup](#insertgroup)|Insère un groupe dans le contrôle de la vue de liste.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Insère le groupe spécifié dans une liste ordonnée de groupes.|
|[CListCtrl::InsertItem](#insertitem)|Insère un nouvel élément dans un contrôle de vue de liste.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Récupère le point d’insertion le plus proche d’un point spécifié.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Détermine si l’vue de groupe est activée pour un contrôle de vue de liste.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Indique si un élément spécifié dans le contrôle de la vue de liste actuel est visible.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Cartographiez l’ID unique d’un élément dans le contrôle actuel de la liste-vue à un index.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Cartographie l’index d’un élément du contrôle actuel de la liste à un ID unique.|
|[CListCtrl::MoveGroup](#movegroup)|Déplace le groupe spécifié.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Déplace le groupe spécifié vers l’indice spécifié basé sur zéro du contrôle de vue de liste.|
|[CListCtrl::RedrawItems](#redrawitems)|Force un contrôle de vue de liste pour repeindre une gamme d’éléments.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Supprime tous les groupes d’un contrôle de vue de liste.|
|[CListCtrl::RemoveGroup](#removegroup)|Supprime le groupe spécifié du contrôle de vue de liste.|
|[CListCtrl::Scroll](#scroll)|Faites défiler le contenu d’un contrôle de vue de liste.|
|[CListCtrl::SetBkColor](#setbkcolor)|Définit la couleur de fond du contrôle de vue de liste.|
|[CListCtrl::SetBkImage](#setbkimage)|Définit l’image de fond actuelle d’un contrôle de vue de liste.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Définit le masque de rappel pour un contrôle de vue de liste.|
|[CListCtrl::SetCheck](#setcheck)|Définit l’état d’affichage actuel de l’image d’état associée à un élément.|
|[CListCtrl::SetColumn](#setcolumn)|Définit les attributs d’une colonne de vue de liste.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Définit l’ordre de colonne (de gauche à droite) d’un contrôle de vue de liste.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Modifie la largeur d’une colonne dans la vue du rapport ou la vue de liste.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Définit les styles étendus actuels d’un contrôle de vue de liste.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Définit les informations pour le groupe spécifié d’un contrôle de vue de liste.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Définit les paramètres de groupe d’un contrôle de vue de liste.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Définit le curseur utilisé lorsque le suivi à chaud est activé pour un contrôle de vue de liste.|
|[CListCtrl::SetHotItem](#sethotitem)|Définit l’élément chaud actuel d’un contrôle de vue de liste.|
|[CListCtrl::SetHoverTime](#sethovertime)|Définit l’heure de vol stationnaire actuelle d’un contrôle de vue de liste.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Définit l’espacement entre les icônes dans un contrôle de vue de liste.|
|[CListCtrl::SetImageList](#setimagelist)|Assigne une liste d’images à un contrôle de vue de liste.|
|[CListCtrl::SetInfoTip](#setinfotip)|Définit le texte de l’outiltip.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Définit le point d’insertion à la position définie.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Définit la couleur du point d’insertion.|
|[CListCtrl::SetItem](#setitem)|Définit une partie ou la totalité des attributs d’un élément de vue de liste.|
|[CListCtrl::SetItemCount](#setitemcount)|Prépare un contrôle de vue de liste pour l’ajout d’un grand nombre d’éléments.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Définit le nombre d’éléments pour un contrôle de vue de liste virtuelle.|
|[CListCtrl::SetItemData](#setitemdata)|Définit la valeur spécifique à l’application de l’élément.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Définit l’état d’un élément dans le contrôle actuel de la liste.|
|[CListCtrl::SetItemPosition](#setitemposition)|Déplace un élément à une position spécifiée dans un contrôle de vue de liste.|
|[CListCtrl::SetItemState](#setitemstate)|Modifie l’état d’un élément dans un contrôle de vue de liste.|
|[CListCtrl::SetItemText](#setitemtext)|Modifications du texte d’un élément de vue de liste ou d’un subitem.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Définit la couleur de la bordure d’un contrôle de vue de liste.|
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Définit la colonne sélectionnée du contrôle de vue de liste.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Définit la marque de sélection d’un contrôle de vue de liste.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Définit la couleur de fond du texte dans un contrôle de vue de liste.|
|[CListCtrl::SetTextColor](#settextcolor)|Définit la couleur de texte d’un contrôle de vue de liste.|
|[CListCtrl::SetTileInfo](#settileinfo)|Définit les informations pour une tuile du contrôle de vue de liste.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Définit les informations qu’une liste de contrôle de vue utilise dans la vue de tuiles.|
|[CListCtrl::SetToolTips](#settooltips)|Définit le contrôle de la pointe d’outil que le contrôle de vue de liste utilisera pour afficher les outils.|
|[CListCtrl::SetView](#setview)|Définit la vue du contrôle de la vue de liste.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Définit la zone où les icônes peuvent être affichées dans un contrôle de vue de liste.|
|[CListCtrl::SortGroups](#sortgroups)|Trie les groupes d’un contrôle de vue de liste avec une fonction définie par l’utilisateur.|
|[CListCtrl::SortItems](#sortitems)|Tris liste d’éléments de vue à l’aide d’une fonction de comparaison définie par l’application.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Tris liste d’éléments de vue à l’aide d’une fonction de comparaison définie par l’application.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Détermine l’élément de vue de liste, le cas échéant, se trouve à une position donnée.|
|[CListCtrl::Mise à jour](#update)|Force le contrôle à repeindre un élément spécifié.|

## <a name="remarks"></a>Notes

En plus d’une icône et d’une étiquette, chaque élément peut afficher des informations en colonnes à droite de l’icône et de l’étiquette. Ce contrôle (et `CListCtrl` donc la classe) n’est disponible que pour les programmes fonctionnant sous Windows 95/98 et Windows NT version 3.51 et plus tard.

Voici un bref aperçu `CListCtrl` de la classe. Pour une discussion détaillée et conceptuelle, voir [Utilisation de CListCtrl](../../mfc/using-clistctrl.md) et [Controls](../../mfc/controls-mfc.md).

## <a name="views"></a>Les vues

Les contrôles de vue de liste peuvent afficher leur contenu de quatre manières différentes, appelées « vues ».

- Vue d’icône

   Chaque élément apparaît sous forme d’icône grandeur nature (32 x 32 pixels) avec une étiquette en dessous. L’utilisateur peut faire glisser les éléments à n’importe quel endroit dans la fenêtre de vue de la liste.

- Petite vue d’icône

   Chaque élément apparaît comme une petite icône (16 x 16 pixels) avec l’étiquette à droite de celui-ci. L’utilisateur peut faire glisser les éléments à n’importe quel endroit dans la fenêtre de vue de la liste.

- Mode Liste

   Chaque élément apparaît comme une petite icône avec une étiquette à droite de celui-ci. Les articles sont disposés en colonnes et ne peuvent pas être traînés à n’importe quel endroit dans la fenêtre de vue de liste.

- Vue Rapport

   Chaque élément apparaît sur sa propre ligne, avec des informations supplémentaires disposées en colonnes à droite. La colonne la plus gauche contient la petite icône et l’étiquette, et les colonnes suivantes contiennent des subitems spécifiés par l’application. Un contrôle d’en-tête intégré (classe [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implémente ces colonnes. Pour plus d’informations sur le contrôle de l’en-tête et les colonnes dans une vue de rapport, voir [l’utilisation de CListCtrl: Ajout de colonnes au contrôle (Point de vue)](../../mfc/adding-columns-to-the-control-report-view.md).

Le style de la vue de liste actuelle du contrôle détermine la vue actuelle. Pour plus d’informations sur ces styles et leur utilisation, voir [Using CListCtrl: Changing List Control Styles](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Styles étendus

En plus des styles de `CListCtrl` liste standard, la classe prend en charge un grand ensemble de styles étendus, fournissant des fonctionnalités enrichies. Voici quelques exemples de cette fonctionnalité :

- Sélection de vol stationnaire

   Lorsqu’il est activé, permet la sélection automatique d’un élément lorsque le curseur reste sur l’élément pendant une certaine période de temps.

- Vues de liste virtuelle

   Lorsqu’il est activé, permet au contrôle de prendre en charge jusqu’à des éléments DWORD. Ceci est possible en plaçant les frais généraux de la gestion des données de l’élément sur l’application. À l’exception de la sélection des éléments et des informations de mise au point, toutes les informations sur l’élément doivent être gérées par l’application. Pour plus d’informations, voir [Utilisation de CListCtrl: Virtual List Controls](../../mfc/virtual-list-controls.md).

- Activation d’un et de deux clics

   Lorsqu’il est activé, permet le suivi à chaud (mise en surbrillance automatique du texte de l’élément) et l’activation d’un ou deux clics de l’élément mis en surbrillance.

- Commande de colonne de drag and drop

   Lorsqu’il est activé, permet de réorganiser les colonnes dans un contrôle de vue de liste. Disponible uniquement dans la vue du rapport.

Pour plus d’informations sur l’utilisation de ces nouveaux styles étendus, voir [Utiliser CListCtrl: Changer les styles de contrôle de liste](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Articles et Subitems

Chaque élément d’un contrôle de vue de liste se compose d’une icône (à partir d’une liste d’images), d’une étiquette, d’un état actuel et d’une valeur définie par l’application (appelée « données d’élément »). Un ou plusieurs subitems peuvent également être associés à chaque élément. Un "subitem" est une chaîne qui, dans la vue du rapport, peut être affichée dans une colonne à droite de l’icône et de l’étiquette d’un élément. Tous les éléments d’un contrôle de vue de liste doivent avoir le même nombre de subitems.

La `CListCtrl` classe fournit plusieurs fonctions pour l’insertion, la suppression, la recherche et la modification de ces éléments. Pour plus d’informations, voir [CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem), et [CListCtrl::FindItem](#finditem), [Adding Items to the Control](../adding-items-to-the-control.md), and [Scrolling, Arrangement, Sorting, and Finding in list controls](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

Par défaut, le contrôle de vue de liste est responsable du stockage de l’icône et des attributs texte d’un élément. Cependant, en plus de ces `CListCtrl` types d’éléments, la classe prend en charge les « éléments de rappel ». Un « élément de rappel » est un élément de vue de liste pour lequel l’application — plutôt que le contrôle — stocke le texte, l’icône ou les deux. Un masque de rappel est utilisé pour spécifier les attributs de l’élément (texte et/ou icône) fournis par l’application. Si une application utilise des éléments de rappel, elle doit être en mesure de fournir les attributs de texte et/ou d’icône à la demande. Les éléments de rappel sont utiles lorsque votre application conserve déjà certaines de ces informations. Pour plus d’informations, voir [Utilisation de CListCtrl: Callback Items et le masque de rappel](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Listes d’images

Les icônes, les images d’en-tête et les états définis par application pour les éléments de vue de liste sont contenus dans plusieurs listes d’images (implémentées par la classe [CImageList](cimagelist-class.md)), que vous créez et attribuez au contrôle de vue de liste. Chaque contrôle de vue de liste peut avoir jusqu’à quatre types différents de listes d’images :

- Grande icône

   Utilisé dans la vue de l’icône pour les icônes grandeur nature.

- Petite icône

   Utilisé dans la petite icône, la liste, et les vues de rapport pour les versions plus petites des icônes utilisées dans la vue de l’icône.

- État défini par l’application

   Contient des images d’état, qui sont affichées à côté de l’icône d’un élément pour indiquer un état défini par l’application.

- Élément d’en-tête

   Utilisé dans la vue du rapport pour les petites images qui apparaissent dans chaque élément de contrôle d’en-tête.

Par défaut, un contrôle de vue de liste détruit les listes d’images qui lui sont attribuées lorsqu’elles sont détruites ; cependant, le développeur peut personnaliser ce comportement en détruisant chaque liste d’images lorsqu’il n’est plus utilisé, tel que déterminé par l’application. Pour plus d’informations, voir [À l’aide de CListCtrl: List Items and Image Lists](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Hiérarchie d'héritage

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Spécifications

**En-tête :** afxcmn.h

## <a name="clistctrlapproximateviewrect"></a><a name="approximateviewrect"></a>CListCtrl::ApproximateViewRect

Détermine la largeur et la hauteur requises pour afficher les éléments d’un contrôle de vue de liste.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Paramètres

*Sz*<br/>
Les dimensions proposées du contrôle, en pixels. Si les dimensions ne sont pas spécifiées, le cadre utilise la largeur actuelle ou les valeurs de hauteur du contrôle.

*iCompte*<br/>
Nombre d’éléments à afficher dans le contrôle. Si ce paramètre est de -1, le cadre utilise le nombre total d’éléments actuellement sous le contrôle.

### <a name="return-value"></a>Valeur de retour

Un `CSize` objet qui contient la largeur et la hauteur approximatives nécessaires pour afficher les éléments, en pixels.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), tel que décrit dans le SDK Windows.

## <a name="clistctrlarrange"></a><a name="arrange"></a>CListCtrl::Organiser

Repositionne les éléments dans une vue d’icône afin qu’ils s’alignent sur une grille.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Paramètres

*nCode (en)*<br/>
Spécifie le style d’alignement des éléments. Ce peut être l’une des valeurs suivantes :

- LVA_ALIGNLEFT aligne les éléments le long du bord gauche de la fenêtre.

- LVA_ALIGNTOP aligne les éléments le long du bord supérieur de la fenêtre.

- LVA_DEFAULT aligne les éléments selon les styles d’alignement actuels de la vue de liste (la valeur par défaut).

- LVA_SNAPTOGRID Snaps toutes les icônes à la position de grille la plus proche.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le *paramètre nCode* spécifie le style d’alignement.

### <a name="example"></a>Exemple

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="clistctrlcanceleditlabel"></a><a name="canceleditlabel"></a>CListCtrl::CancelEditLabel

Annule l’opération d’édition de texte d’élément.

```cpp
void CancelEditLabel();
```

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_CANCELEDITLABEL,](/windows/win32/Controls/lvm-canceleditlabel) tel que décrit dans le SDK Windows.

## <a name="clistctrlclistctrl"></a><a name="clistctrl"></a>CListCtrl::CListCtrl

Construit un objet `CListCtrl`.

```
CListCtrl();
```

## <a name="clistctrlcreate"></a><a name="create"></a>CListCtrl::Créer

Crée un contrôle de liste `CListCtrl` et l’attache à un objet.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Paramètres

*dwStyle (en)*<br/>
Spécifie le style du contrôle de liste. Appliquer toute combinaison de styles de contrôle de liste au contrôle. Voir [Les styles de fenêtre De vue de](/windows/win32/Controls/list-view-window-styles) liste dans le SDK Windows pour une liste complète de ces styles. Définissez des styles étendus spécifiques à un contrôle à l’aide [de SetExtendedStyle](#setextendedstyle).

*Rect*<br/>
Spécifie la taille et la position du contrôle de liste. Il peut s’agir d’un `CRect` objet ou d’une structure [RECT.](/windows/win32/api/windef/ns-windef-rect)

*pParentWnd*<br/>
Spécifie la fenêtre parente `CDialog`du contrôle de liste, généralement un . Ce ne doit pas être NULL.

*nID*<br/>
Spécifie l’ID du contrôle de liste.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Vous construisez un `CListCtrl` en deux étapes. Tout d’abord, appelez `Create`le constructeur, puis appelez , ce `CListCtrl` qui crée le contrôle de vue de liste et l’attache à l’objet.

Pour appliquer des styles Windows étendus à l’objet de contrôle de liste, appelez [CreateEx](#createex) au lieu de `Create`.

### <a name="example"></a>Exemple

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="clistctrlcreateex"></a><a name="createex"></a>CListCtrl::CreateEx

Crée un contrôle (une fenêtre enfant) `CListCtrl` et l’associe à l’objet.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Paramètres

*dwExStyle (en anglais)*<br/>
Spécifie le style étendu du contrôle en cours de création. Pour une liste de styles Windows étendus, consultez le paramètre *dwExStyle* pour [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) dans le Windows SDK.

*dwStyle (en)*<br/>
Spécifie le style du contrôle de liste. Appliquer toute combinaison de styles de contrôle de liste au contrôle. Pour une liste complète de ces styles, voir Les styles de [fenêtre De la Liste](/windows/win32/Controls/list-view-window-styles) dans le SDK Windows.

*Rect*<br/>
Une référence à une structure [RECT](/windows/win32/api/windef/ns-windef-rect) décrivant la taille et la position de la fenêtre à créer, dans les coordonnées des clients de *pParentWnd*.

*pParentWnd*<br/>
Un pointeur vers la fenêtre qui est le parent du contrôle.

*nID*<br/>
L’id de fenêtre pour enfants du contrôle.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro cas de réussite ; sinon, 0.

### <a name="remarks"></a>Notes

Utilisez `CreateEx` au lieu de [créer](#create) pour appliquer des styles Windows étendus, spécifiés par la préface de style étendu Windows **WS_EX_**.

`CreateEx`crée le contrôle avec les styles Windows étendus spécifiés par *dwExStyle*. Pour définir des styles étendus spécifiques à un contrôle, appelez [SetExtendedStyle](#setextendedstyle). Par exemple, `CreateEx` utilisez-le pour définir des `SetExtendedStyle` styles tels que WS_EX_CONTEXTHELP, mais utilisez-le pour définir des styles tels que LVS_EX_FULLROWSELECT. Pour plus d’informations, voir les styles décrits dans l’article [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) dans le SDK Windows.

## <a name="clistctrlcreatedragimage"></a><a name="createdragimage"></a>CListCtrl::CreateDragImage

Crée une liste d’images de drag pour l’élément spécifié par *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément dont la liste d’image de traînée doit être créée.

*lpPoint (en)*<br/>
Adresse d’une structure [POINT](/windows/win32/api/windef/ns-windef-point) qui reçoit l’emplacement initial du coin supérieur gauche de l’image, en vue des coordonnées.

### <a name="return-value"></a>Valeur de retour

Un pointeur à la liste d’image de glisser en cas de succès; autrement NULL.

### <a name="remarks"></a>Notes

L’objet `CImageList` est permanent, et vous devez le supprimer une fois terminé. Par exemple :

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="clistctrldeleteallitems"></a><a name="deleteallitems"></a>CListCtrl::DeleteAllItems

Supprime tous les éléments du contrôle de la liste.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="clistctrldeletecolumn"></a><a name="deletecolumn"></a>CListCtrl::DeleteColumn

Supprime une colonne du contrôle de la vue de liste.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
Index de la colonne à supprimer.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="clistctrldeleteitem"></a><a name="deleteitem"></a>CListCtrl::DeleteItem

Supprime un élément à partir d’un contrôle de vue de liste.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Spécifie l’index de l’élément à supprimer.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="clistctrldrawitem"></a><a name="drawitem"></a>CListCtrl::DrawItem

Appelé par le cadre quand un aspect visuel d’une liste de propriétaire-tirage voir les changements de contrôle.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Paramètres

*lpDrawItemStruct*<br/>
Un long pointeur vers une `DRAWITEMSTRUCT` structure qui contient des informations sur le type de dessin requis.

### <a name="remarks"></a>Notes

Le `itemAction` membre de la structure [DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) définit l’action de dessin qui doit être effectuée.

Par défaut, cette fonction de membre ne fait rien. Remplacer cette fonction de membre pour implémenter le dessin d’un objet de dessin du `CListCtrl` propriétaire.

L’application doit restaurer tous les objets d’interface graphique (GDI) sélectionnés pour le contexte d’affichage fourni dans *lpDrawItemStruct* avant la fin de cette fonction de membre.

## <a name="clistctrleditlabel"></a><a name="editlabel"></a>CListCtrl::EditLabel

Commence l’édition place du texte d’un élément.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément de vue de liste qui doit être édité.

### <a name="return-value"></a>Valeur de retour

En cas de succès, un pointeur de l’objet `CEdit` qui est utilisé pour modifier le texte de l’élément; autrement NULL.

### <a name="remarks"></a>Notes

Un contrôle de vue de liste qui a le style de fenêtre LVS_EDITLABELS permet à un utilisateur de modifier les étiquettes d’élément en place. L’utilisateur commence à modifier en cliquant sur l’étiquette d’un élément qui a la mise au point.

Utilisez cette fonction pour commencer l’édition place du texte de l’élément de vue de liste spécifié.

### <a name="example"></a>Exemple

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="clistctrlenablegroupview"></a><a name="enablegroupview"></a>CListCtrl::EnableGroupView

Permet ou désactive si les éléments d’une liste affichent l’affichage de contrôle en tant que groupe.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Paramètres

*fEnable*<br/>
Indique s’il faut activer un contrôle de listview pour regrouper les éléments affichés. VRAI pour permettre le regroupement; FALSE pour le désactiver.

### <a name="return-value"></a>Valeur de retour

Renvoie l'une des valeurs suivantes :

- **0** La possibilité d’afficher les éléments de la liste en tant que groupe est déjà activée ou désactivée.

- **1** L’état du contrôle a été modifié avec succès.

- **-1** L’opération a échoué.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_ENABLEGROUPVIEW,](/windows/win32/Controls/lvm-enablegroupview) tel que décrit dans le SDK Windows.

## <a name="clistctrlensurevisible"></a><a name="ensurevisible"></a>CListCtrl::EnsureVisible

S’assure qu’un élément de vue de liste est au moins partiellement visible.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément de vue de liste qui doit être visible.

*bPartialOK (en)*<br/>
Précise si une visibilité partielle est acceptable.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le contrôle de vue de liste est défilé si nécessaire. Si le *paramètre bPartialOK* n’est pas zéro, aucun défilement ne se produit si l’élément est partiellement visible.

### <a name="example"></a>Exemple

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="clistctrlfinditem"></a><a name="finditem"></a>CListCtrl::FindItem

Recherche un élément de vue de liste ayant des caractéristiques spécifiées.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Paramètres

*pFindInfo*<br/>
Un pointeur vers une structure [LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) contenant des informations sur l’élément à rechercher.

*nStart (en)*<br/>
Index de l’élément pour commencer la recherche avec, ou -1 pour commencer par le début. L’élément de *nStart* est exclu de la recherche si *nStart n’est* pas égal à -1.

### <a name="return-value"></a>Valeur de retour

L’index de l’élément en cas de succès ou -1 autrement.

### <a name="remarks"></a>Notes

Le *paramètre pFindInfo* indique une `LVFINDINFO` structure, qui contient des informations utilisées pour rechercher un élément de vue de liste.

### <a name="example"></a>Exemple

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="clistctrlgetbkcolor"></a><a name="getbkcolor"></a>CListCtrl::GetBkColor

Récupère la couleur de fond d’un contrôle de vue de liste.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Une valeur 32 bits utilisée pour spécifier une couleur RGB.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetBkColor](#setbkcolor).

## <a name="clistctrlgetbkimage"></a><a name="getbkimage"></a>CListCtrl::GetBkImage

Récupère l’image de fond actuelle d’un contrôle de vue de liste.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Paramètres

*plvbkImage (en)*<br/>
Un pointeur `LVBKIMAGE` vers une structure contenant l’image de fond actuelle de la vue de liste.

### <a name="return-value"></a>Valeur de retour

Retourne nonzero en cas de succès, ou zéro autrement.

### <a name="remarks"></a>Notes

Cette méthode met en œuvre le comportement de la macro Win32, [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), comme décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="clistctrlgetcallbackmask"></a><a name="getcallbackmask"></a>CListCtrl::GetCallbackMask

Récupère le masque de rappel pour un contrôle de vue de liste.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Valeur de retour

La liste affiche le masque de rappel du contrôle.

### <a name="remarks"></a>Notes

Un « élément de rappel » est un élément de vue de liste pour lequel l’application — plutôt que le contrôle — stocke le texte, l’icône ou les deux. Bien qu’un contrôle de vue de liste puisse stocker ces attributs pour vous, vous pouvez utiliser des éléments de rappel si votre application maintient déjà certaines de ces informations. Le masque de rappel précise quels bits d’état d’élément sont maintenus par l’application, et il s’applique à l’ensemble du contrôle plutôt qu’à un élément spécifique. Le masque de rappel est nul par défaut, ce qui signifie que le contrôle suit tous les états de l’élément. Si une application utilise des éléments de rappel ou spécifie un masque de rappel non zéro, elle doit être en mesure de fournir des attributs d’éléments de vue de liste à la demande.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetCallbackMask](#setcallbackmask).

## <a name="clistctrlgetcheck"></a><a name="getcheck"></a>CListCtrl::GetCheck

Récupère l’état d’affichage actuel de l’image d’état qui est associé à un élément.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index zéro d’un élément de contrôle de liste.

### <a name="return-value"></a>Valeur de retour

Nonzero si l’élément est sélectionné, sinon 0.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetCheck](#setcheck).

## <a name="clistctrlgetcolumn"></a><a name="getcolumn"></a>CListCtrl::GetColumn

Récupère les attributs de la colonne d’un contrôle de vue de liste.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
Index de la colonne dont les attributs doivent être récupérés.

*pColumn (en)*<br/>
Adresse d’une structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) qui spécifie les informations à récupérer et reçoit des informations sur la colonne. Le `mask` membre précise quels attributs de colonne à récupérer. Si `mask` le membre précise la valeur LVCF_TEXT, `pszText` le membre doit contenir l’adresse du `cchTextMax` tampon qui reçoit le texte de l’élément et le membre doit spécifier la taille du tampon.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La `LVCOLUMN` structure contient des informations sur une colonne dans la vue du rapport.

### <a name="example"></a>Exemple

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="clistctrlgetcolumnorderarray"></a><a name="getcolumnorderarray"></a>CListCtrl::GetColumnOrderArray

Récupère l’ordre de colonne (de gauche à droite) d’un contrôle de vue de liste.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Paramètres

*piArray piArray*<br/>
Un pointeur vers un tampon qui contiendra les valeurs indiciels des colonnes dans le contrôle de vue de liste. Le tampon doit être suffisamment grand pour contenir le nombre total de colonnes dans le contrôle de vue de liste.

*iCompte*<br/>
Nombre de colonnes dans le contrôle de vue de liste. Si ce paramètre est de -1, le nombre de colonnes est automatiquement récupéré par le cadre.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="clistctrlgetcolumnwidth"></a><a name="getcolumnwidth"></a>CListCtrl::GetColumnWidth

Récupère la largeur d’une colonne dans la vue du rapport ou la vue de liste.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
Spécifie l’index de la colonne dont la largeur doit être récupérée.

### <a name="return-value"></a>Valeur de retour

La largeur, en pixels, de la colonne spécifiée par *nCol*.

### <a name="example"></a>Exemple

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="clistctrlgetcountperpage"></a><a name="getcountperpage"></a>CListCtrl::GetCountPerPage

Calcule le nombre d’éléments qui peuvent s’adapter verticalement dans la zone visible d’un contrôle de vue de liste lorsque dans la vue de liste ou la vue de rapport.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Valeur de retour

Le nombre d’éléments qui peuvent s’adapter verticalement dans la zone visible d’une liste affiche le contrôle lorsque dans la vue de liste ou de rapport.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetTopIndex](#gettopindex).

## <a name="clistctrlgeteditcontrol"></a><a name="geteditcontrol"></a>CListCtrl::GetEditControl

Récupère la poignée du contrôle de modification utilisé pour modifier le texte d’un élément de vue de liste.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valeur de retour

En cas de succès, un pointeur de l’objet [CEdit](cedit-class.md) qui est utilisé pour modifier le texte de l’élément; autrement NULL.

### <a name="example"></a>Exemple

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="clistctrlgetemptytext"></a><a name="getemptytext"></a>CListCtrl::GetEmptyText

Récupère la chaîne pour afficher si le contrôle de la vue de liste actuel est vide.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Valeur de retour

Un [CString](../../atl-mfc-shared/reference/cstringt-class.md) qui contient le texte à afficher si le contrôle est vide.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_GETEMPTYTEXT,](/windows/win32/Controls/lvm-getemptytext) qui est décrit dans le SDK Windows.

## <a name="clistctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CListCtrl::GetExtendedStyle

Récupère les styles étendus actuels d’un contrôle de vue de liste.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Valeur de retour

Une combinaison des styles étendus actuellement utilisés par le contrôle de vue de liste. Pour une liste descriptive de ces styles étendus, voir l’article [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) dans le Windows SDK.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetExtendedStyle](#setextendedstyle).

## <a name="clistctrlgetfirstselecteditemposition"></a><a name="getfirstselecteditemposition"></a>CListCtrl::GetFirstSelectedItemPosition

Obtient la position du premier élément sélectionné dans le contrôle de vue de liste.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Valeur de retour

Une valeur POSITION qui peut être utilisée pour l’itération ou la récupération de pointeurs d’objet; NULL si aucun élément n’est sélectionné.

### <a name="example"></a>Exemple

L’échantillon de code suivant démontre l’utilisation de cette fonction.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetfocusedgroup"></a><a name="getfocusedgroup"></a>CListCtrl::GetFocusedGroup

Récupère le groupe qui a la mise au point du clavier dans le contrôle de liste actuel.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Valeur de retour

L’indice du groupe dont l’état est LVGS_FOCUSED, s’il y a un tel groupe; sinon, -1.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_GETFOCUSEDGROUP,](/windows/win32/Controls/lvm-getfocusedgroup) qui est décrit dans le SDK Windows. Pour plus d’informations, voir la `state` valeur LVGS_FOCUSED du membre de la structure [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)

## <a name="clistctrlgetgroupcount"></a><a name="getgroupcount"></a>CListCtrl::GetGroupCount

Récupère le nombre de groupes dans le contrôle actuel de la liste.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Valeur de retour

Nombre de groupes dans le contrôle de la liste.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_GETGROUPCOUNT,](/windows/win32/Controls/lvm-getgroupcount) qui est décrit dans le Windows SDK -->.

## <a name="clistctrlgetgroupinfo"></a><a name="getgroupinfo"></a>CListCtrl::GetGroupInfo

Obtient les informations pour un groupe spécifié du contrôle de vue de liste.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Paramètres

*iGroupId iGroupId*<br/>
L’identifiant du groupe dont les informations doivent être récupérées.

*pgrp*<br/>
Un pointeur au [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenant des informations sur le groupe spécifié.

### <a name="return-value"></a>Valeur de retour

Retourne l’ID du groupe en cas de succès, ou -1 autrement.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETGROUPINFO,](/windows/win32/Controls/lvm-getgroupinfo) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetgroupinfobyindex"></a><a name="getgroupinfobyindex"></a>CListCtrl::GetGroupInfoByIndex

Récupère des informations sur un groupe spécifié dans le contrôle actuel de la liste.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iIndex (en)*|[dans] Indice zéro d’un groupe.|
|*pGroup (en anglais)*|[out] Pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui reçoit des informations sur le groupe spécifiées par le paramètre *iIndex.*<br /><br /> L’appelant est chargé d’initialiser les membres de la structure [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup) Réglez le `cbSize` membre à la taille de `mask` la structure et les drapeaux du membre pour spécifier les informations à récupérer.|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

Cette méthode envoie le message [LVM_GETGROUPINFOBYINDEX,](/windows/win32/controls/lvm-getgroupinfobyindex) qui est décrit dans le Windows SDK -->.

### <a name="example"></a>Exemple

L’exemple de code suivant `m_listCtrl`définit une variable, qui est utilisée pour accéder au contrôle de la vue de liste actuelle. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code `GetGroupInfoByIndex` suivant montre la méthode. Dans une section antérieure de cet exemple de code, nous avons créé un contrôle de liste qui affiche deux colonnes intitulées "ClientID" et "Grade" dans une vue de rapport. L’exemple de code suivant récupère des informations sur le groupe dont l’index est 0, si un tel groupe existe.

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="clistctrlgetgroupmetrics"></a><a name="getgroupmetrics"></a>CListCtrl::GetGroupMetrics

Récupère les mesures d’un groupe.

```cpp
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Paramètres

*pGroupMétrie*<br/>
Un pointeur à un [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenant les informations de métriques du groupe.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETGROUPMETRICS,](/windows/win32/Controls/lvm-getgroupmetrics) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetgrouprect"></a><a name="getgrouprect"></a>CListCtrl::GetGroupRect

Récupère le rectangle de délimitation pour un groupe spécifié dans le contrôle de liste actuel.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iGroupId iGroupId*|[dans] Spécifie un groupe.|
|*lpRect*|[dans, dehors] Pointeur vers une structure [RECT.](/windows/win32/api/windef/ns-windef-rect) Si cette méthode est réussie, la structure reçoit les coordonnées rectangle du groupe qui est spécifiée par *iGroupId*.|
|*iCoords (en)*|[dans] Spécifie les coordonnées du rectangle à récupérer. Utilisez l’une de ces valeurs :<br /><br /> - LVGGR_GROUP - (Par défaut) Coordonnées de l’ensemble du groupe élargi.<br />- LVGGR_HEADER - Coordonnées de seulement l’en-tête (groupe effondré).<br />- LVGGR_SUBSETLINK - Coordonnées de seulement le lien sous-ensemble (sous-ensemble de balisage).|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

L’appelant est responsable de l’attribution de la structure [RECT](/windows/win32/api/windef/ns-windef-rect) indiquée par le paramètre *pRect.*

Cette méthode envoie le [message LVM_GETGROUPRECT,](/windows/win32/Controls/lvm-getgrouprect) qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

L’exemple de code suivant `m_listCtrl`définit une variable, qui est utilisée pour accéder au contrôle de la vue de liste actuelle. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code `GetGroupRect` suivant montre la méthode. Dans une section antérieure de cet exemple de code, nous avons créé un contrôle de liste qui affiche deux colonnes intitulées "ClientID" et "Grade" dans une vue de rapport. L’exemple de code suivant dessine un rectangle 3D autour du groupe dont l’index est de 0, si un tel groupe existe.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="clistctrlgetgroupstate"></a><a name="getgroupstate"></a>CListCtrl::GetGroupState

Récupère l’état pour un groupe spécifié dans le contrôle actuel de la liste.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*iGroupId iGroupId*|[dans] Indice zéro d’un groupe.|
|*dwMask*|[dans] Masque qui spécifie la valeur de l’état à récupérer pour le groupe spécifié. Pour plus d’informations, consultez le `mask` membre de la structure [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)|

### <a name="return-value"></a>Valeur de retour

L’état demandé pour le groupe spécifié, ou 0 si le groupe ne peut pas être trouvé.

### <a name="remarks"></a>Notes

La valeur de retour est le résultat d’une opération et d’une utilisation un peu sages sur le paramètre *dwMask* et de la `state` valeur du membre d’une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui représente le contrôle actuel de la vue de liste.

Cette méthode envoie le [message LVM_GETGROUPSTATE,](/windows/win32/Controls/lvm-getgroupstate) qui est décrit dans le SDK Windows. Pour plus d’informations, voir le [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate) macro.

## <a name="clistctrlgetheaderctrl"></a><a name="getheaderctrl"></a>CListCtrl::GetHeaderCtrl

Récupère le contrôle de l’en-tête d’un contrôle de vue de liste.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Valeur de retour

Un pointeur sur le contrôle de l’en-tête, utilisé par le contrôle de vue de liste.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlgethotcursor"></a><a name="gethotcursor"></a>CListCtrl::GetHotCursor

Récupère le curseur utilisé lorsque le suivi à chaud est activé pour un contrôle de vue de liste.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Valeur de retour

La poignée de la ressource actuelle de curseur chaud utilisée par le contrôle de vue de liste.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), tel que décrit dans le SDK Windows. Le curseur chaud, seulement visible lorsque la sélection de vol stationnaire est activée, apparaît lorsque le curseur passe sur n’importe quel élément de vue de liste. La sélection hover est activée en définissant le style LVS_EX_TRACKSELECT étendu.

### <a name="example"></a>Exemple

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="clistctrlgethotitem"></a><a name="gethotitem"></a>CListCtrl::GetHotItem

Récupère l’élément de vue de liste actuellement sous le curseur.

```
int GetHotItem();
```

### <a name="return-value"></a>Valeur de retour

L’index de l’élément chaud actuel du contrôle de vue de liste.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), tel que décrit dans le SDK Windows. L’élément chaud est défini comme l’élément actuellement sélectionné lorsque le suivi à chaud (et la sélection de vol stationnaire) est activé.

Si le suivi à chaud est activé, lorsqu’un utilisateur fait une pause sur un élément de vue de liste, l’étiquette de l’élément est automatiquement mise en évidence sans l’utilisation d’un bouton de souris.

### <a name="example"></a>Exemple

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="clistctrlgethovertime"></a><a name="gethovertime"></a>CListCtrl::GetHoverTime

Récupère l’heure de vol stationnaire actuelle d’un contrôle de vue de liste.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne le délai, en millisecondes, que le curseur de souris doit planer au-dessus d’un élément avant qu’il ne soit sélectionné. Si la valeur de retour est de -1, alors le temps de vol stationnaire est le temps de vol stationnaire par défaut.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="clistctrlgetimagelist"></a><a name="getimagelist"></a>CListCtrl::GetImageList

Récupère la poignée d’une liste d’images utilisée pour dessiner des éléments de vue.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Paramètres

*nImageList*<br/>
Valeur spécifiant quelle liste d’images à récupérer. Il peut s'agir d'une des valeurs suivantes :

- LVSIL_NORMAL Liste d’images avec de grandes icônes.

- LVSIL_SMALL Liste d’images avec de petites icônes.

- LVSIL_STATE Liste d’images avec des images d’état.

### <a name="return-value"></a>Valeur de retour

Un pointeur de la liste d’images utilisée pour dessiner des éléments de vue de liste.

### <a name="example"></a>Exemple

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="clistctrlgetinsertmark"></a><a name="getinsertmark"></a>CListCtrl::GetInsertMark

Récupère la position actuelle de la marque d’insertion.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Paramètres

*plvim plvim*<br/>
Un pointeur vers une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) contenant les informations pour la marque d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne VRAI en cas de succès, ou FALSE autrement. FALSE est retourné si `cbSize` la taille `LVINSERTMARK` du membre de la structure n’égale pas la taille réelle de la structure.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETINSERTMARK,](/windows/win32/Controls/lvm-getinsertmark) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CListCtrl::GetInsertMarkColor

Récupère la couleur actuelle de la marque d’insertion.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne une structure [COLORREF](/windows/win32/gdi/colorref) qui contient la couleur du point d’insertion.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETINSERTMARKCOLOR,](/windows/win32/Controls/lvm-getinsertmarkcolor) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetinsertmarkrect"></a><a name="getinsertmarkrect"></a>CListCtrl::GetInsertMarkRect

Récupère le rectangle qui limite le point d’insertion.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

*pRect (en)*<br/>
Pointeur `RECT` vers une structure qui contient les coordonnées d’un rectangle qui limite le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Renvoie l'une des valeurs suivantes :

- **0** Aucun point d’insertion trouvé.

- **1** Point d’insertion trouvé.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_GETINSERTMARKRECT,](/windows/win32/Controls/lvm-getinsertmarkrect) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetitem"></a><a name="getitem"></a>CListCtrl::GetItem

Récupère une partie ou la totalité des attributs d’un élément de vue de liste.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Paramètres

*pItem (en)*<br/>
Pointeur vers une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui reçoit les attributs de l’article.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La `LVITEM` structure spécifie ou reçoit les attributs d’un élément de vue de liste.

## <a name="clistctrlgetitemcount"></a><a name="getitemcount"></a>CListCtrl::GetItemCount

Récupère le nombre d’éléments dans un contrôle de vue de liste.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Valeur de retour

Le nombre d’éléments dans le contrôle de vue de liste.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl::DeleteItem](#deleteitem).

## <a name="clistctrlgetitemdata"></a><a name="getitemdata"></a>CListCtrl::GetItemData

Récupère la valeur spécifique à l’application 32 `nItem`bits associée à l’élément spécifié par .

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément de liste dont les données doivent être récupérées.

### <a name="return-value"></a>Valeur de retour

Une valeur spécifique à l’application 32 bits associée à l’élément spécifié.

### <a name="remarks"></a>Notes

Cette valeur `lParam` est le membre de la structure [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) tel que décrit dans le SDK Windows

### <a name="example"></a>Exemple

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="clistctrlgetitemindexrect"></a><a name="getitemindexrect"></a>CListCtrl::GetItemIndexRect

Récupère le rectangle de délimitation pour tout ou partie d’un subitem dans le contrôle de liste en cours.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|[dans] Pointeur vers une structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) pour l’élément parent du subitem.<br /><br /> L’appelant est responsable de l’attribution et de la définition des membres de la structure [LVITEMINDEX.](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) Ce paramètre ne peut pas être NULL.|
|*iColumn iColumn*|[dans] Indice zéro d’une colonne dans le contrôle.|
|*rectType (rectType)*|[dans] Partie du sous-tem de la liste pour laquelle le rectangle de délimitation est récupéré. Spécifiez l'une des valeurs suivantes :<br /><br /> LVIR_BOUNDS - Retourne le rectangle de délimitation de l’ensemble du subitem, y compris l’icône et l’étiquette.<br /><br /> LVIR_ICON - Retourne le rectangle de délimitation de l’icône ou petite icône du subitem.<br /><br /> LVIR_LABEL - Retourne le rectangle de délimitation du texte subitem.|
|*pRect (en)*|[out] Pointeur vers une structure [RECT](/windows/win32/api/windef/ns-windef-rect) qui reçoit des informations sur le rectangle de délimitation du subitem.<br /><br /> L’appelant est responsable de l’attribution de la structure [RECT.](/windows/win32/api/windef/ns-windef-rect) Ce paramètre ne peut pas être NULL.|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_GETITEMINDEXRECT,](/windows/win32/Controls/lvm-getitemindexrect) qui est décrit dans le SDK Windows. Pour plus d’informations, voir [ListView_GetItemIndexRect Macro](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Exemple

L’exemple de code suivant `m_listCtrl`définit une variable, qui est utilisée pour accéder au contrôle de la vue de liste actuelle. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code `GetGroupRect` suivant montre la méthode. Avant d’entrer cet exemple de code, nous avons créé un contrôle de la liste qui affiche deux colonnes intitulées "ClientID" et "Grade" dans une vue de rapport. L’exemple de code suivant dessine un rectangle 3D autour du deuxième subitem dans les deux colonnes.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="clistctrlgetitemposition"></a><a name="getitemposition"></a>CListCtrl::GetItemPosition

Récupère la position d’un élément de vue de liste.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index de l’élément dont la position doit être récupérée.

*lpPoint (en)*<br/>
Adresse d’une structure [POINT](/windows/win32/api/windef/ns-windef-point) qui reçoit la position du coin supérieur gauche de l’élément, en vue des coordonnées.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="clistctrlgetitemrect"></a><a name="getitemrect"></a>CListCtrl::GetItemRect

Récupère le rectangle de délimitation pour tout ou partie d’un élément dans la vue actuelle.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index de l’élément dont la position doit être récupérée.

*lpRect*<br/>
Adresse d’une structure [RECT](/windows/win32/api/windef/ns-windef-rect) qui reçoit le rectangle de délimitation.

*nCode (en)*<br/>
Partie de l’élément de vue de liste pour lequel récupérer le rectangle de délimitation. Il peut s'agir d'une des valeurs suivantes :

- LVIR_BOUNDS retourne le rectangle de délimitation de l’élément entier, y compris l’icône et l’étiquette.

- LVIR_ICON renvoie le rectangle de délimitation de l’icône ou de la petite icône.

- LVIR_LABEL retourne le rectangle de délimitation du texte de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="clistctrlgetitemspacing"></a><a name="getitemspacing"></a>CListCtrl::GetItemSpacing

Calcule l’espacement entre les éléments dans le contrôle de la liste actuelle.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*fSmall*|[dans] Afficher pour savoir lequel récupérer l’espacement de l’élément. Spécifiez TRUE pour une petite vue d’icône, ou FALSE pour la vue de l’icône.|
|*pnHorzSpacing*|[out] Contient l’espacement horizontal entre les éléments.|
|*pnVertSpacing (en)*|[out] Contient l’espacement vertical entre les éléments.|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_GETITEMSPACING,](/windows/win32/Controls/lvm-getitemspacing) qui est décrit dans le SDK Windows.

## <a name="clistctrlgetitemstate"></a><a name="getitemstate"></a>CListCtrl::GetItemState

Récupère l’état d’un élément de vue de liste.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index de l’élément dont l’état doit être récupéré.

*nMask (nMask)*<br/>
Masque spécifiant lequel des drapeaux d’état de l’article à retourner.

### <a name="return-value"></a>Valeur de retour

Les drapeaux de l’état pour l’élément de vue de liste spécifié.

### <a name="remarks"></a>Notes

L’état d’un élément `state` est spécifié par le membre de la structure [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) tel que décrit dans le SDK Windows. Lorsque vous spécifiez ou `stateMask` modifiez l’état d’un élément, le membre spécifie les bits d’état que vous souhaitez modifier.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetTopIndex](#gettopindex).

## <a name="clistctrlgetitemtext"></a><a name="getitemtext"></a>CListCtrl::GetItemText

Récupère le texte d’un élément de vue de liste ou d’un subitem.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index de l’élément dont le texte doit être récupéré.

*nSubItem (en)*<br/>
Spécifie le subitem dont le texte doit être récupéré.

*lpszText*<br/>
Pointeur vers une chaîne qui doit recevoir le texte de l’élément.

*nLen (en)*<br/>
Longueur du tampon pointé par *lpszText*.

### <a name="return-value"></a>Valeur de retour

La version de retour **int renvoie** la longueur de la chaîne récupérée.

La version `CString` de retour d’un texte de l’élément.

### <a name="remarks"></a>Notes

Si *nSubItem* est nul, cette fonction récupère l’étiquette de l’article; si *nSubItem* n’est paszero, il récupère le texte du subitem. Pour plus d’informations sur l’argument subitem, voir la discussion de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) dans le SDK Windows.

## <a name="clistctrlgetnextitem"></a><a name="getnextitem"></a>CListCtrl::GetNextItem

Recherche un élément de vue de liste qui a les propriétés spécifiées et qui porte la relation spécifiée à un élément donné.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément pour commencer la recherche avec, ou -1 pour trouver le premier élément qui correspond aux drapeaux spécifiés. L’élément spécifié lui-même est exclu de la recherche.

*nFlags*<br/>
Relation géométrique de l’élément demandé à l’élément spécifié, et l’état de l’élément demandé. La relation géométrique peut être l’une de ces valeurs :

- LVNI_ABOVE Recherche d’un élément qui est au-dessus de l’élément spécifié.

- LVNI_ALL Recherche d’un article subséquent par index (la valeur par défaut).

- LVNI_BELOW Recherche d’un élément qui est en dessous de l’élément spécifié.

- LVNI_TOLEFT Recherche d’un élément à gauche de l’élément spécifié.

- LVNI_TORIGHT Recherche d’un élément à droite de l’élément spécifié.

L’État peut être nul, ou il peut être une ou plusieurs de ces valeurs:

- LVNI_DROPHILITED L’article a le LVIS_DROPHILITED’ensemble de drapeau d’état.

- LVNI_FOCUSED L’article a le LVIS_FOCUSED’ensemble de drapeau d’état.

- LVNI_SELECTED L’article a le LVIS_SELECTED’ensemble de drapeau d’état.

Si un élément n’a pas tous les drapeaux d’état spécifiés, la recherche se poursuit avec l’élément suivant.

### <a name="return-value"></a>Valeur de retour

L’index de l’élément suivant en cas de succès, ou -1 autrement.

## <a name="clistctrlgetnextitemindex"></a><a name="getnextitemindex"></a>CListCtrl::GetNextItemIndex

Récupère l’index de l’élément dans le contrôle de la liste actuelle qui a un ensemble spécifié de propriétés.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|[dans, dehors] Pointeur vers la structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) qui décrit l’élément où la recherche commence, ou -1 pour trouver le premier élément qui correspond aux drapeaux dans le paramètre *nFlags.*<br /><br /> Si cette méthode est `LVITEMINDEX` efficace, la structure décrit l’élément trouvé par la recherche.|
|*nFlags*|[dans] Une combinaison bitwise (OU) de drapeaux qui spécifient comment effectuer la recherche.<br /><br /> La recherche peut dépendre de l’index, de l’état ou de l’apparence de l’élément cible, ou de la position physique de l’élément cible par rapport à l’élément spécifié par le paramètre *pItemIndex.* Pour plus d’informations, voir le paramètre *des drapeaux* dans le [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) message.|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

L’appelant est chargé d’allouer `LVITEMINDEX` et de définir les membres de la structure pointés par le paramètre *pItemIndex.*

Cette méthode envoie le [message LVM_GETNEXTITEMINDEX,](/windows/win32/controls/lvm-getnextitemindex) qui est décrit dans le SDK Windows.

## <a name="clistctrlgetnextselecteditem"></a><a name="getnextselecteditem"></a>CListCtrl::GetNextSelectedItem

Obtient l’index de l’élément de liste identifié par *pos,* puis définit *pos* à la valeur POSITION.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Paramètres

*Pos*<br/>
Une référence à une valeur POSITION `GetNextSelectedItem` retournée `GetFirstSelectedItemPosition`par un appel précédent à ou . La valeur est mise à jour à la position suivante par cet appel.

### <a name="return-value"></a>Valeur de retour

L’index de l’élément de liste identifié par *pos*.

### <a name="remarks"></a>Notes

Vous pouvez `GetNextSelectedItem` utiliser dans une boucle d’itération vers l’avant si vous établissez la position initiale avec un appel à `GetFirstSelectedItemPosition`.

Vous devez vous assurer que votre valeur POSITION est valide. Si elle est invalide, la version Debug de la Microsoft Foundation Class Library affirme.

### <a name="example"></a>Exemple

L’échantillon de code suivant démontre l’utilisation de cette fonction.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetnumberofworkareas"></a><a name="getnumberofworkareas"></a>CListCtrl::GetNumberOfWorkAreas

Récupère le nombre actuel de zones de travail pour un contrôle de vue de liste.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Valeur de retour

Non utilisé pour le moment.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="clistctrlgetoutlinecolor"></a><a name="getoutlinecolor"></a>CListCtrl::GetOutlineColor

Récupère la couleur de la bordure d’un contrôle de vue de liste.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne une structure [COLORREF](/windows/win32/gdi/colorref) contenant la couleur du contour.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETOUTLINECOLOR,](/windows/win32/Controls/lvm-getoutlinecolor) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetorigin"></a><a name="getorigin"></a>CListCtrl::GetOrigin

Récupère l’origine actuelle de la vue pour un contrôle de vue de liste.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Paramètres

*lpPoint (en)*<br/>
Adresse d’une structure [POINT](/windows/win32/api/windef/ns-windef-point) qui reçoit l’origine de la vue.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro. Toutefois, si le contrôle est dans la vue du rapport, la valeur de rendement est toujours nulle.

## <a name="clistctrlgetselectedcolumn"></a><a name="getselectedcolumn"></a>CListCtrl::GetSelectedColumn

Récupère l’index de la colonne actuellement sélectionnée dans le contrôle de liste.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Valeur de retour

L’index de la colonne sélectionnée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETSELECTEDCOLUMN,](/windows/win32/Controls/lvm-getselectedcolumn) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetselectedcount"></a><a name="getselectedcount"></a>CListCtrl::GetSelectedCount

Récupère le nombre d’éléments sélectionnés dans le contrôle de vue de liste.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Valeur de retour

Nombre d’éléments sélectionnés dans le contrôle de la liste.

### <a name="example"></a>Exemple

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="clistctrlgetselectionmark"></a><a name="getselectionmark"></a>CListCtrl::GetSelectionMark

Récupère la marque de sélection d’un contrôle de vue de liste.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Valeur de retour

La marque de sélection à base de zéro, ou -1 s’il n’y a pas de marque de sélection.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="clistctrlgetstringwidth"></a><a name="getstringwidth"></a>CListCtrl::GetStringWidth

Détermine la largeur minimale de la colonne nécessaire pour afficher toute une chaîne donnée.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Paramètres

*lpsz lpsz*<br/>
Adresse d’une chaîne à durée nulle dont la largeur doit être déterminée.

### <a name="return-value"></a>Valeur de retour

La largeur, en pixels, de la chaîne pointée par *lpsz*.

### <a name="remarks"></a>Notes

La largeur retournée tient compte des marges actuelles de la police et de la colonne du contrôle, mais pas de la largeur d’une petite icône.

### <a name="example"></a>Exemple

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="clistctrlgetsubitemrect"></a><a name="getsubitemrect"></a>CListCtrl::GetSubItemRect

Récupère le rectangle de délimitation d’un élément dans un contrôle de vue de liste.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Paramètres

*iItem*<br/>
Index de l’élément parent du subitem.

*iSubItem (en)*<br/>
L’indice à un seul jour du subitem.

*nArea (en)*<br/>
Détermine la partie du rectangle de délimitation (de la vue de liste subitem) à récupérer. La partie (icône, étiquette, ou les deux) du rectangle de délimitation est spécifiée en appliquant l’opérateur BITwise OU à une ou plusieurs des valeurs suivantes :

- LVIR_BOUNDS retourne le rectangle de délimitation de l’élément entier, y compris l’icône et l’étiquette.

- LVIR_ICON renvoie le rectangle de délimitation de l’icône ou de la petite icône.

- LVIR_LABEL retourne le rectangle de délimitation de l’élément entier, y compris l’icône et l’étiquette. C’est identique à LVIR_BOUNDS.

*ref*<br/>
Référence à un objet [CRect](../../atl-mfc-shared/reference/crect-class.md) qui contient les coordonnées du rectangle de délimitation du subitem.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), tel que décrit dans le SDK Windows.

## <a name="clistctrlgettextbkcolor"></a><a name="gettextbkcolor"></a>CListCtrl::GetTextBkColor

Récupère la couleur de fond de texte d’un contrôle de vue de liste.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Valeur de retour

Une valeur 32 bits utilisée pour spécifier une couleur RGB.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetTextBkColor](#settextbkcolor).

## <a name="clistctrlgettextcolor"></a><a name="gettextcolor"></a>CListCtrl::GetTextColor

Récupère la couleur de texte d’un contrôle de vue de liste.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valeur de retour

Une valeur 32 bits utilisée pour spécifier une couleur RGB.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:SetTextColor](#settextcolor).

## <a name="clistctrlgettileinfo"></a><a name="gettileinfo"></a>CListCtrl::GetTileInfo

Récupère des informations sur une tuile dans un contrôle de vue de liste.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Paramètres

*plvti (plvti)*<br/>
Un pointeur vers une structure [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) qui reçoit les informations de tuile.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETTILEINFO,](/windows/win32/Controls/lvm-gettileinfo) tel que décrit dans le SDK Windows.

## <a name="clistctrlgettileviewinfo"></a><a name="gettileviewinfo"></a>CListCtrl::GetTileViewInfo

Récupère des informations sur un contrôle de vue de liste dans la vue de tuiles.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Paramètres

*ptvi ptvi*<br/>
Un pointeur vers une structure [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) qui reçoit les informations récupérées.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_GETTILEVIEWINFO,](/windows/win32/Controls/lvm-gettileviewinfo) tel que décrit dans le SDK Windows.

## <a name="clistctrlgettooltips"></a><a name="gettooltips"></a>CListCtrl::GetToolTips

Récupère le contrôle de la pointe d’outil que le contrôle de vue de liste utilise pour afficher les outils.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valeur de retour

Un pointeur à un objet [CToolTipCtrl](ctooltipctrl-class.md) à utiliser par le contrôle de liste. Si la fonction [membre Create](#create) utilise le style LVS_NOTOOLTIPS, aucune boîte à outils n’est utilisée, et NULL est retourné.

### <a name="remarks"></a>Notes

Cette fonction de membre implémente le comportement du message Win32 [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips), tel que décrit dans le SDK Windows. La mise en `GetToolTips` œuvre MFC des retours d’un `CToolTipCtrl` objet, qui est utilisé par le contrôle de liste, plutôt que d’une poignée à un contrôle de bout d’outil.

### <a name="example"></a>Exemple

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="clistctrlgettopindex"></a><a name="gettopindex"></a>CListCtrl::GetTopIndex

Récupère l’index de l’élément le plus visible lorsque dans la vue de liste ou la vue du rapport.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Valeur de retour

L’index de l’élément le plus visible.

### <a name="example"></a>Exemple

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="clistctrlgetview"></a><a name="getview"></a>CListCtrl::GetView

Obtient la vue du contrôle de vue de liste.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Valeur de retour

La vue actuelle du contrôle de la liste.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_GETVIEW,](/windows/win32/Controls/lvm-getview) tel que décrit dans le SDK Windows.

## <a name="clistctrlgetviewrect"></a><a name="getviewrect"></a>CListCtrl::GetViewRect

Récupère le rectangle de délimitation de tous les éléments dans le contrôle de vue de liste.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Paramètres

*lpRect*<br/>
Adresse d’une structure [RECT.](/windows/win32/api/windef/ns-windef-rect)

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

La vue de liste doit être en vue d’icône ou petite vue d’icône.

## <a name="clistctrlgetworkareas"></a><a name="getworkareas"></a>CListCtrl::GetWorkAreas

Récupère les zones de travail actuelles d’un contrôle de vue de liste.

```cpp
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Paramètres

*nWorkAreas (en)*<br/>
Le nombre `RECT` de structures contenues dans le tableau *pRect.*

*pRect (en)*<br/>
Un pointeur vers `RECT` un tableau de structures (ou [d’objets CRect)](../../atl-mfc-shared/reference/crect-class.md) qui reçoivent les zones de travail du contrôle de vue de liste. Les valeurs de ces structures sont dans les coordonnées des clients.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="clistctrlhasgroup"></a><a name="hasgroup"></a>CListCtrl::HasGroup

Détermine si le contrôle de vue de liste a le groupe spécifié.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Paramètres

*iGroupId iGroupId*<br/>
L’identifiant du groupe demandé.

### <a name="return-value"></a>Valeur de retour

Retourne TRUE sur le succès, FALSE sur l’échec.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_HASGROUP,](/windows/win32/Controls/lvm-hasgroup) tel que décrit dans le SDK Windows.

## <a name="clistctrlhittest"></a><a name="hittest"></a>CListCtrl::HitTest

Détermine l’élément de vue de liste, le cas échéant, se trouve à une position spécifiée.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Paramètres

*pHitTestInfo (en anglais)*<br/>
Adresse d’une `LVHITTESTINFO` structure qui contient la position de frapper le test et qui reçoit des informations sur les résultats du test de frappe.

*Pt*<br/>
Point à tester.

*pFlags*<br/>
Pointeur vers un intégreur qui reçoit des informations sur les résultats du test. Voir l’explication `flags` du membre de la structure [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

L’index de l’élément à la position spécifiée par *pHitTestInfo*, le cas échéant, ou -1 autrement.

### <a name="remarks"></a>Notes

Vous pouvez utiliser les valeurs LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT et LVHT_TORIGHT du membre de `flag` la structure pour déterminer s’il convient de faire défiler le contenu d’un contrôle de vue de liste. Deux de ces drapeaux peuvent être combinés, par exemple, si la position est au-dessus et à gauche de la zone client.

Vous pouvez tester la valeur LVHT_ONITEM du `flag` membre de la structure afin de déterminer si une position donnée est au-dessus d’un élément de vue de liste. Cette valeur est une opération un peu sage-OU sur les valeurs LVHT_ONITEMICON, LVHT_ONITEMLABEL et `flag` LVHT_ONITEMSTATEICON du membre de la structure.

### <a name="example"></a>Exemple

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="clistctrlinsertcolumn"></a><a name="insertcolumn"></a>CListCtrl::InsertColumn

Insère une nouvelle colonne dans un contrôle de vue de liste.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
L’index de la nouvelle colonne.

*pColumn (en)*<br/>
Adresse d’une `LVCOLUMN` structure qui contient les attributs de la nouvelle colonne.

*lpszColumnHeading (en)*<br/>
Adresse d’une chaîne contenant le titre de la colonne.

*nFormat (en)*<br/>
Integer spécifiant l’alignement de la colonne. Il peut s’agir d’une de ces valeurs : LVCFMT_LEFT, LVCFMT_RIGHT ou LVCFMT_CENTER.

*nWidth (en)*<br/>
Largeur de la colonne, en pixels. Si ce paramètre est de -1, la largeur de la colonne n’est pas définie.

*nSubItem (en)*<br/>
Index du subitem associé à la colonne. Si ce paramètre est de -1, aucun subitem n’est associé à la colonne.

### <a name="return-value"></a>Valeur de retour

L’index de la nouvelle colonne en cas de succès ou -1 autrement.

### <a name="remarks"></a>Notes

La colonne la plus à gauche d’un contrôle de vue de liste doit être alignée à gauche.

La structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) contient les attributs d’une colonne dans la vue du rapport. Il est également utilisé pour recevoir des informations sur une colonne. Cette structure est décrite dans le Windows SDK.

## <a name="clistctrlinsertgroup"></a><a name="insertgroup"></a>CListCtrl::InsertGroup

Insère un groupe dans le contrôle de la vue de liste.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Paramètres

*index*<br/>
L’index de l’élément où le groupe doit être inséré.

*pgrp*<br/>
Un pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenant le groupe à ajouter.

### <a name="return-value"></a>Valeur de retour

Retourne l’index de l’élément à lequel le groupe a été ajouté, ou -1 si l’opération a échoué.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_INSERTGROUP,](/windows/win32/Controls/lvm-insertgroup) tel que décrit dans le SDK Windows.

## <a name="clistctrlinsertgroupsorted"></a><a name="insertgroupsorted"></a>CListCtrl::InsertGroupSorted

Insère le groupe spécifié dans une liste ordonnée de groupes.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Paramètres

*pStructInsert*<br/>
Un pointeur vers une structure [LVINSERTGROUPSORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) qui contient le groupe à insérer.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_INSERTGROUPSORTED,](/windows/win32/Controls/lvm-insertgroupsorted) tel que décrit dans le SDK Windows.

## <a name="clistctrlinsertitem"></a><a name="insertitem"></a>CListCtrl::InsertItem

Insère un élément dans le contrôle de la vue de liste.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Paramètres

*pItem (en)*<br/>
Pointeur vers une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui spécifie les attributs de l’élément, tel que décrit dans le SDK Windows.

*nItem (en)*<br/>
Index de l’élément à insérer.

*lpszItem (en)*<br/>
Adresse d’une chaîne contenant l’étiquette de l’élément, ou LPSTR_TEXTCALLBACK si l’élément est un élément de rappel. Pour plus d’informations sur les éléments de rappel, voir [CListCtrl:GetCallbackMask](#getcallbackmask).

*nImage (en)*<br/>
Index de l’image de l’élément, ou I_IMAGECALLBACK si l’élément est un élément de rappel. Pour plus d’informations sur les éléments de rappel, voir [CListCtrl:GetCallbackMask](#getcallbackmask).

*nMask (nMask)*<br/>
Le paramètre *nMask* précise quels attributs d’élément passés au fur et à mesure que les paramètres sont valides. Il peut s’agir d’une ou de plusieurs valeurs de masque décrites dans [la structure LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) dans le SDK Windows. Les valeurs valides peuvent être combinées avec l’opérateur BITwise OR.

*nState (États-Unis)*<br/>
Indique l’état, l’image d’état et l’image de superposition de l’élément. Pour plus d’informations, consultez les sujets Windows SDK [LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) et [List-View Item States](/windows/win32/Controls/list-view-item-states) pour une liste de drapeaux valides.

*nStateMask (en)*<br/>
Indique quels morceaux du membre de l’État seront récupérés ou modifiés. Pour plus d’informations, voir [LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) in the Windows SDK.

*lParam*<br/>
Une valeur spécifique à l’application 32 bits associée à l’article. Si ce paramètre est spécifié, vous devez définir *l’attribut nMask* LVIF_PARAM.

### <a name="return-value"></a>Valeur de retour

L’index du nouvel élément en cas de succès ou -1 autrement.

### <a name="remarks"></a>Notes

L’appel de cette méthode peut entraîner l’envoi du message LVM_INSERTITEM à votre fenêtre de contrôle. Le gestionnaire de message associé pour le contrôle peut ne pas définir le texte de l’élément sous certaines conditions (comme l’utilisation de styles de fenêtre tels que LVS_OWNERDRAW). Pour plus d’informations sur ces conditions, voir [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="clistctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CListCtrl::InsertMarkHitTest

Récupère le point d’insertion le plus proche d’un point spécifié.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Paramètres

*pPoint (en)*<br/>
Un pointeur vers une structure [POINT](/windows/win32/api/windef/ns-windef-point) qui contient les coordonnées de test à succès, par rapport à la zone client du contrôle de liste.

*plvim plvim*<br/>
Pointeur d’une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) qui spécifie le point d’insertion le plus proche des coordonnées définies par le paramètre de point.

### <a name="return-value"></a>Valeur de retour

Le point d’insertion le plus proche du point spécifié.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_INSERTMARKHITTEST,](/windows/win32/Controls/lvm-insertmarkhittest) tel que décrit dans le SDK Windows.

## <a name="clistctrlisgroupviewenabled"></a><a name="isgroupviewenabled"></a>CListCtrl::IsGroupViewEnabled

Détermine si l’vue de groupe est activée pour un contrôle de vue de liste.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Valeur de retour

Retourne VRAI si la vue de groupe est activée, ou FALSE autrement.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_ISGROUPVIEWENABLED,](/windows/win32/Controls/lvm-isgroupviewenabled) tel que décrit dans le SDK Windows.

## <a name="clistctrlisitemvisible"></a><a name="isitemvisible"></a>CListCtrl::IsItemVisible

Indique si un élément spécifié dans le contrôle de la vue de liste actuel est visible.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*index*|[dans] Indice à base de zéro d’un élément dans le contrôle actuel de la liste.|

### <a name="return-value"></a>Valeur de retour

VRAI si l’élément spécifié est visible; autrement, FALSE.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_ISITEMVISIBLE,](/windows/win32/Controls/lvm-isitemvisible) qui est décrit dans le SDK Windows.

## <a name="clistctrlmapidtoindex"></a><a name="mapidtoindex"></a>CListCtrl::MapIDToIndex

Cartographiez l’ID unique d’un élément dans le contrôle actuel de la liste-vue à un index.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*id*|[dans] L’id unique d’un article.|

### <a name="return-value"></a>Valeur de retour

L’indice actuel de l’ID spécifié.

### <a name="remarks"></a>Notes

Un contrôle de la liste suit en interne les éléments par index. Cela peut présenter des problèmes parce que les index peuvent changer au cours de la durée de vie du contrôle. Le contrôle de la liste peut étiqueter un élément avec un ID lorsque l’élément est créé et vous pouvez utiliser cet ID pour garantir un caractère unique pendant la durée de vie du contrôle de la liste.

Notez que dans un environnement multilitorié l’index n’est garanti que sur le thread qui héberge le contrôle de la liste, et non sur les fils de fond.

Cette méthode envoie le [message LVM_MAPIDTOINDEX,](/windows/win32/controls/lvm-mapidtoindex) qui est décrit dans le SDK Windows.

## <a name="clistctrlmapindextoid"></a><a name="mapindextoid"></a>CListCtrl::MapIndexToID

Cartographie l’index d’un élément du contrôle actuel de la liste à un ID unique.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*index*|[dans] L’indice zéro d’un élément.|

### <a name="return-value"></a>Valeur de retour

Un ID unique pour l’élément spécifié.

### <a name="remarks"></a>Notes

Un contrôle de la liste suit en interne les éléments par index. Cela peut présenter des problèmes parce que les index peuvent changer au cours de la durée de vie du contrôle. Le contrôle de la liste peut étiqueter un élément avec un ID lorsque l’élément est créé. Vous pouvez utiliser cette pièce d’identité pour accéder à un élément spécifique pour la durée de vie du contrôle de la liste.

Notez que dans un environnement multilitorié l’index n’est garanti que sur le thread qui héberge le contrôle de la liste, et non sur les fils de fond.

Cette méthode envoie le [message LVM_MAPINDEXTOID,](/windows/win32/Controls/lvm-mapindextoid) qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

L’exemple de code suivant `m_listCtrl`définit une variable, qui est utilisée pour accéder au contrôle de la vue de liste actuelle. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code `MapIndexToID` suivant montre la méthode. Dans une section antérieure de cet exemple de code, nous avons créé un contrôle de liste qui affiche deux colonnes intitulées "ClientID" et "Grade" dans une vue de rapport. L’exemple suivant cartographie l’index de chaque élément de liste à un numéro d’identification, puis récupère l’index pour chaque numéro d’identification. Enfin, l’exemple indique si les index originaux ont été récupérés.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="clistctrlmovegroup"></a><a name="movegroup"></a>CListCtrl::MoveGroup

Déplace le groupe spécifié vers l’indice spécifié basé sur zéro du contrôle de vue de liste.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Paramètres

*iGroupId iGroupId*<br/>
L’identifiant du groupe à déplacer.

*àIndex*<br/>
L’indice zéro où le groupe doit être déplacé.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_MOVEGROUP,](/windows/win32/Controls/lvm-movegroup) tel que décrit dans le SDK Windows.

## <a name="clistctrlmoveitemtogroup"></a><a name="moveitemtogroup"></a>CListCtrl::MoveItemToGroup

Déplace l’élément spécifié dans le groupe spécifié.

```cpp
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Paramètres

*idItemDe*<br/>
[dans] L’index de l’élément à déplacer.

*idGroupTo idGroupTo*<br/>
[dans] L’identifiant du groupe à qui l’article sera déplacé.

### <a name="remarks"></a>Notes

> [!NOTE]
> Cette méthode n’est actuellement pas mise en œuvre.

Cette méthode imite la fonctionnalité du message [LVM_MOVEITEMTOGROUP,](/windows/win32/Controls/lvm-moveitemtogroup) tel que décrit dans le SDK Windows.

## <a name="clistctrlredrawitems"></a><a name="redrawitems"></a>CListCtrl::RedrawItems

Force un contrôle de vue de liste pour repeindre une gamme d’éléments.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Paramètres

*nFirst*<br/>
Index du premier élément à repeindre.

*nLast (en)*<br/>
Index du dernier élément à repeindre.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Les éléments spécifiés ne sont pas réellement repeints jusqu’à ce que la fenêtre de vue de liste reçoit un message WM_PAINT. Pour repeindre immédiatement, appelez la fonction Windows [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow) après avoir utilisé cette fonction.

## <a name="clistctrlremoveallgroups"></a><a name="removeallgroups"></a>CListCtrl::RemoveAllGroups

Supprime tous les groupes d’un contrôle de vue de liste.

```cpp
void RemoveAllGroups();
```

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_REMOVEALLGROUPS,](/windows/win32/Controls/lvm-removeallgroups) tel que décrit dans le SDK Windows.

## <a name="clistctrlremovegroup"></a><a name="removegroup"></a>CListCtrl::RemoveGroup

Supprime le groupe spécifié du contrôle de vue de liste.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Paramètres

*iGroupId iGroupId*<br/>
L’identifiant du groupe à supprimer.

### <a name="return-value"></a>Valeur de retour

Retourne l’indice du groupe en cas de succès, ou -1 autrement.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_REMOVEGROUP,](/windows/win32/Controls/lvm-removegroup) tel que décrit dans le SDK Windows.

## <a name="clistctrlscroll"></a><a name="scroll"></a>CListCtrl::Scroll

Faites défiler le contenu d’un contrôle de vue de liste.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Paramètres

*size*<br/>
Un `CSize` objet spécifiant la quantité de défilement horizontal et vertical, en pixels. Le `y` membre de *taille* est divisé par la hauteur, en pixels, de la ligne du contrôle de vue de liste, et le contrôle est défilé par le nombre de lignes résultant.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

## <a name="clistctrlsetbkcolor"></a><a name="setbkcolor"></a>CListCtrl::SetBkColor

Définit la couleur de fond du contrôle de vue de liste.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*Cr*<br/>
Couleur de fond à définir, ou la valeur CLR_NONE pour aucune couleur de fond. Liste des contrôles de vue avec des couleurs de fond se redessiner beaucoup plus vite que ceux sans couleurs de fond. Pour plus d’informations, voir [COLORREF](/windows/win32/gdi/colorref) dans windows SDK.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="clistctrlsetbkimage"></a><a name="setbkimage"></a>CListCtrl::SetBkImage

Définit l’image de fond d’un contrôle de vue de liste.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Paramètres

*plvbkImage (en)*<br/>
Adresse d’une `LVBKIMAGE` structure contenant les nouvelles informations d’image de fond.

*hBitmap (en)*<br/>
Manipulez à un bitmap.

*pszUrl*<br/>
Une chaîne à terminons NULL qui contient l’URL de l’image de fond.

*fTile (fTile)*<br/>
Nonzero si l’image doit être carrelée à l’arrière-plan de la liste de contrôle de vue; sinon 0.

*xOffsetPercent (en anglais)*<br/>
Le décalage, en pixels, du bord gauche de l’image, de l’origine du contrôle de vue de liste.

*yOffsetPercent (en anglais)*<br/>
Le décalage, en pixels, du bord supérieur de l’image, de l’origine du contrôle de vue de liste.

### <a name="return-value"></a>Valeur de retour

Retourne nonzero en cas de succès, ou zéro autrement.

### <a name="remarks"></a>Notes

> [!NOTE]
> Parce `CListCtrl::SetBkImage` que fait usage de la fonctionnalité OLE COM, `SetBkImage`les bibliothèques OLE doivent être paralés avant d’utiliser . Il est préférable d’initialiser les bibliothèques COM lorsque l’application est parasitaire et d’uninitialiser les bibliothèques lorsque la demande prend fin. Cela se fait automatiquement dans les applications MFC qui utilisent la technologie ActiveX, l’automatisation OLE, OLE Linking/Embedding, ou les opérations ODBC/DAO.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetBkImage](#getbkimage).

## <a name="clistctrlsetcallbackmask"></a><a name="setcallbackmask"></a>CListCtrl::SetCallbackMask

Définit le masque de rappel pour un contrôle de vue de liste.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Paramètres

*nMask (nMask)*<br/>
Nouvelle valeur du masque de rappel.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="clistctrlsetcheck"></a><a name="setcheck"></a>CListCtrl::SetCheck

Détermine si l’image d’état d’un élément de contrôle de liste est visible.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
L’index zéro d’un élément de contrôle de liste.

*fCheck*<br/>
Précise si l’image d’état de l’élément doit être visible ou non. Par défaut, *fCheck* est VRAI et l’image d’état est visible. Si *fCheck* est FALSE, il n’est pas visible.

### <a name="return-value"></a>Valeur de retour

Nonzero si l’article est vérifié, sinon 0.

### <a name="example"></a>Exemple

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="clistctrlsetcolumn"></a><a name="setcolumn"></a>CListCtrl::SetColumn

Définit les attributs d’une colonne de vue de liste.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
Index de la colonne dont les attributs doivent être définis.

*pColumn (en)*<br/>
Adresse d’une structure [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) qui contient les nouveaux attributs de colonne, tel que décrit dans le SDK Windows. Le membre `mask` de la structure précise quelles colonnes attribue à définir. Si `mask` le membre précise la valeur LVCF_TEXT, le `pszText` membre de la structure est l’adresse d’une chaîne non terminée et le membre de `cchTextMax` la structure est ignoré.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetColumn](#getcolumn).

## <a name="clistctrlsetcolumnorderarray"></a><a name="setcolumnorderarray"></a>CListCtrl::SetColumnOrderArray

Définit l’ordre de colonne (de gauche à droite) d’un contrôle de vue de liste.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Paramètres

*piArray piArray*<br/>
Pointeur d’un tampon contenant les valeurs indiciels des colonnes dans le contrôle de la liste (de gauche à droite). Le tampon doit être suffisamment grand pour contenir le nombre total de colonnes dans le contrôle de vue de liste.

*iCompte*<br/>
Nombre de colonnes dans le contrôle de vue de liste.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlsetcolumnwidth"></a><a name="setcolumnwidth"></a>CListCtrl::SetColumnWidth

Modifie la largeur d’une colonne dans la vue du rapport ou la vue de liste.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Paramètres

*nCol (en)*<br/>
Index de la colonne pour laquelle la largeur doit être définie. En vue de liste, ce paramètre doit être 0.

*Cx*<br/>
Nouvelle largeur de la colonne. Peut être LVSCW_AUTOSIZE ou LVSCW_AUTOSIZE_USEHEADER, comme décrit dans [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) dans le SDK Windows.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

## <a name="clistctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CListCtrl::SetExtendedStyle

Définit les styles étendus actuels d’un contrôle de vue de liste.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Paramètres

*dwNewStyle (en)*<br/>
Une combinaison de styles étendus à utiliser par le contrôle de vue de liste. Pour une liste descriptive de ces styles, voir le sujet [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) dans le Windows SDK.

### <a name="return-value"></a>Valeur de retour

Une combinaison des styles étendus précédents utilisés par le contrôle de vue de liste.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="clistctrlsetgroupinfo"></a><a name="setgroupinfo"></a>CListCtrl::SetGroupInfo

Définit les informations qui décrivent le groupe spécifié du contrôle de la liste actuelle.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Paramètres

*iGroupId iGroupId*<br/>
L’identifiant du groupe dont l’information est définie.

*pgrp*<br/>
Pointeur vers une structure [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) qui contient les informations à définir. L’appelant est responsable de l’attribution de cette structure et de l’établissement de ses membres.

### <a name="return-value"></a>Valeur de retour

L’ID du groupe si la méthode est réussie; sinon, -1.

### <a name="remarks"></a>Notes

Cette méthode envoie le [message LVM_SETGROUPINFO,](/windows/win32/Controls/lvm-setgroupinfo) qui est décrit dans le SDK Windows.

## <a name="clistctrlsetgroupmetrics"></a><a name="setgroupmetrics"></a>CListCtrl::SetGroupMetrics

Définit les paramètres de groupe d’un contrôle de vue de liste.

```cpp
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Paramètres

*pGroupMétrie*<br/>
Un pointeur d’une structure [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenant les informations de métriques du groupe à définir.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_SETGROUPMETRICS,](/windows/win32/Controls/lvm-setgroupmetrics) tel que décrit dans le SDK Windows.

## <a name="clistctrlsethotcursor"></a><a name="sethotcursor"></a>CListCtrl::SetHotCursor

Définit le curseur utilisé lorsque le suivi à chaud est activé pour un contrôle de vue de liste.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Paramètres

*Hc*<br/>
Une poignée à une ressource curseur, utilisée pour représenter le curseur chaud.

### <a name="return-value"></a>Valeur de retour

La poignée de la ressource curseur chaud précédente utilisée par le contrôle de vue de liste.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), tel que décrit dans le SDK Windows.

Le curseur chaud, seulement visible lorsque la sélection de vol stationnaire est activée, apparaît lorsque le curseur passe sur n’importe quel élément de vue de liste. La sélection hover est activée en définissant le style LVS_EX_TRACKSELECT étendu.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetHotCursor](#gethotcursor).

## <a name="clistctrlsethotitem"></a><a name="sethotitem"></a>CListCtrl::SetHotItem

Définit l’élément chaud actuel d’un contrôle de vue de liste.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Paramètres

*iIndex (en)*<br/>
Indice zéro de l’élément à définir comme l’élément chaud.

### <a name="return-value"></a>Valeur de retour

L’indice zéro de l’article précédemment chaud.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetHotItem](#gethotitem).

## <a name="clistctrlsethovertime"></a><a name="sethovertime"></a>CListCtrl::SetHoverTime

Définit l’heure de vol stationnaire actuelle d’un contrôle de vue de liste.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Paramètres

*dwHoverTime*<br/>
Le nouveau délai, en millisecondes, que le curseur de souris doit planer au-dessus d’un élément avant qu’il ne soit sélectionné. Si la valeur par défaut est passée, le temps est défini pour le temps de vol stationnaire par défaut.

### <a name="return-value"></a>Valeur de retour

Le temps de vol stationnaire précédent, en millisecondes.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetHoverTime](#gethovertime).

## <a name="clistctrlseticonspacing"></a><a name="seticonspacing"></a>CListCtrl::SetIconSpacing

Définit l’espacement entre les icônes dans un contrôle de vue de liste.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Paramètres

*Cx*<br/>
La distance (en pixels) entre les icônes sur l’axe x.

*Cy*<br/>
La distance (en pixels) entre les icônes sur l’axe y.

*size*<br/>
Un `CSize` objet spécifiant la distance (en pixels) entre les icônes sur les x- et y-axes.

### <a name="return-value"></a>Valeur de retour

Un objet [CSize](../../atl-mfc-shared/reference/csize-class.md) contenant les valeurs précédentes pour l’espacement des icônes.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="clistctrlsetimagelist"></a><a name="setimagelist"></a>CListCtrl::SetImageList

Assigne une liste d’images à un contrôle de vue de liste.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Paramètres

*pImageList (en)*<br/>
Pointeur vers la liste d’images à attribuer.

*nImageListType (en)*<br/>
Type de liste d’images. Il peut s'agir d'une des valeurs suivantes :

- LVSIL_NORMAL Liste d’images avec de grandes icônes.

- LVSIL_SMALL Liste d’images avec de petites icônes.

- LVSIL_STATE Liste d’images avec des images d’état.

### <a name="return-value"></a>Valeur de retour

Un pointeur à la liste d’images précédente.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetImageList](#getimagelist).

## <a name="clistctrlsetinfotip"></a><a name="setinfotip"></a>CListCtrl::SetInfoTip

Définit le texte de l’outiltip.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Paramètres

*plvInfoTip*<br/>
Un pointeur vers une structure [LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne TRUE sur le succès, FALSE sur l’échec.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_SETINFOTIP,](/windows/win32/Controls/lvm-setinfotip) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetinsertmark"></a><a name="setinsertmark"></a>CListCtrl::SetInsertMark

Définit le point d’insertion à la position définie.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Paramètres

*plvim plvim*<br/>
Un pointeur vers une structure [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) précisant où définir le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne VRAI en cas de succès, ou FALSE autrement. FALSE est retourné si `cbSize` la taille `LVINSERTMARK` du membre de la structure n’égale pas la taille réelle de la structure, ou lorsqu’un point d’insertion ne s’applique pas dans la vue actuelle.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_SETINSERTMARK,](/windows/win32/Controls/lvm-setinsertmark) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CListCtrl::SetInsertMarkColor

Définit la couleur du point d’insertion.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Paramètres

*Couleur*<br/>
Une structure [COLORREF](/windows/win32/gdi/colorref) spécifiant la couleur pour définir le point d’insertion.

### <a name="return-value"></a>Valeur de retour

Retourne `COLORREF` une structure contenant la couleur précédente.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_SETINSERTMARKCOLOR,](/windows/win32/Controls/lvm-setinsertmarkcolor) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetitem"></a><a name="setitem"></a>CListCtrl::SetItem

Définit une partie ou la totalité des attributs d’un élément de vue de liste.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Paramètres

*pItem (en)*<br/>
Adresse d’une structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) qui contient les attributs du nouvel élément, tel que décrit dans le SDK Windows. La structure `iItem` et `iSubItem` les membres identifient l’élément ou `mask` le subitem, et le membre de la structure spécifie les attributs à définir. Pour plus d’informations sur le `mask` membre, voir les **remarques**.

*nItem (en)*<br/>
Index de l’élément dont les attributs doivent être définis.

*nSubItem (en)*<br/>
Index du subitem dont les attributs doivent être définis.

*nMask (nMask)*<br/>
Précise quels attributs doivent être définis (voir les remarques).

*lpszItem (en)*<br/>
Adresse d’une chaîne non terminée spécifiant l’étiquette de l’article.

*nImage (en)*<br/>
Index de l’image de l’élément dans la liste d’images.

*nState (États-Unis)*<br/>
Spécifie les valeurs pour les États à changer (voir les remarques).

*nStateMask (en)*<br/>
Précise quels états doivent être modifiés (voir les remarques).

*lParam*<br/>
Une valeur spécifique à l’application 32 bits à associer à l’article.

*nIndent*<br/>
Largeur, en pixels, de l’indentation. Si *nIndent* est inférieur à la largeur minimale définie par le système, la nouvelle largeur est définie au minimum défini par le système

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Les `iItem` `iSubItem` et les `LVITEM` membres de la structure et les paramètres *nItem* et *nSubItem* identifient l’élément et le subitem dont les attributs doivent être définis.

Le `mask` membre `LVITEM` de la structure et le paramètre *nMask* précisent quels attributs d’élément doivent être définis :

- LVIF_TEXT Le `pszText` membre ou le paramètre *lpszItem* est l’adresse d’une chaîne non terminée; le `cchTextMax` membre est ignoré.

- LVIF_STATE Le `stateMask` paramètre membre ou *nStateMask* précise quel élément `state` indique modifier et le paramètre membre ou *nState* contient les valeurs de ces États.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:HitTest](#hittest).

## <a name="clistctrlsetitemcount"></a><a name="setitemcount"></a>CListCtrl::SetItemCount

Prépare un contrôle de vue de liste pour l’ajout d’un grand nombre d’éléments.

```cpp
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Paramètres

*nItems (en)*<br/>
Nombre d’éléments que le contrôle contiendra en fin de compte.

### <a name="remarks"></a>Notes

Pour définir le nombre d’éléments pour un contrôle de vue de liste virtuelle, voir [CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemcountex"></a><a name="setitemcountex"></a>CListCtrl::SetItemCountEx

Définit le nombre d’éléments pour un contrôle de vue de liste virtuelle.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Paramètres

*iCompte*<br/>
Nombre d’éléments que le contrôle contiendra en fin de compte.

*dwFlags*<br/>
Spécifie le comportement du contrôle de la vue de liste après la réinitialisation du nombre d’éléments. Cette valeur peut être une combinaison de ce qui suit :

- LVSICF_NOINVALIDATEALL Le contrôle de la vue de liste ne repeindra pas à moins que les éléments touchés ne soient actuellement en vue. Il s’agit de la valeur par défaut.

- LVSICF_NOSCROLL Le contrôle de vue de liste ne modifiera pas la position de défilement lorsque le nombre d’éléments change.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), comme décrit dans le SDKand Windows ne devrait être appelé pour les vues de liste virtuelle.

### <a name="example"></a>Exemple

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemdata"></a><a name="setitemdata"></a>CListCtrl::SetItemData

Définit la valeur spécifique à l’application 32 bits associée à l’élément spécifié par *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément de liste dont les données doivent être définies.

*dwData dwData*<br/>
Une valeur 32 bits à associer à l’article.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro cas de réussite ; sinon, 0.

### <a name="remarks"></a>Notes

Cette valeur `lParam` est le membre de la structure [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="clistctrlsetitemindexstate"></a><a name="setitemindexstate"></a>CListCtrl::SetItemIndexState

Définit l’état d’un élément dans le contrôle actuel de la liste.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pItemIndex*|[dans] Pointeur vers une structure [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) qui décrit un élément. L’appelant est responsable de l’attribution de cette structure et de l’établissement de ses membres.|
|*dwState (en)*|[dans] L’état pour définir l’article, qui est une combinaison peu sage des [états d’élément](/windows/win32/Controls/list-view-item-states)de vue de liste . Spécifier zéro pour réinitialiser, ou un pour définir, un état.|
|*dwMask*|[dans] Un masque des bits valides de l’état spécifié par le paramètre *dwState.* Spécifier une combinaison bitwise (OU) des états de [l’élément](/windows/win32/Controls/list-view-item-states)de vue de liste .|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

Pour plus d’informations sur le paramètre *dwState,* voir [Liste Afficher les états d’élément](/windows/win32/Controls/list-view-item-states).

Pour plus d’informations sur le paramètre *dwMask,* voir le membre *stateMask* de la structure [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

Cette méthode envoie le [message LVM_SETITEMINDEXSTATE,](/windows/win32/Controls/lvm-setitemindexstate) qui est décrit dans le SDK Windows.

## <a name="clistctrlsetitemposition"></a><a name="setitemposition"></a>CListCtrl::SetItemPosition

Déplace un élément à une position spécifiée dans un contrôle de vue de liste.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément dont la position doit être définie.

*Pt*<br/>
Une structure [POINT](/windows/win32/api/windef/ns-windef-point) spécifiant la nouvelle position, en vue des coordonnées, du coin supérieur gauche de l’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Le contrôle doit être dans l’icône ou la vue d’icône petite.

Si le contrôle de vue de liste a le style LVS_AUTOARRANGE, la vue de liste est organisée après que la position de l’élément est définie.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetItemPosition](#getitemposition).

## <a name="clistctrlsetitemstate"></a><a name="setitemstate"></a>CListCtrl::SetItemState

Modifie l’état d’un élément dans un contrôle de vue de liste.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément dont l’état doit être défini.

*pItem (en)*<br/>
Adresse d’une structure [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) telle que décrite dans le SDK Windows. Le membre `stateMask` de la structure précise quels bits d’état `state` à changer, et le membre de la structure contient les nouvelles valeurs pour ces bits. Les autres membres sont ignorés.

*nState (États-Unis)*<br/>
De nouvelles valeurs pour l’État bits. Pour une liste de valeurs possibles, voir [CListCtrl:GetNextItem](#getnextitem) et le membre de l’État [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*nMask (nMask)*<br/>
Masque spécifiant quels bits d’état changer. Cette valeur correspond au membre stateMask de la structure [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

L'« état » d’un élément est une valeur qui spécifie la disponibilité de l’élément, indique les actions de l’utilisateur ou reflète autrement l’état de l’élément. Un contrôle de vue de liste modifie certains bits d’état, par exemple lorsque l’utilisateur sélectionne un élément. Une application peut modifier d’autres bits d’état pour désactiver ou masquer l’élément, ou pour spécifier une image de superposition ou une image d’état.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetTopIndex](#gettopindex).

## <a name="clistctrlsetitemtext"></a><a name="setitemtext"></a>CListCtrl::SetItemText

Modifications du texte d’un élément de vue de liste ou d’un subitem.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément dont le texte doit être défini.

*nSubItem (en)*<br/>
Index du subitem, ou zéro pour définir l’étiquette de l’article.

*lpszText*<br/>
Pointeur vers une chaîne qui contient le nouveau texte d’élément.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette méthode n’est pas destinée à une utilisation avec des contrôles contenant le style de fenêtre LVS_OWNERDATA (en fait, cela provoquera une affirmation dans Debug construit). Pour plus d’informations sur ce style de contrôle de liste, voir [List-View Controls Overview](/windows/win32/Controls/list-view-controls-overview).

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:InsertItem](#insertitem).

## <a name="clistctrlsetoutlinecolor"></a><a name="setoutlinecolor"></a>CListCtrl::SetOutlineColor

Définit la couleur de la bordure d’un contrôle de la vue de liste si [le](/windows/win32/Controls/list-view-window-styles) LVS_EX_BORDERSELECT style de fenêtre étendu est défini.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Paramètres

*Couleur*<br/>
La nouvelle structure [COLORREF](/windows/win32/gdi/colorref) contenant la couleur du contour.

### <a name="return-value"></a>Valeur de retour

La `COLORREF` structure précédente contenant la couleur de contour

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_SETOUTLINECOLOR,](/windows/win32/Controls/lvm-setoutlinecolor) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetselectedcolumn"></a><a name="setselectedcolumn"></a>CListCtrl::SetSelectedColumn

Définit la colonne sélectionnée du contrôle de vue de liste.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Paramètres

*iCol (en)*<br/>
L’index de la colonne à sélectionner.

### <a name="return-value"></a>Valeur de retour

La valeur de retour n’est pas utilisée.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_SETSELECTEDCOLUMN,](/windows/win32/Controls/lvm-setselectedcolumn) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetselectionmark"></a><a name="setselectionmark"></a>CListCtrl::SetSelectionMark

Définit la marque de sélection d’un contrôle de vue de liste.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Paramètres

*iIndex (en)*<br/>
L’index zéro du premier élément dans une sélection multiple.

### <a name="return-value"></a>Valeur de retour

La marque de sélection précédente, ou -1 s’il n’y avait pas de marque de sélection.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetSelectionMark](#getselectionmark).

## <a name="clistctrlsettextbkcolor"></a><a name="settextbkcolor"></a>CListCtrl::SetTextBkColor

Définit la couleur de fond du texte dans un contrôle de vue de liste.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*Cr*<br/>
Un COLORREF spécifiant la nouvelle couleur de fond de texte. Pour plus d’informations, voir [COLORREF](/windows/win32/gdi/colorref) dans windows SDK.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="clistctrlsettextcolor"></a><a name="settextcolor"></a>CListCtrl::SetTextColor

Définit la couleur de texte d’un contrôle de vue de liste.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Paramètres

*Cr*<br/>
Un COLORREF spécifiant la nouvelle couleur de texte. Pour plus d’informations, voir [COLORREF](/windows/win32/gdi/colorref) dans windows SDK.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="example"></a>Exemple

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="clistctrlsettileinfo"></a><a name="settileinfo"></a>CListCtrl::SetTileInfo

Définit les informations pour une tuile du contrôle de vue de liste.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Paramètres

*pTileInfo (en anglais)*<br/>
Un pointeur vers une structure [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne TRUE sur le succès, FALSE sur l’échec.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_SETTILEINFO,](/windows/win32/Controls/lvm-settileinfo) tel que décrit dans le SDK Windows.

## <a name="clistctrlsettileviewinfo"></a><a name="settileviewinfo"></a>CListCtrl::SetTileViewInfo

Définit les informations qu’une liste de contrôle de vue utilise dans la vue de tuiles.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Paramètres

*ptvi ptvi*<br/>
Un pointeur vers une structure [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) contenant les informations à définir.

### <a name="return-value"></a>Valeur de retour

Retourne TRUE sur le succès, FALSE sur l’échec.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du message [LVM_SETTILEVIEWINFO,](/windows/win32/Controls/lvm-settileviewinfo) tel que décrit dans le SDK Windows.

## <a name="clistctrlsettooltips"></a><a name="settooltips"></a>CListCtrl::SetToolTips

Définit le contrôle de la pointe d’outil que le contrôle de vue de liste utilisera pour afficher les outils.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Paramètres

*pWndTip*<br/>
Un pointeur `CToolTipCtrl` à un objet que le contrôle de liste utilisera.

### <a name="return-value"></a>Valeur de retour

Un pointeur à un objet [CToolTipCtrl](ctooltipctrl-class.md) contenant la boîte à outils précédemment utilisée par le contrôle, ou NULL si aucune boîte à outils n’a été utilisée auparavant.

### <a name="remarks"></a>Notes

Cette fonction de membre implémente le comportement du message Win32 [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips), tel que décrit dans le SDK Windows.

Pour ne pas utiliser les outils, indiquez le `CListCtrl` style LVS_NOTOOLTIPS lorsque vous créez l’objet.

## <a name="clistctrlsetview"></a><a name="setview"></a>CListCtrl::SetView

Définit la vue du contrôle de la vue de liste.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Paramètres

*Iview*<br/>
La vue à sélectionner.

### <a name="return-value"></a>Valeur de retour

Retourne 1 en cas de succès, ou -1 autrement. Par exemple, -1 est retourné si la vue est invalide.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_SETVIEW,](/windows/win32/Controls/lvm-setview) tel que décrit dans le SDK Windows.

## <a name="clistctrlsetworkareas"></a><a name="setworkareas"></a>CListCtrl::SetWorkAreas

Définit la zone où les icônes peuvent être affichées dans un contrôle de vue de liste.

```cpp
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Paramètres

*nWorkAreas (en)*<br/>
Le nombre `RECT` de structures (ou [d’objets CRect)](../../atl-mfc-shared/reference/crect-class.md) dans le tableau indiqué par *lpRect*.

*lpRect*<br/>
L’adresse d’un tableau `CRect` de structures (ou d’objets) `RECT` qui spécifient les nouveaux domaines de travail du contrôle de la liste. Ces zones doivent être spécifiées dans les coordonnées des clients. Si ce paramètre est NULL, la zone de travail sera définie à la zone client du contrôle.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="clistctrlsortgroups"></a><a name="sortgroups"></a>CListCtrl::SortGroups

Utilise une fonction de comparaison définie par l’application pour trier les groupes par ID dans un contrôle de vue de liste.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Paramètres

*_pfnGroupCompare*<br/>
Un pointeur à la fonction de comparaison de groupe.

*_plv*<br/>
Un pointeur vide.

### <a name="return-value"></a>Valeur de retour

Retourne TRUE sur le succès, FALSE sur l’échec.

### <a name="remarks"></a>Notes

Cette fonction de membre imite la fonctionnalité du [message LVM_SORTGROUPS,](/windows/win32/Controls/lvm-sortgroups) tel que décrit dans le SDK Windows.

## <a name="clistctrlsortitems"></a><a name="sortitems"></a>CListCtrl::SortItems

Trisez les éléments de vue de liste en utilisant une fonction de comparaison définie par l’application.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

*pfnCompare*<br/>
[dans] Adresse de la fonction de comparaison définie par l’application.

L’opération de tri appelle la fonction de comparaison chaque fois que l’ordre relatif de deux éléments de liste doit être déterminé. La fonction de comparaison doit être soit un membre statique d’une classe, soit une fonction autonome qui n’est membre d’aucune classe.

*dwData dwData*<br/>
[dans] Valeur définie par l’application qui est transmise à la fonction de comparaison.

### <a name="return-value"></a>Valeur de retour

VRAI si la méthode réussit; autrement FALSE.

### <a name="remarks"></a>Notes

Cette méthode modifie l’index de chaque élément pour refléter la nouvelle séquence.

La fonction de comparaison, *pfnCompare*, a la forme suivante:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

La fonction de comparaison doit retourner une valeur négative si le premier élément doit précéder le second, une valeur positive si le premier élément doit suivre le second, ou zéro si les deux éléments sont égaux.

Le paramètre *lParam1* est la valeur 32 bits associée au premier élément qui est comparé, et le paramètre *lParam2* est la valeur associée au deuxième élément. Ce sont les valeurs qui ont été spécifiées dans le membre *lParam* de la structure [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) des articles lorsqu’ils ont été insérés dans la liste. Le *paramètre lParamSort* est le même que la valeur *dwData.*

Cette méthode envoie le [message LVM_SORTITEMS,](/windows/win32/Controls/lvm-sortitems) qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

Ce qui suit est une fonction de comparaison simple qui entraîne le tri des éléments par leurs valeurs *lParam.*

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="clistctrlsortitemsex"></a><a name="sortitemsex"></a>CListCtrl::SortItemsEx

Trie les éléments du contrôle de la liste actuelle en utilisant une fonction de comparaison définie par l’application.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Paramètres

|Paramètre|Description|
|---------------|-----------------|
|*pfnCompare*|[dans] Adresse de la fonction de comparaison définie par l’application.<br /><br /> L’opération de tri appelle la fonction de comparaison chaque fois que l’ordre relatif de deux éléments de liste doit être déterminé. La fonction de comparaison doit être soit un membre statique d’une classe, soit une fonction autonome qui n’est membre d’aucune classe.|
|*dwData dwData*|[dans] Valeur définie par l’application transmise à la fonction de comparaison.|

### <a name="return-value"></a>Valeur de retour

VRAI si cette méthode est réussie; autrement, FALSE.

### <a name="remarks"></a>Notes

Cette méthode modifie l’index de chaque élément pour refléter la nouvelle séquence.

La fonction de comparaison, *pfnCompare*, a la forme suivante:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Ce message est comme [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), sauf pour le type d’information transmise à la fonction de comparaison. En [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), *lParam1* et *lParam2* sont les valeurs des éléments à comparer. En [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex), *lParam1* est l’indice actuel du premier élément à comparer et *lParam2* est l’indice actuel du deuxième élément. Vous pouvez envoyer un [message LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) pour récupérer plus d’informations sur un élément.

La fonction de comparaison doit retourner une valeur négative si le premier élément doit précéder le second, une valeur positive si le premier élément doit suivre le second, ou zéro si les deux éléments sont égaux.

> [!NOTE]
> Pendant le processus de tri, le contenu de la liste est instable. Si la fonction de rappel envoie des messages au contrôle de la liste autre que [LVM_GETITEM,](/windows/win32/Controls/lvm-getitem)les résultats sont imprévisibles.

Cette méthode envoie le [message LVM_SORTITEMSEX,](/windows/win32/Controls/lvm-sortitemsex) qui est décrit dans le SDK Windows.

### <a name="example"></a>Exemple

L’exemple de code suivant `m_listCtrl`définit une variable, qui est utilisée pour accéder au contrôle de la vue de liste actuelle. Cette variable est utilisée dans l'exemple suivant.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Exemple

L’exemple de code `SortItemEx` suivant montre la méthode. Dans une section antérieure de cet exemple de code, nous avons créé un contrôle de liste qui affiche deux colonnes intitulées "ClientID" et "Grade" dans une vue de rapport. L’exemple de code suivant trie le tableau en utilisant les valeurs de la colonne « Grade ».

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="clistctrlsubitemhittest"></a><a name="subitemhittest"></a>CListCtrl::SubItemHitTest

Détermine l’élément de vue de liste, le cas échéant, se trouve à une position donnée.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Paramètres

*pInfo (en anglais)*<br/>
Un pointeur à la structure [LVHITTESTINFO.](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)

### <a name="return-value"></a>Valeur de retour

L’index à une seule base de l’élément, ou subitem, testé (le cas échéant), ou -1 autrement.

### <a name="remarks"></a>Notes

Cette fonction membre implémente le comportement de la macro Win32, [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), tel que décrit dans le SDK Windows.

### <a name="example"></a>Exemple

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="clistctrlupdate"></a><a name="update"></a>CListCtrl::Mise à jour

Force le contrôle de vue de liste pour repeindre l’élément spécifié par *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Paramètres

*nItem (en)*<br/>
Index de l’élément à mettre à jour.

### <a name="return-value"></a>Valeur de retour

Valeur différente de zéro en cas de réussite ; sinon, zéro.

### <a name="remarks"></a>Notes

Cette fonction organise également le contrôle de vue de liste si elle a le style LVS_AUTOARRANGE.

### <a name="example"></a>Exemple

Voir l’exemple pour [CListCtrl:GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Voir aussi

[MFC Échantillon ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[CWnd, classe](cwnd-class.md)<br/>
[Graphique hiérarchique](../hierarchy-chart.md)<br/>
[CImageList, classe](cimagelist-class.md)
