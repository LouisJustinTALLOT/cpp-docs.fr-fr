---
title: C26438
ms.date: 11/15/2017
ms.topic: conceptual
f1_keywords:
- C26438
helpviewer_keywords:
- C26438
ms.assetid: c7b3f59c-fb2f-4816-bda4-0fad23c80d83
ms.openlocfilehash: 53b13bb06d112ccd7e36004766e7be8b205f06d0
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/14/2020
ms.locfileid: "81369553"
---
# <a name="c26438-no_goto"></a>C26438 NO_GOTO

"Éviter." `goto`

**Lignes directrices de base**de CMD :
ES.76: Évitez goto

L’utilisation `goto` de est largement considéré comme une pratique dangereuse et sujette aux erreurs. Il est acceptable uniquement dans le code généré, comme dans un analyseur généré à partir d’une grammaire. Avec les caractéristiques et les services publics modernes de CMD `goto` fournis par la Bibliothèque de soutien aux lignes directrices, il devrait être facile à éviter tout à fait.

## <a name="remarks"></a>Notes

- Cette règle met en `goto`garde sur toute occurrence de , même si elle se produit dans le code mort, sauf le code de modèle qui n’est jamais utilisé et par conséquent ignoré par compilateur.
- Les avertissements peuvent `goto`se multiplier lorsqu’une macro contient . Les mécanismes de déclaration actuels indiquent tous les cas où une telle macro s’élargit. Il peut souvent être fixé en un seul endroit en changeant la macro, ou en évitant son utilisation en faveur de mécanismes plus maintenables.

## <a name="example"></a>Exemple

'goto clean'' en macro

```cpp
#define ENSURE(E, L) if (!(E)) goto L;

void poll(connection &c)
{
    ENSURE(c.open(), end);                  // C26438

    while (c.wait())
    {
        connection::header h{};
        connection::signature s{};
        ENSURE(c.read_header(h), end);      // C26438
        ENSURE(c.read_signature(s), end);   // C26438
        // ...
    }

end:
    c.close();
}
```

'goto clean-up' en macro - remplacé par gsl::enfin

```cpp
void poll(connection &c)
{
    auto end = gsl::finally([&c] { c.close(); });

    if (!c.open())
        return;

    while (c.wait())
    {
        connection::header h{};
        connection::signature s{};
        if(!c.read_header(h))
            return;
       if(!c.read_signature(s))
            return;
        // ...
    }
}
```
