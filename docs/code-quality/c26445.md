---
title: C26445
ms.date: 03/22/2018
ms.topic: reference
f1_keywords:
- C26445
helpviewer_keywords:
- C26445
ms.openlocfilehash: 8d0f2425b26f7f7cbf87f2925172f0d7a636c9b5
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/14/2020
ms.locfileid: "81369871"
---
# <a name="c26445-no_span_ref"></a>C26445 NO_SPAN_REF

Une référence `gsl::span` `std::string_view` à ou peut être une indication d’un problème à vie.

## <a name="c-core-guidelines"></a>Lignes directrices de base de CMD

[GSL.view: Vues](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#gslview-views)

Cette règle attrape des problèmes subtils de durée de vie qui peuvent se produire dans le code migré des conteneurs standard à de nouveaux types de portée et de vue. Ces types peuvent être considérés comme des « références aux tampons ». L’utilisation d’une référence à une portée ou à une vue crée une couche supplémentaire d’indirection. Une telle indirection est souvent inutile et peut prêter à confusion pour les responsables. Les travées sont bon marché à copier et peuvent être retournées par valeur à partir d’appels de fonction. De toute évidence, ces résultats d’appel ne devraient jamais être référencés.

## <a name="remarks"></a>Notes

- La règle détecte les références à gsl::span<>, gsl::basic_string_span<>, et std::basic_string_view<>  (y compris les alias à des instantanéisations).
- Actuellement, les avertissements ne sont émis que sur les déclarations et les déclarations de retour. Cette règle peut être étendue à l’avenir aux paramètres de fonction de drapeau.
- La mise en œuvre de cette règle est légère ne tente pas de retracer les durées de vie réelles. L’utilisation de références peut encore avoir un sens dans certains scénarios. Dans de tels cas, les faux positifs peuvent être supprimés en toute sécurité.

## <a name="example-reference-to-a-temporary"></a>Exemple : Référence à un

```cpp
// Old API - uses string reference to avoid data copy.
const std::string& get_working_directory() noexcept;

// New API – after migration to C++17 it uses string view.
std::string_view get_working_directory() noexcept;

// ...
// Client code which places an explicit reference in a declaration with auto specifier.
const auto &wd = get_working_directory(); // C26445 after API update.
```
