---
title: Avertissement du compilateur C4477
ms.date: 02/16/2018
f1_keywords:
- C4477
helpviewer_keywords:
- C4477
ms.openlocfilehash: 43867f65c380cb67d2174947fe0159011c13f126
ms.sourcegitcommit: 8762a3f9b5476b4dee03f0ee8064ea606550986e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/04/2019
ms.locfileid: "74810689"
---
# <a name="compiler-warning-level-1-c4477"></a>Avertissement du compilateur (niveau 1) C4477

> '*fonction*' : la chaîne de mise en forme'*chaîne*'requiert un argument de type'*type*', mais le *numéro* d’argument variadiques a le type'*type*'

Le compilateur a détecté une incompatibilité entre le type d’argument requis pour satisfaire l’espace réservé dans une chaîne de format et le type d’argument fourni. Pour utiliser correctement les familles printf et scanf des fonctions variadiques, vous devez fournir des arguments des types spécifiés par la chaîne de format. Une incompatibilité signifie généralement qu’il existe un bogue dans votre code.

Pour plus d’informations sur les arguments associés aux espaces réservés de chaîne de format de famille printf, consultez [syntaxe de spécification de format : fonctions printf et wprintf](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). Consultez la documentation pour obtenir des informations spécifiques à la *fonction*function.

Cet avertissement est une nouveauté de Visual Studio 2015.

## <a name="example"></a>Exemple

Cet exemple montre deux avertissements C4477 pour la première fonction printf_s, lorsque deux arguments sont de type incorrect, et montre également comment résoudre les problèmes.

```cpp
// C4477p.cpp
// compile with: cl /c /W4 C4477p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes int and double arguments %d and %f.\n", f, a); // C4477, expected int then double
    printf_s("This takes int and double arguments %d and %f.\n", a, f); // fix: types in correct order
}
```

Dans le premier message d’erreur, le compilateur détecte qu’un argument **double** est fourni lorsqu’un **int** est attendu. Une valeur **float** est automatiquement promue en **double** dans la liste d’arguments variadiques. Le deuxième message d’erreur indique que le compilateur attendait un argument **double** , mais qu’un **entier** a été fourni. Le compilateur ne peut pas dire que vous avez échangé l’ordre des arguments. Vous devez examiner la chaîne de format pour déterminer l’ordre réel des arguments et fournir les types d’arguments corrects.
