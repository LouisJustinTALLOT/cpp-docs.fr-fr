---
title: C4473 d’avertissement du compilateur | Microsoft Docs
ms.custom: ''
ms.date: 02/16/2018
ms.technology:
- cpp-diagnostics
ms.topic: error-reference
dev_langs:
- C++
helpviewer_keywords:
- C4473
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: e339df53b7c36f5b964debbbc115836806e32db8
ms.sourcegitcommit: 913c3bf23937b64b90ac05181fdff3df947d9f1c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/18/2018
ms.locfileid: "46045586"
---
# <a name="compiler-warning-level-1-c4473"></a>Compilateur Warning (level 1) C4473

> '*fonction*' : pas assez d’arguments passés aux espaces réservés de chaîne de format et leurs paramètres attendent *nombre* arguments variadiques, mais *nombre* ont été fournis le variadiques argument manquant *index* est requis par la chaîne de format «*format_string*' cet argument est utilisé par un spécificateur de conversion cet argument est utilisé comme largeur de champ, cet argument est utilisé un degré de précision, cet argument est utilisé comme une taille de mémoire tampon

Le compilateur a détecté une incompatibilité entre le nombre d’arguments requis pour satisfaire les espaces réservés dans une chaîne de format et le nombre d’arguments fournis. Utilisation correcte de la famille printf et scanf des fonctions variadiques, vous devez fournir autant d’arguments comme spécifié par la chaîne de format. Certains des espaces réservés nécessitent des arguments supplémentaires, pour spécifier la largeur, de précision ou de taille de mémoire tampon, mais aussi un argument pour le contenu. Une incompatibilité signifie généralement qu'il existe un bogue dans votre code.

Pour plus d’informations sur les arguments associés à des espaces réservés de chaîne de format famille printf, consultez [syntaxe de spécification de Format : fonctions printf et wprintf](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). Consultez la documentation pour plus d’informations spécifiques à la fonction *fonction*.

Cet avertissement est une nouveauté dans Visual Studio 2015.

## <a name="example"></a>Exemple

Ces show exemples avertissement C4473 peut être dû à une chaîne de format de deux façons incompatibilité avec ses arguments et montrent également comment résoudre les problèmes.

```cpp
// c4473p.cpp
// compile with: cl /c /W4 c4473p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes %*f arguments.\n", f); // C4473, missing * width argument
    printf_s("This takes %*f arguments.\n", a, f); // fix: supply width argument
}
```

Dans le premier message d’erreur, le compilateur détecte qu’un argument est manquant, mais ne peut pas déterminer si l’argument manquant est la largeur ou le contenu, le programme suppose que l’argument fourni est la première, pour la largeur, et l’argument manquant est la deuxième identité , pour le spécificateur de conversion de type. Vous devez examiner la chaîne de format pour déterminer l’argument réel manquant.

```cpp
// c4473s.cpp
// compile with: cl /c /W4 c4473s.cpp
#include <stdio.h>

void scan_func(int a, float f)
{
    char name[20];

    scanf_s("%s", &name);                // C4473, missing buffer size argument
    scanf_s("%s", &name, sizeof(name));  // fix: supply buffer size argument
}
```

Dans cet exemple, **scanf_s** requiert deux arguments pour chaque espace réservé, une pour fournir l’adresse à écrire dans et un second pour indiquer la taille de la première. Consultez la documentation pour chaque fonction de bibliothèque pour obtenir une explication des arguments requis.
